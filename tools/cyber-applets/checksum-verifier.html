<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checksum Verifier - House of Shield</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a0000 0%, #3d0000 50%, #1a0000 100%);
            color: #f5f5f5;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #7f1d1d 0%, #dc2626 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(220, 38, 38, 0.3);
            border: 2px solid #ef4444;
        }

        h1 {
            font-size: 2.5em;
            color: #fff;
            text-shadow: 0 0 20px rgba(252, 165, 165, 0.5);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #fca5a5;
            font-weight: 300;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .card {
            background: rgba(127, 29, 29, 0.3);
            border: 2px solid #dc2626;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.4);
        }

        .card h2 {
            color: #fca5a5;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid #ef4444;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            color: #fca5a5;
            margin-bottom: 8px;
            font-weight: 600;
        }

        textarea, input[type="text"] {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid #dc2626;
            border-radius: 8px;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        textarea:focus, input[type="text"]:focus {
            outline: none;
            border-color: #ef4444;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
        }

        .hash-output {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #7f1d1d;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }

        .hash-output:hover {
            border-color: #dc2626;
        }

        .hash-label {
            color: #fca5a5;
            font-weight: 700;
            font-size: 0.9em;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hash-value {
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            word-break: break-all;
            background: rgba(220, 38, 38, 0.1);
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #dc2626;
            position: relative;
        }

        .copy-btn {
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
        }

        .copy-btn:hover {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .copy-btn:active {
            transform: translateY(0);
        }

        .btn {
            background: linear-gradient(135deg, #dc2626 0%, #7f1d1d 100%);
            color: #fff;
            border: 2px solid #ef4444;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1em;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.5);
        }

        .comparison-result {
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .match {
            background: linear-gradient(135deg, #065f46 0%, #047857 100%);
            border: 2px solid #10b981;
            color: #d1fae5;
        }

        .mismatch {
            background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%);
            border: 2px solid #dc2626;
            color: #fca5a5;
        }

        .file-selector {
            background: rgba(220, 38, 38, 0.2);
            border: 2px dashed #dc2626;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-selector:hover {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
        }

        .file-selector-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .demo-files {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .demo-file {
            background: rgba(220, 38, 38, 0.2);
            border: 2px solid #dc2626;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .demo-file:hover {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
            transform: scale(1.05);
        }

        .demo-file-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #dc2626;
        }

        th {
            background: rgba(220, 38, 38, 0.3);
            color: #fca5a5;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        td {
            background: rgba(0, 0, 0, 0.3);
        }

        .security-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 700;
        }

        .badge-broken {
            background: #991b1b;
            color: #fca5a5;
        }

        .badge-weak {
            background: #ea580c;
            color: #fed7aa;
        }

        .badge-strong {
            background: #047857;
            color: #d1fae5;
        }

        .command-box {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #7f1d1d;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .command-box code {
            color: #fca5a5;
            font-size: 14px;
        }

        .use-case {
            background: rgba(220, 38, 38, 0.2);
            border-left: 4px solid #dc2626;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }

        .use-case-title {
            color: #fca5a5;
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .avalanche-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .avalanche-column {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid #dc2626;
            border-radius: 8px;
            padding: 15px;
        }

        .avalanche-column h3 {
            color: #fca5a5;
            margin-bottom: 12px;
            text-align: center;
        }

        .quiz-container {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid #dc2626;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .quiz-question {
            color: #fca5a5;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .quiz-option {
            background: rgba(220, 38, 38, 0.2);
            border: 2px solid #7f1d1d;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: rgba(239, 68, 68, 0.3);
            border-color: #dc2626;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(6, 95, 70, 0.4);
            border-color: #10b981;
        }

        .quiz-option.incorrect {
            background: rgba(127, 29, 29, 0.4);
            border-color: #dc2626;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
        }

        .quiz-feedback.correct {
            background: rgba(6, 95, 70, 0.3);
            border: 2px solid #10b981;
            color: #d1fae5;
        }

        .quiz-feedback.incorrect {
            background: rgba(127, 29, 29, 0.3);
            border: 2px solid #dc2626;
            color: #fca5a5;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.6;
            }
        }

        .calculating {
            animation: pulse 1s ease-in-out infinite;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .avalanche-demo {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Checksum Verifier</h1>
            <p class="subtitle">House of Shield - Cryptographic Hash Functions & File Integrity Verification</p>
        </header>

        <div class="grid">
            <!-- Hash Calculator -->
            <div class="card">
                <h2>Hash Calculator</h2>
                <div class="input-group">
                    <label for="hashInput">Enter Text to Hash:</label>
                    <textarea id="hashInput" rows="4" placeholder="Type or paste text here...">Hello, World!</textarea>
                </div>

                <div class="hash-output">
                    <div class="hash-label">MD5</div>
                    <div class="hash-value" id="md5Output"></div>
                    <button class="copy-btn" onclick="copyHash('md5Output')">Copy MD5</button>
                </div>

                <div class="hash-output">
                    <div class="hash-label">SHA-1</div>
                    <div class="hash-value" id="sha1Output"></div>
                    <button class="copy-btn" onclick="copyHash('sha1Output')">Copy SHA-1</button>
                </div>

                <div class="hash-output">
                    <div class="hash-label">SHA-256</div>
                    <div class="hash-value" id="sha256Output"></div>
                    <button class="copy-btn" onclick="copyHash('sha256Output')">Copy SHA-256</button>
                </div>

                <div class="hash-output">
                    <div class="hash-label">SHA-512</div>
                    <div class="hash-value" id="sha512Output"></div>
                    <button class="copy-btn" onclick="copyHash('sha512Output')">Copy SHA-512</button>
                </div>
            </div>

            <!-- Hash Comparison Tool -->
            <div class="card">
                <h2>Hash Comparison Tool</h2>
                <div class="input-group">
                    <label for="expectedHash">Expected Hash:</label>
                    <input type="text" id="expectedHash" placeholder="Paste expected hash value here...">
                </div>

                <div class="input-group">
                    <label for="actualHash">Actual Hash:</label>
                    <input type="text" id="actualHash" placeholder="Paste actual hash value here...">
                </div>

                <button class="btn" onclick="compareHashes()">Compare Hashes</button>

                <div id="comparisonResult"></div>
            </div>
        </div>

        <!-- Avalanche Effect Demo -->
        <div class="card full-width">
            <h2>Avalanche Effect Demonstration</h2>
            <p style="color: #fca5a5; margin-bottom: 20px;">
                The avalanche effect shows that even a tiny change (like adding one character) produces a completely different hash. This is a critical security property.
            </p>

            <div class="avalanche-demo">
                <div class="avalanche-column">
                    <h3>Original Text</h3>
                    <textarea id="avalancheInput1" rows="3" placeholder="Type something...">The quick brown fox</textarea>
                    <div class="hash-output" style="margin-top: 15px;">
                        <div class="hash-label">SHA-256</div>
                        <div class="hash-value" id="avalancheHash1"></div>
                    </div>
                </div>

                <div class="avalanche-column">
                    <h3>Modified Text</h3>
                    <textarea id="avalancheInput2" rows="3" placeholder="Type something...">The quick brown fox!</textarea>
                    <div class="hash-output" style="margin-top: 15px;">
                        <div class="hash-label">SHA-256</div>
                        <div class="hash-value" id="avalancheHash2"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- File Hash Simulation -->
        <div class="card full-width">
            <h2>File Hash Simulation</h2>
            <p style="color: #fca5a5; margin-bottom: 20px;">
                Select a demo file to see how file contents are hashed. In real applications, this verifies file integrity.
            </p>

            <div class="demo-files">
                <div class="demo-file" onclick="selectDemoFile('ubuntu.iso', 'Ubuntu 22.04 LTS Desktop ISO', 4700000000)">
                    <div class="demo-file-icon">üíø</div>
                    <strong>ubuntu.iso</strong><br>
                    <small>4.7 GB</small>
                </div>

                <div class="demo-file" onclick="selectDemoFile('document.pdf', 'Annual Security Report 2024', 2450000)">
                    <div class="demo-file-icon">üìÑ</div>
                    <strong>document.pdf</strong><br>
                    <small>2.45 MB</small>
                </div>

                <div class="demo-file" onclick="selectDemoFile('app.exe', 'Security Scanner Application v3.2', 15600000)">
                    <div class="demo-file-icon">‚öôÔ∏è</div>
                    <strong>app.exe</strong><br>
                    <small>15.6 MB</small>
                </div>

                <div class="demo-file" onclick="selectDemoFile('backup.zip', 'Database Backup - Dec 2024', 523000000)">
                    <div class="demo-file-icon">üóúÔ∏è</div>
                    <strong>backup.zip</strong><br>
                    <small>523 MB</small>
                </div>
            </div>

            <div id="fileHashResults" style="margin-top: 25px;"></div>
        </div>

        <div class="grid">
            <!-- Hash Algorithm Comparison -->
            <div class="card">
                <h2>Hash Algorithm Comparison</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Algorithm</th>
                            <th>Output Size</th>
                            <th>Security</th>
                            <th>Speed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>MD5</strong></td>
                            <td>128-bit (32 hex)</td>
                            <td><span class="security-badge badge-broken">Broken</span></td>
                            <td>Fast</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-1</strong></td>
                            <td>160-bit (40 hex)</td>
                            <td><span class="security-badge badge-weak">Weak</span></td>
                            <td>Fast</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-256</strong></td>
                            <td>256-bit (64 hex)</td>
                            <td><span class="security-badge badge-strong">Strong</span></td>
                            <td>Medium</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-512</strong></td>
                            <td>512-bit (128 hex)</td>
                            <td><span class="security-badge badge-strong">Strong</span></td>
                            <td>Slower</td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 20px; color: #fca5a5; font-size: 0.95em;">
                    <p><strong>Security Notes:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li><strong>MD5:</strong> Collision attacks possible - DO NOT use for security</li>
                        <li><strong>SHA-1:</strong> Deprecated for security - use SHA-256+ instead</li>
                        <li><strong>SHA-256/512:</strong> Current industry standard for cryptographic purposes</li>
                    </ul>
                </div>
            </div>

            <!-- Linux Commands Reference -->
            <div class="card">
                <h2>Linux Commands Reference</h2>

                <div class="command-box">
                    <div class="hash-label">MD5 Checksum</div>
                    <code>$ md5sum filename.txt</code>
                    <button class="copy-btn" onclick="copyCommand('md5sum filename.txt')">Copy</button>
                </div>

                <div class="command-box">
                    <div class="hash-label">SHA-1 Checksum</div>
                    <code>$ sha1sum filename.txt</code>
                    <button class="copy-btn" onclick="copyCommand('sha1sum filename.txt')">Copy</button>
                </div>

                <div class="command-box">
                    <div class="hash-label">SHA-256 Checksum</div>
                    <code>$ sha256sum filename.txt</code>
                    <button class="copy-btn" onclick="copyCommand('sha256sum filename.txt')">Copy</button>
                </div>

                <div class="command-box">
                    <div class="hash-label">SHA-512 Checksum</div>
                    <code>$ sha512sum filename.txt</code>
                    <button class="copy-btn" onclick="copyCommand('sha512sum filename.txt')">Copy</button>
                </div>

                <div class="command-box">
                    <div class="hash-label">macOS/BSD Alternative</div>
                    <code>$ shasum -a 256 filename.txt</code>
                    <button class="copy-btn" onclick="copyCommand('shasum -a 256 filename.txt')">Copy</button>
                </div>

                <div class="command-box">
                    <div class="hash-label">Verify Against Checksum File</div>
                    <code>$ sha256sum -c checksums.txt</code>
                    <button class="copy-btn" onclick="copyCommand('sha256sum -c checksums.txt')">Copy</button>
                </div>
            </div>
        </div>

        <!-- Real-World Use Cases -->
        <div class="card full-width">
            <h2>Real-World Use Cases</h2>
            <div class="grid">
                <div>
                    <div class="use-case">
                        <div class="use-case-title">üîí Software Download Verification</div>
                        <p>When downloading software (OS images, applications), vendors provide checksums. Verify the downloaded file matches the published hash to ensure it hasn't been tampered with or corrupted during download.</p>
                        <p style="margin-top: 10px; font-style: italic; color: #fca5a5;">
                            Example: Ubuntu provides SHA-256 checksums for all ISO downloads on their website.
                        </p>
                    </div>

                    <div class="use-case">
                        <div class="use-case-title">üîë Password Storage</div>
                        <p>Passwords should NEVER be stored in plain text. Instead, store a hash of the password. When a user logs in, hash their input and compare it to the stored hash. Even if the database is compromised, passwords remain protected.</p>
                        <p style="margin-top: 10px; font-style: italic; color: #fca5a5;">
                            Note: Use specialized password hashing algorithms like bcrypt, Argon2, or PBKDF2, not simple SHA-256.
                        </p>
                    </div>
                </div>

                <div>
                    <div class="use-case">
                        <div class="use-case-title">üîç Digital Forensics</div>
                        <p>In forensic investigations, hash values prove file integrity. A hash taken at the scene can be compared to the hash of the same file later to verify no tampering occurred during the investigation process.</p>
                        <p style="margin-top: 10px; font-style: italic; color: #fca5a5;">
                            Critical for maintaining chain of custody in legal proceedings.
                        </p>
                    </div>

                    <div class="use-case">
                        <div class="use-case-title">üìä File Integrity Monitoring</div>
                        <p>Security systems monitor critical system files by storing their hashes. Regular scans compare current hashes to baseline hashes to detect unauthorized modifications, indicating potential security breaches or malware.</p>
                        <p style="margin-top: 10px; font-style: italic; color: #fca5a5;">
                            Tools: AIDE, Tripwire, OSSEC use this technique.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Mode -->
        <div class="card full-width">
            <h2>Knowledge Quiz</h2>
            <div id="quizContainer"></div>
            <button class="btn" onclick="loadNextQuestion()" style="margin-top: 20px;">Next Question</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        // Hash calculation for main input
        const hashInput = document.getElementById('hashInput');
        hashInput.addEventListener('input', calculateHashes);

        // Calculate hashes on page load
        window.addEventListener('load', () => {
            calculateHashes();
            updateAvalancheDemo();
        });

        function calculateHashes() {
            const text = hashInput.value;

            // Calculate all hash types
            document.getElementById('md5Output').textContent = CryptoJS.MD5(text).toString();
            document.getElementById('sha1Output').textContent = CryptoJS.SHA1(text).toString();
            document.getElementById('sha256Output').textContent = CryptoJS.SHA256(text).toString();
            document.getElementById('sha512Output').textContent = CryptoJS.SHA512(text).toString();
        }

        // Copy hash to clipboard
        function copyHash(elementId) {
            const hashValue = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(hashValue).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = 'linear-gradient(135deg, #047857 0%, #10b981 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            });
        }

        // Copy command to clipboard
        function copyCommand(command) {
            navigator.clipboard.writeText(command).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = 'linear-gradient(135deg, #047857 0%, #10b981 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            });
        }

        // Hash comparison
        function compareHashes() {
            const expected = document.getElementById('expectedHash').value.trim().toLowerCase();
            const actual = document.getElementById('actualHash').value.trim().toLowerCase();
            const resultDiv = document.getElementById('comparisonResult');

            if (!expected || !actual) {
                resultDiv.innerHTML = '<div class="comparison-result mismatch">‚ö†Ô∏è Please enter both hash values</div>';
                return;
            }

            if (expected === actual) {
                resultDiv.innerHTML = `
                    <div class="comparison-result match">
                        ‚úÖ MATCH - Hashes are identical!
                        <br><small style="margin-top: 10px; display: block;">File integrity verified. The file has not been modified.</small>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="comparison-result mismatch">
                        ‚ùå MISMATCH - Hashes are different!
                        <br><small style="margin-top: 10px; display: block;">Warning: File may be corrupted or tampered with.</small>
                    </div>
                `;
            }
        }

        // Avalanche effect demonstration
        const avalancheInput1 = document.getElementById('avalancheInput1');
        const avalancheInput2 = document.getElementById('avalancheInput2');

        avalancheInput1.addEventListener('input', updateAvalancheDemo);
        avalancheInput2.addEventListener('input', updateAvalancheDemo);

        function updateAvalancheDemo() {
            const text1 = avalancheInput1.value;
            const text2 = avalancheInput2.value;

            const hash1 = CryptoJS.SHA256(text1).toString();
            const hash2 = CryptoJS.SHA256(text2).toString();

            document.getElementById('avalancheHash1').textContent = hash1;
            document.getElementById('avalancheHash2').textContent = hash2;

            // Highlight differences
            highlightDifferences('avalancheHash1', 'avalancheHash2');
        }

        function highlightDifferences(id1, id2) {
            const elem1 = document.getElementById(id1);
            const elem2 = document.getElementById(id2);
            const hash1 = elem1.textContent;
            const hash2 = elem2.textContent;

            if (hash1.length !== hash2.length) return;

            let highlightedHash1 = '';
            let highlightedHash2 = '';

            for (let i = 0; i < hash1.length; i++) {
                if (hash1[i] !== hash2[i]) {
                    highlightedHash1 += `<span style="background: rgba(239, 68, 68, 0.5); color: #fca5a5; font-weight: bold;">${hash1[i]}</span>`;
                    highlightedHash2 += `<span style="background: rgba(239, 68, 68, 0.5); color: #fca5a5; font-weight: bold;">${hash2[i]}</span>`;
                } else {
                    highlightedHash1 += hash1[i];
                    highlightedHash2 += hash2[i];
                }
            }

            elem1.innerHTML = highlightedHash1;
            elem2.innerHTML = highlightedHash2;
        }

        // File hash simulation
        function selectDemoFile(filename, description, size) {
            const resultsDiv = document.getElementById('fileHashResults');

            // Simulate file content based on filename and size
            const fileContent = `${filename}|${description}|${size}`;

            const md5 = CryptoJS.MD5(fileContent).toString();
            const sha1 = CryptoJS.SHA1(fileContent).toString();
            const sha256 = CryptoJS.SHA256(fileContent).toString();
            const sha512 = CryptoJS.SHA512(fileContent).toString();

            resultsDiv.innerHTML = `
                <div style="background: rgba(220, 38, 38, 0.2); border: 2px solid #dc2626; border-radius: 8px; padding: 20px;">
                    <h3 style="color: #fca5a5; margin-bottom: 15px;">File: ${filename}</h3>
                    <p style="color: #fca5a5; margin-bottom: 15px;">${description} (${formatBytes(size)})</p>

                    <div class="hash-output">
                        <div class="hash-label">MD5</div>
                        <div class="hash-value">${md5}</div>
                        <button class="copy-btn" onclick="copyText('${md5}')">Copy MD5</button>
                    </div>

                    <div class="hash-output">
                        <div class="hash-label">SHA-1</div>
                        <div class="hash-value">${sha1}</div>
                        <button class="copy-btn" onclick="copyText('${sha1}')">Copy SHA-1</button>
                    </div>

                    <div class="hash-output">
                        <div class="hash-label">SHA-256</div>
                        <div class="hash-value">${sha256}</div>
                        <button class="copy-btn" onclick="copyText('${sha256}')">Copy SHA-256</button>
                    </div>

                    <div class="hash-output">
                        <div class="hash-label">SHA-512</div>
                        <div class="hash-value">${sha512}</div>
                        <button class="copy-btn" onclick="copyText('${sha512}')">Copy SHA-512</button>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(0, 0, 0, 0.4); border-radius: 8px;">
                        <p style="color: #fca5a5; font-weight: 600; margin-bottom: 10px;">Verification Command:</p>
                        <code style="color: #fff;">$ sha256sum ${filename}</code>
                        <button class="copy-btn" onclick="copyText('sha256sum ${filename}')">Copy Command</button>
                    </div>
                </div>
            `;
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = 'linear-gradient(135deg, #047857 0%, #10b981 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            });
        }

        // Quiz functionality
        const quizQuestions = [
            {
                question: "Which hash algorithm is considered cryptographically broken and should NOT be used for security purposes?",
                options: ["SHA-256", "MD5", "SHA-512", "SHA-3"],
                correct: 1,
                explanation: "MD5 is cryptographically broken due to collision vulnerabilities. Attackers can create two different files with the same MD5 hash, making it unsuitable for security applications."
            },
            {
                question: "What is the output size of a SHA-256 hash?",
                options: ["128 bits", "160 bits", "256 bits", "512 bits"],
                correct: 2,
                explanation: "SHA-256 produces a 256-bit (32-byte) hash value, typically displayed as a 64-character hexadecimal string."
            },
            {
                question: "What is the 'avalanche effect' in cryptographic hash functions?",
                options: [
                    "Hashing becomes faster with larger inputs",
                    "Small input changes cause massive output changes",
                    "Multiple files can have the same hash",
                    "Hash algorithms cascade into each other"
                ],
                correct: 1,
                explanation: "The avalanche effect means that even a tiny change in input (like one character) produces a completely different hash output. This is crucial for security - it prevents attackers from predicting hash patterns."
            },
            {
                question: "When downloading Ubuntu ISO, you verify its checksum. What attack does this protect against?",
                options: [
                    "DDoS attacks",
                    "Man-in-the-middle tampering",
                    "SQL injection",
                    "Cross-site scripting"
                ],
                correct: 1,
                explanation: "Verifying checksums protects against man-in-the-middle attacks where an attacker might replace the legitimate file with a malicious one. If the hash doesn't match, the file has been altered."
            },
            {
                question: "Why should passwords be hashed instead of encrypted?",
                options: [
                    "Hashing is faster than encryption",
                    "Hashing is one-way; you can't reverse it to get the original password",
                    "Hashing uses less storage space",
                    "Hashing works on all operating systems"
                ],
                correct: 1,
                explanation: "Hashing is a one-way function - you cannot reverse a hash to get the original password. Encryption is two-way (you can decrypt). This means even if an attacker gets the database, they can't directly retrieve passwords."
            },
            {
                question: "What Linux command would you use to verify a file's SHA-256 checksum?",
                options: ["md5sum filename", "sha256sum filename", "hash -a 256 filename", "checksum filename"],
                correct: 1,
                explanation: "The command 'sha256sum filename' calculates and displays the SHA-256 hash of a file on Linux systems."
            },
            {
                question: "Two different files have the same hash value. What is this called?",
                options: ["Hash duplicate", "Collision", "Avalanche", "Hash overflow"],
                correct: 1,
                explanation: "A collision occurs when two different inputs produce the same hash output. Secure hash functions should make collisions computationally infeasible to find."
            },
            {
                question: "In digital forensics, why is hashing important for evidence?",
                options: [
                    "It compresses the evidence files",
                    "It proves the evidence hasn't been altered",
                    "It encrypts sensitive data",
                    "It makes files easier to transfer"
                ],
                correct: 1,
                explanation: "Hashing evidence establishes a baseline fingerprint. Any later modification will change the hash, proving tampering occurred. This maintains chain of custody for legal proceedings."
            },
            {
                question: "Which hash algorithm should you use for new security applications in 2024?",
                options: ["MD5", "SHA-1", "SHA-256 or SHA-512", "CRC32"],
                correct: 2,
                explanation: "SHA-256 and SHA-512 are currently recommended for cryptographic security. MD5 and SHA-1 are deprecated due to vulnerabilities, and CRC32 is for error detection, not security."
            },
            {
                question: "What tool would you use to monitor system file integrity against unauthorized changes?",
                options: [
                    "Firewall",
                    "Antivirus",
                    "File Integrity Monitoring (AIDE, Tripwire)",
                    "VPN"
                ],
                correct: 2,
                explanation: "File Integrity Monitoring (FIM) tools like AIDE and Tripwire create hash baselines of system files and alert when hashes change, indicating unauthorized modifications or potential compromise."
            }
        ];

        let currentQuestionIndex = 0;
        let quizAnswered = false;

        function loadNextQuestion() {
            quizAnswered = false;
            currentQuestionIndex = (currentQuestionIndex + 1) % quizQuestions.length;
            displayQuestion();
        }

        function displayQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            const container = document.getElementById('quizContainer');

            let optionsHtml = '';
            question.options.forEach((option, index) => {
                optionsHtml += `
                    <div class="quiz-option" onclick="checkAnswer(${index})">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </div>
                `;
            });

            container.innerHTML = `
                <div class="quiz-container">
                    <div class="quiz-question">
                        Question ${currentQuestionIndex + 1} of ${quizQuestions.length}: ${question.question}
                    </div>
                    ${optionsHtml}
                    <div id="quizFeedback"></div>
                </div>
            `;
        }

        function checkAnswer(selectedIndex) {
            if (quizAnswered) return;

            quizAnswered = true;
            const question = quizQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');
            const feedbackDiv = document.getElementById('quizFeedback');

            options[selectedIndex].classList.add(selectedIndex === question.correct ? 'correct' : 'incorrect');
            options[question.correct].classList.add('correct');

            if (selectedIndex === question.correct) {
                feedbackDiv.innerHTML = `
                    <div class="quiz-feedback correct">
                        ‚úÖ Correct! ${question.explanation}
                    </div>
                `;
            } else {
                feedbackDiv.innerHTML = `
                    <div class="quiz-feedback incorrect">
                        ‚ùå Incorrect. ${question.explanation}
                    </div>
                `;
            }
        }

        // Initialize quiz
        displayQuestion();
    </script>
</body>
</html>