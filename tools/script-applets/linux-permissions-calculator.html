<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Permissions Calculator - House of Script</title>
    <style>
        :root {
            --green-dark: #166534;
            --green-primary: #22c55e;
            --green-light: #86efac;
            --green-darkest: #052e16;
            --bg-dark: #0a0a0a;
            --bg-card: #1a1a1a;
            --bg-input: #2a2a2a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --border-color: #333333;
            --danger: #ef4444;
            --warning: #f59e0b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--green-darkest) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 2px solid var(--green-dark);
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.1);
        }

        h1 {
            font-size: 2.5rem;
            color: var(--green-primary);
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .tab-button:hover {
            border-color: var(--green-primary);
            color: var(--green-light);
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: var(--green-dark);
            border-color: var(--green-primary);
            color: var(--text-primary);
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Main Calculator Layout */
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .card h2 {
            color: var(--green-primary);
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Permission Grid */
        .permission-grid {
            display: grid;
            grid-template-columns: 100px repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .grid-header {
            background: var(--green-dark);
            padding: 12px;
            text-align: center;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .grid-label {
            background: var(--bg-input);
            padding: 12px;
            border-radius: 6px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .permission-cell {
            background: var(--bg-input);
            padding: 15px;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .permission-cell:hover {
            background: var(--green-darkest);
            border-color: var(--green-primary);
        }

        .permission-cell input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--green-primary);
        }

        .permission-value {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-family: 'Courier New', monospace;
        }

        /* Display Sections */
        .display-section {
            margin-bottom: 20px;
        }

        .display-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .display-value {
            background: var(--bg-input);
            padding: 15px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            color: var(--green-light);
            border: 2px solid var(--green-dark);
            text-align: center;
            letter-spacing: 2px;
        }

        .ls-display {
            font-size: 1.1rem;
            letter-spacing: 1px;
        }

        /* Visual Permission Bars */
        .permission-bars {
            margin-top: 20px;
        }

        .bar-container {
            margin-bottom: 15px;
        }

        .bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .bar-name {
            font-weight: 600;
        }

        .bar-perms {
            font-family: 'Courier New', monospace;
            color: var(--green-light);
        }

        .bar-track {
            height: 25px;
            background: var(--bg-input);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green-dark), var(--green-primary));
            border-radius: 12px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            color: white;
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
        }

        /* Reverse Calculator */
        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px 15px;
            background: var(--bg-input);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--green-primary);
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.3);
        }

        /* Presets */
        .presets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .preset-button {
            background: var(--bg-input);
            border: 2px solid var(--green-dark);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .preset-button:hover {
            background: var(--green-dark);
            border-color: var(--green-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .preset-octal {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: var(--green-primary);
            font-weight: 700;
        }

        .preset-symbolic {
            font-family: 'Courier New', monospace;
            color: var(--green-light);
            margin: 5px 0;
        }

        .preset-description {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .preset-button.dangerous {
            border-color: var(--danger);
        }

        .preset-button.dangerous:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger);
        }

        /* Command Generator */
        .command-section {
            background: var(--bg-input);
            border: 2px solid var(--green-dark);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .command-label {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .command-line {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--green-darkest);
            padding: 12px 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: var(--green-light);
            font-size: 1rem;
        }

        .copy-button {
            background: var(--green-dark);
            border: 1px solid var(--green-primary);
            color: var(--text-primary);
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .copy-button:hover {
            background: var(--green-primary);
            transform: scale(1.05);
        }

        .copy-button.copied {
            background: var(--green-primary);
        }

        /* Special Permissions */
        .special-grid {
            display: grid;
            gap: 20px;
        }

        .special-permission {
            background: var(--bg-input);
            border: 2px solid var(--green-dark);
            border-radius: 8px;
            padding: 20px;
        }

        .special-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .special-title {
            font-size: 1.2rem;
            color: var(--green-primary);
            font-weight: 700;
        }

        .special-value {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: var(--green-light);
            background: var(--green-darkest);
            padding: 8px 15px;
            border-radius: 6px;
        }

        .special-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .special-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg-card);
            border-radius: 6px;
            cursor: pointer;
        }

        .special-checkbox input {
            width: 20px;
            height: 20px;
            accent-color: var(--green-primary);
            cursor: pointer;
        }

        .special-checkbox label {
            cursor: pointer;
            font-size: 1rem;
        }

        .special-result {
            margin-top: 20px;
            padding: 20px;
            background: var(--green-darkest);
            border: 2px solid var(--green-dark);
            border-radius: 8px;
            text-align: center;
        }

        .special-result-label {
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .special-result-value {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            color: var(--green-primary);
            font-weight: 700;
            letter-spacing: 3px;
        }

        /* Quiz Mode */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-score {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            font-size: 1.2rem;
        }

        .score-item {
            background: var(--bg-input);
            padding: 15px 25px;
            border-radius: 8px;
            border: 2px solid var(--green-dark);
        }

        .score-label {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .score-value {
            color: var(--green-primary);
            font-size: 1.5rem;
            font-weight: 700;
        }

        .question-card {
            background: var(--bg-input);
            border: 2px solid var(--green-dark);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .question-number {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .answers-grid {
            display: grid;
            gap: 15px;
        }

        .answer-button {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .answer-button:hover:not(.correct):not(.incorrect):not(:disabled) {
            background: var(--green-darkest);
            border-color: var(--green-primary);
            transform: translateX(5px);
        }

        .answer-button.correct {
            background: var(--green-dark);
            border-color: var(--green-primary);
            color: var(--text-primary);
        }

        .answer-button.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--danger);
            color: var(--text-primary);
        }

        .answer-button:disabled {
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1rem;
        }

        .feedback.correct {
            background: rgba(34, 197, 94, 0.2);
            border: 2px solid var(--green-primary);
            color: var(--green-light);
        }

        .feedback.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid var(--danger);
            color: #fca5a5;
        }

        .next-button {
            background: var(--green-dark);
            border: 2px solid var(--green-primary);
            color: var(--text-primary);
            padding: 15px 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 20px;
            transition: all 0.3s ease;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .next-button:hover {
            background: var(--green-primary);
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
        }

        .quiz-complete {
            text-align: center;
            padding: 40px;
        }

        .final-score {
            font-size: 3rem;
            color: var(--green-primary);
            margin: 20px 0;
            font-weight: 700;
        }

        .restart-button {
            background: var(--green-dark);
            border: 2px solid var(--green-primary);
            color: var(--text-primary);
            padding: 15px 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .restart-button:hover {
            background: var(--green-primary);
            transform: scale(1.05);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
            }

            .permission-grid {
                grid-template-columns: 80px repeat(3, 1fr);
                gap: 5px;
            }

            .grid-header, .grid-label {
                padding: 8px;
                font-size: 0.8rem;
            }

            .permission-cell {
                padding: 10px 5px;
            }

            .display-value {
                font-size: 1.1rem;
                padding: 12px 15px;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-button {
                min-width: 100%;
            }

            .presets-grid {
                grid-template-columns: 1fr;
            }

            .quiz-score {
                flex-direction: column;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .card {
                padding: 15px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .permission-grid {
                grid-template-columns: 60px repeat(3, 1fr);
            }

            .command-line {
                flex-direction: column;
                align-items: stretch;
            }

            .copy-button {
                width: 100%;
            }
        }

        /* Utility Classes */
        .full-width {
            grid-column: 1 / -1;
        }

        .text-center {
            text-align: center;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .danger-text {
            color: var(--danger);
        }

        .warning-text {
            color: var(--warning);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Linux Permissions Calculator</h1>
            <p class="subtitle">Interactive permission calculator with octal, symbolic, and special permissions</p>
        </header>

        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('calculator')">Calculator</button>
            <button class="tab-button" onclick="switchTab('special')">Special Permissions</button>
            <button class="tab-button" onclick="switchTab('quiz')">Quiz Mode</button>
        </div>

        <!-- Calculator Tab -->
        <div id="calculator" class="tab-content active">
            <div class="calculator-grid">
                <!-- Interactive Permission Grid -->
                <div class="card full-width">
                    <h2>Interactive Permission Grid</h2>
                    <div class="permission-grid">
                        <div class="grid-header"></div>
                        <div class="grid-header">Read (r/4)</div>
                        <div class="grid-header">Write (w/2)</div>
                        <div class="grid-header">Execute (x/1)</div>

                        <div class="grid-label">Owner</div>
                        <div class="permission-cell" onclick="togglePermission('owner', 'read')">
                            <input type="checkbox" id="owner-read" checked onchange="calculatePermissions()">
                            <span class="permission-value">4</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('owner', 'write')">
                            <input type="checkbox" id="owner-write" checked onchange="calculatePermissions()">
                            <span class="permission-value">2</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('owner', 'execute')">
                            <input type="checkbox" id="owner-execute" onchange="calculatePermissions()">
                            <span class="permission-value">1</span>
                        </div>

                        <div class="grid-label">Group</div>
                        <div class="permission-cell" onclick="togglePermission('group', 'read')">
                            <input type="checkbox" id="group-read" checked onchange="calculatePermissions()">
                            <span class="permission-value">4</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('group', 'write')">
                            <input type="checkbox" id="group-write" onchange="calculatePermissions()">
                            <span class="permission-value">2</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('group', 'execute')">
                            <input type="checkbox" id="group-execute" onchange="calculatePermissions()">
                            <span class="permission-value">1</span>
                        </div>

                        <div class="grid-label">Others</div>
                        <div class="permission-cell" onclick="togglePermission('others', 'read')">
                            <input type="checkbox" id="others-read" checked onchange="calculatePermissions()">
                            <span class="permission-value">4</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('others', 'write')">
                            <input type="checkbox" id="others-write" onchange="calculatePermissions()">
                            <span class="permission-value">2</span>
                        </div>
                        <div class="permission-cell" onclick="togglePermission('others', 'execute')">
                            <input type="checkbox" id="others-execute" onchange="calculatePermissions()">
                            <span class="permission-value">1</span>
                        </div>
                    </div>
                </div>

                <!-- Display Section -->
                <div class="card">
                    <h2>Permission Display</h2>
                    <div class="display-section">
                        <div class="display-label">Octal Notation</div>
                        <div class="display-value" id="octal-display">644</div>
                    </div>
                    <div class="display-section">
                        <div class="display-label">Symbolic Notation</div>
                        <div class="display-value" id="symbolic-display">rw-r--r--</div>
                    </div>
                    <div class="display-section">
                        <div class="display-label">Full ls -l Style</div>
                        <div class="display-value ls-display" id="ls-display">-rw-r--r--</div>
                    </div>

                    <!-- Visual Permission Bars -->
                    <div class="permission-bars">
                        <div class="bar-container">
                            <div class="bar-label">
                                <span class="bar-name">Owner</span>
                                <span class="bar-perms" id="owner-bar-text">rw-</span>
                            </div>
                            <div class="bar-track">
                                <div class="bar-fill" id="owner-bar" style="width: 85.7%">6/7</div>
                            </div>
                        </div>
                        <div class="bar-container">
                            <div class="bar-label">
                                <span class="bar-name">Group</span>
                                <span class="bar-perms" id="group-bar-text">r--</span>
                            </div>
                            <div class="bar-track">
                                <div class="bar-fill" id="group-bar" style="width: 57.1%">4/7</div>
                            </div>
                        </div>
                        <div class="bar-container">
                            <div class="bar-label">
                                <span class="bar-name">Others</span>
                                <span class="bar-perms" id="others-bar-text">r--</span>
                            </div>
                            <div class="bar-track">
                                <div class="bar-fill" id="others-bar" style="width: 57.1%">4/7</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reverse Calculator -->
                <div class="card">
                    <h2>Reverse Calculator</h2>
                    <div class="input-group">
                        <label class="input-label">Enter Octal (e.g., 755)</label>
                        <input type="number" id="octal-input" placeholder="644" min="0" max="777" oninput="reverseCalculate()">
                    </div>
                    <div class="display-section">
                        <div class="display-label">Symbolic Breakdown</div>
                        <div class="display-value" id="reverse-symbolic">Enter octal above</div>
                    </div>
                    <div class="display-section">
                        <div class="display-label">Explanation</div>
                        <div style="background: var(--bg-input); padding: 15px; border-radius: 8px; color: var(--text-secondary); line-height: 1.6;" id="reverse-explanation">
                            Enter a 3-digit octal number to see the symbolic breakdown.
                        </div>
                    </div>
                </div>

                <!-- Command Generator -->
                <div class="card">
                    <h2>chmod Command Generator</h2>
                    <div class="input-group">
                        <label class="input-label">Filename (optional)</label>
                        <input type="text" id="filename-input" placeholder="myfile.txt" value="filename">
                    </div>

                    <div class="command-section">
                        <div class="command-label">Numeric Format</div>
                        <div class="command-line">
                            <span style="flex: 1;" id="numeric-command">chmod 644 filename</span>
                            <button class="copy-button" onclick="copyCommand('numeric')">Copy</button>
                        </div>
                    </div>

                    <div class="command-section">
                        <div class="command-label">Symbolic Format</div>
                        <div class="command-line">
                            <span style="flex: 1;" id="symbolic-command">chmod u=rw,g=r,o=r filename</span>
                            <button class="copy-button" onclick="copyCommand('symbolic')">Copy</button>
                        </div>
                    </div>
                </div>

                <!-- Common Presets -->
                <div class="card full-width">
                    <h2>Common Permission Presets</h2>
                    <div class="presets-grid">
                        <button class="preset-button" onclick="applyPreset(6, 4, 4)">
                            <div class="preset-octal">644</div>
                            <div class="preset-symbolic">rw-r--r--</div>
                            <div class="preset-description">Standard file - Owner can read/write, others can read</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(7, 5, 5)">
                            <div class="preset-octal">755</div>
                            <div class="preset-symbolic">rwxr-xr-x</div>
                            <div class="preset-description">Executable/directory - Owner full, others read/execute</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(7, 0, 0)">
                            <div class="preset-octal">700</div>
                            <div class="preset-symbolic">rwx------</div>
                            <div class="preset-description">Private - Only owner has all permissions</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(6, 0, 0)">
                            <div class="preset-octal">600</div>
                            <div class="preset-symbolic">rw-------</div>
                            <div class="preset-description">SSH keys - Only owner can read/write</div>
                        </button>

                        <button class="preset-button dangerous" onclick="applyPreset(7, 7, 7)">
                            <div class="preset-octal danger-text">777</div>
                            <div class="preset-symbolic">rwxrwxrwx</div>
                            <div class="preset-description danger-text">Full access - DANGEROUS! Everyone has all permissions</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(6, 4, 0)">
                            <div class="preset-octal">640</div>
                            <div class="preset-symbolic">rw-r-----</div>
                            <div class="preset-description">Group readable - Owner write, group read</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(7, 5, 0)">
                            <div class="preset-octal">750</div>
                            <div class="preset-symbolic">rwxr-x---</div>
                            <div class="preset-description">Group executable - Owner full, group read/execute</div>
                        </button>

                        <button class="preset-button" onclick="applyPreset(4, 4, 4)">
                            <div class="preset-octal">444</div>
                            <div class="preset-symbolic">r--r--r--</div>
                            <div class="preset-description">Read-only - Everyone can read, no one can write</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Special Permissions Tab -->
        <div id="special" class="tab-content">
            <div class="card">
                <h2>Special Permissions</h2>
                <p style="color: var(--text-secondary); margin-bottom: 25px;">
                    Special permissions are added as a fourth digit before the standard permission octal. They provide advanced functionality for executable files and directories.
                </p>

                <div class="special-grid">
                    <div class="special-permission">
                        <div class="special-header">
                            <div class="special-title">SUID (Set User ID)</div>
                            <div class="special-value">4000</div>
                        </div>
                        <div class="special-description">
                            When set on an executable file, the file runs with the permissions of the file owner rather than the user executing it.
                            Commonly used for programs like <code>passwd</code> that need elevated privileges.
                            Displayed as <code>s</code> in owner execute position (e.g., <code>rwsr-xr-x</code>).
                        </div>
                        <div class="special-checkbox">
                            <input type="checkbox" id="suid-checkbox" onchange="calculateSpecialPermissions()">
                            <label for="suid-checkbox">Enable SUID</label>
                        </div>
                    </div>

                    <div class="special-permission">
                        <div class="special-header">
                            <div class="special-title">SGID (Set Group ID)</div>
                            <div class="special-value">2000</div>
                        </div>
                        <div class="special-description">
                            On executables: runs with the group permissions of the file's group.
                            On directories: files created inherit the directory's group rather than the creator's primary group.
                            Displayed as <code>s</code> in group execute position (e.g., <code>rwxr-sr-x</code>).
                        </div>
                        <div class="special-checkbox">
                            <input type="checkbox" id="sgid-checkbox" onchange="calculateSpecialPermissions()">
                            <label for="sgid-checkbox">Enable SGID</label>
                        </div>
                    </div>

                    <div class="special-permission">
                        <div class="special-header">
                            <div class="special-title">Sticky Bit</div>
                            <div class="special-value">1000</div>
                        </div>
                        <div class="special-description">
                            When set on a directory, only the file owner, directory owner, or root can delete or rename files within that directory.
                            Commonly used on <code>/tmp</code> to prevent users from deleting others' files.
                            Displayed as <code>t</code> in others execute position (e.g., <code>rwxr-xr-t</code>).
                        </div>
                        <div class="special-checkbox">
                            <input type="checkbox" id="sticky-checkbox" onchange="calculateSpecialPermissions()">
                            <label for="sticky-checkbox">Enable Sticky Bit</label>
                        </div>
                    </div>
                </div>

                <div class="special-result">
                    <div class="special-result-label">Combined Special Permission Value</div>
                    <div class="special-result-value" id="special-octal">0</div>
                </div>

                <div class="mt-20">
                    <h3 style="color: var(--green-primary); margin-bottom: 15px;">Combined with Standard Permissions</h3>
                    <div class="display-section">
                        <div class="display-label">Full 4-Digit Octal (Special + Standard)</div>
                        <div class="display-value" id="full-octal">0644</div>
                    </div>
                    <div class="command-section mt-20">
                        <div class="command-label">chmod Command with Special Permissions</div>
                        <div class="command-line">
                            <span style="flex: 1;" id="special-command">chmod 0644 filename</span>
                            <button class="copy-button" onclick="copyCommand('special')">Copy</button>
                        </div>
                    </div>
                </div>

                <div class="mt-20" style="background: var(--bg-input); padding: 20px; border-radius: 8px; border: 2px solid var(--warning);">
                    <h3 style="color: var(--warning); margin-bottom: 10px;">Security Warning</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        Special permissions, particularly SUID and SGID on executables, can create security vulnerabilities if misused.
                        Only set these on trusted executables from reliable sources. A compromised SUID binary can lead to privilege escalation attacks.
                    </p>
                </div>
            </div>
        </div>

        <!-- Quiz Mode Tab -->
        <div id="quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 style="color: var(--green-primary); font-size: 2rem;">Linux Permissions Quiz</h2>
                    <div class="quiz-score">
                        <div class="score-item">
                            <div class="score-label">Question</div>
                            <div class="score-value"><span id="current-question">1</span>/<span id="total-questions">15</span></div>
                        </div>
                        <div class="score-item">
                            <div class="score-label">Correct</div>
                            <div class="score-value" id="correct-count">0</div>
                        </div>
                        <div class="score-item">
                            <div class="score-label">Score</div>
                            <div class="score-value" id="score-percentage">0%</div>
                        </div>
                    </div>
                </div>

                <div id="quiz-content">
                    <!-- Quiz questions will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Permission calculation functions
        function togglePermission(role, permission) {
            const checkbox = document.getElementById(`${role}-${permission}`);
            checkbox.checked = !checkbox.checked;
            calculatePermissions();
        }

        function calculatePermissions() {
            const owner = getPermissionValue('owner');
            const group = getPermissionValue('group');
            const others = getPermissionValue('others');

            // Update displays
            document.getElementById('octal-display').textContent = `${owner}${group}${others}`;

            const symbolic = getSymbolic(owner, group, others);
            document.getElementById('symbolic-display').textContent = symbolic;
            document.getElementById('ls-display').textContent = '-' + symbolic;

            // Update visual bars
            updateBar('owner', owner);
            updateBar('group', group);
            updateBar('others', others);

            // Update commands
            updateCommands(owner, group, others);

            // Update special permissions display
            calculateSpecialPermissions();
        }

        function getPermissionValue(role) {
            const read = document.getElementById(`${role}-read`).checked ? 4 : 0;
            const write = document.getElementById(`${role}-write`).checked ? 2 : 0;
            const execute = document.getElementById(`${role}-execute`).checked ? 1 : 0;
            return read + write + execute;
        }

        function getSymbolic(owner, group, others) {
            return octalToSymbolic(owner) + octalToSymbolic(group) + octalToSymbolic(others);
        }

        function octalToSymbolic(value) {
            const perms = ['---', '--x', '-w-', '-wx', 'r--', 'r-x', 'rw-', 'rwx'];
            return perms[value] || '---';
        }

        function updateBar(role, value) {
            const percentage = (value / 7) * 100;
            const bar = document.getElementById(`${role}-bar`);
            const text = document.getElementById(`${role}-bar-text`);

            bar.style.width = percentage + '%';
            bar.textContent = `${value}/7`;
            text.textContent = octalToSymbolic(value);
        }

        function updateCommands(owner, group, others) {
            const octal = `${owner}${group}${others}`;
            const filename = document.getElementById('filename-input').value || 'filename';

            // Numeric command
            document.getElementById('numeric-command').textContent = `chmod ${octal} ${filename}`;

            // Symbolic command
            const symbolic = generateSymbolicCommand(owner, group, others);
            document.getElementById('symbolic-command').textContent = `chmod ${symbolic} ${filename}`;
        }

        function generateSymbolicCommand(owner, group, others) {
            const ownerPerms = valueToSymbolicPerms(owner);
            const groupPerms = valueToSymbolicPerms(group);
            const othersPerms = valueToSymbolicPerms(others);

            return `u=${ownerPerms},g=${groupPerms},o=${othersPerms}`;
        }

        function valueToSymbolicPerms(value) {
            let perms = '';
            if (value & 4) perms += 'r';
            if (value & 2) perms += 'w';
            if (value & 1) perms += 'x';
            return perms || '-';
        }

        // Reverse calculator
        function reverseCalculate() {
            const input = document.getElementById('octal-input').value;

            if (input.length !== 3 || isNaN(input)) {
                document.getElementById('reverse-symbolic').textContent = 'Invalid input';
                document.getElementById('reverse-explanation').textContent = 'Please enter a valid 3-digit octal number (000-777).';
                return;
            }

            const owner = parseInt(input[0]);
            const group = parseInt(input[1]);
            const others = parseInt(input[2]);

            if (owner > 7 || group > 7 || others > 7) {
                document.getElementById('reverse-symbolic').textContent = 'Invalid input';
                document.getElementById('reverse-explanation').textContent = 'Each digit must be between 0 and 7.';
                return;
            }

            const symbolic = getSymbolic(owner, group, others);
            document.getElementById('reverse-symbolic').textContent = symbolic;

            const explanation = `
                <strong>Owner (${owner}):</strong> ${octalToSymbolic(owner)} - ${explainPermission(owner)}<br>
                <strong>Group (${group}):</strong> ${octalToSymbolic(group)} - ${explainPermission(group)}<br>
                <strong>Others (${others}):</strong> ${octalToSymbolic(others)} - ${explainPermission(others)}
            `;
            document.getElementById('reverse-explanation').innerHTML = explanation;
        }

        function explainPermission(value) {
            const perms = [];
            if (value & 4) perms.push('Read');
            if (value & 2) perms.push('Write');
            if (value & 1) perms.push('Execute');
            return perms.length > 0 ? perms.join(', ') : 'No permissions';
        }

        // Preset application
        function applyPreset(owner, group, others) {
            // Update checkboxes
            document.getElementById('owner-read').checked = !!(owner & 4);
            document.getElementById('owner-write').checked = !!(owner & 2);
            document.getElementById('owner-execute').checked = !!(owner & 1);

            document.getElementById('group-read').checked = !!(group & 4);
            document.getElementById('group-write').checked = !!(group & 2);
            document.getElementById('group-execute').checked = !!(group & 1);

            document.getElementById('others-read').checked = !!(others & 4);
            document.getElementById('others-write').checked = !!(others & 2);
            document.getElementById('others-execute').checked = !!(others & 1);

            calculatePermissions();
        }

        // Copy command to clipboard
        function copyCommand(type) {
            let text;
            if (type === 'numeric') {
                text = document.getElementById('numeric-command').textContent;
            } else if (type === 'symbolic') {
                text = document.getElementById('symbolic-command').textContent;
            } else if (type === 'special') {
                text = document.getElementById('special-command').textContent;
            }

            navigator.clipboard.writeText(text).then(() => {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Remove active class from buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Initialize quiz if switching to quiz tab
            if (tabName === 'quiz' && !quizInitialized) {
                initializeQuiz();
            }
        }

        // Special Permissions
        function calculateSpecialPermissions() {
            const suid = document.getElementById('suid-checkbox').checked ? 4 : 0;
            const sgid = document.getElementById('sgid-checkbox').checked ? 2 : 0;
            const sticky = document.getElementById('sticky-checkbox').checked ? 1 : 0;

            const specialValue = suid + sgid + sticky;
            document.getElementById('special-octal').textContent = specialValue;

            // Get current standard permissions
            const owner = getPermissionValue('owner');
            const group = getPermissionValue('group');
            const others = getPermissionValue('others');

            const fullOctal = `${specialValue}${owner}${group}${others}`;
            document.getElementById('full-octal').textContent = fullOctal;

            const filename = document.getElementById('filename-input').value || 'filename';
            document.getElementById('special-command').textContent = `chmod ${fullOctal} ${filename}`;
        }

        // Quiz functionality
        let quizInitialized = false;
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let quizQuestions = [];

        const allQuestions = [
            {
                question: "What does the permission 'r' allow a user to do?",
                answers: ["Read the file contents", "Rename the file", "Execute the file", "Delete the file"],
                correct: 0,
                explanation: "The 'r' (read) permission allows users to view and read the contents of a file."
            },
            {
                question: "What octal value represents read permission?",
                answers: ["1", "2", "4", "7"],
                correct: 2,
                explanation: "Read permission is represented by the octal value 4."
            },
            {
                question: "What does 'rwx' mean in symbolic notation?",
                answers: ["Read, write, execute", "Read, write only", "Read only", "Execute only"],
                correct: 0,
                explanation: "'rwx' means the user has all three permissions: read, write, and execute."
            },
            {
                question: "What is the octal representation of 'rwxr-xr-x'?",
                answers: ["644", "755", "777", "655"],
                correct: 1,
                explanation: "rwx (7) r-x (5) r-x (5) = 755"
            },
            {
                question: "Which permission allows you to modify a file's contents?",
                answers: ["Read", "Write", "Execute", "Delete"],
                correct: 1,
                explanation: "Write permission (w) allows you to modify or change the contents of a file."
            },
            {
                question: "What does the execute permission on a directory allow?",
                answers: ["Read directory contents", "Enter the directory (cd)", "Delete the directory", "Rename the directory"],
                correct: 1,
                explanation: "Execute permission on a directory allows you to enter it using cd and access files within."
            },
            {
                question: "What is the most restrictive permission setting?",
                answers: ["777", "644", "000", "111"],
                correct: 2,
                explanation: "000 (---  ---  ---) means no permissions for anyone, the most restrictive setting."
            },
            {
                question: "What does chmod 644 mean?",
                answers: ["Owner: rw-, Group: r--, Others: r--", "Owner: rwx, Group: r-x, Others: r-x", "Owner: r--, Group: rw-, Others: rw-", "All users have full access"],
                correct: 0,
                explanation: "644 means: Owner can read/write (6), Group can read (4), Others can read (4)."
            },
            {
                question: "Which permission is dangerous to set on important system files?",
                answers: ["644", "755", "777", "600"],
                correct: 2,
                explanation: "777 (rwxrwxrwx) gives everyone full permissions, which is dangerous for system files."
            },
            {
                question: "What permission should SSH private keys typically have?",
                answers: ["777", "644", "600", "755"],
                correct: 2,
                explanation: "SSH private keys should be 600 (rw-------) so only the owner can read/write them."
            },
            {
                question: "What does the first character in '-rwxr-xr-x' represent?",
                answers: ["Owner permission", "File type", "Special permission", "Group permission"],
                correct: 1,
                explanation: "The first character indicates the file type: '-' for regular file, 'd' for directory, 'l' for symlink."
            },
            {
                question: "What is the octal value for write permission?",
                answers: ["1", "2", "4", "3"],
                correct: 1,
                explanation: "Write permission is represented by the octal value 2."
            },
            {
                question: "What does 'chmod u+x filename' do?",
                answers: ["Removes execute for owner", "Adds execute for owner", "Adds execute for everyone", "Removes all permissions"],
                correct: 1,
                explanation: "'u+x' adds (+) execute (x) permission for the user/owner (u)."
            },
            {
                question: "What permission is needed to list files in a directory?",
                answers: ["Write", "Execute", "Read", "All of the above"],
                correct: 2,
                explanation: "Read permission on a directory allows you to list its contents with 'ls'."
            },
            {
                question: "Which special permission makes a program run as the file owner?",
                answers: ["SGID", "SUID", "Sticky bit", "Execute"],
                correct: 1,
                explanation: "SUID (Set User ID) makes an executable run with the permissions of the file owner."
            },
            {
                question: "What does the sticky bit do on a directory?",
                answers: ["Makes files executable", "Prevents deletion by non-owners", "Makes directory read-only", "Increases performance"],
                correct: 1,
                explanation: "The sticky bit restricts file deletion to only the file owner, directory owner, or root."
            },
            {
                question: "What is the octal representation of '---'?",
                answers: ["0", "1", "7", "3"],
                correct: 0,
                explanation: "No permissions (---) equals 0 in octal notation."
            },
            {
                question: "In 'drwxr-xr-x', what does the 'd' indicate?",
                answers: ["Deleted file", "Directory", "Device file", "Dangerous permission"],
                correct: 1,
                explanation: "The 'd' at the beginning indicates this is a directory, not a regular file."
            }
        ];

        function initializeQuiz() {
            quizInitialized = true;
            currentQuestionIndex = 0;
            correctAnswers = 0;

            // Shuffle and select 15 questions
            quizQuestions = shuffleArray([...allQuestions]).slice(0, 15);

            displayQuestion();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function displayQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            const quizContent = document.getElementById('quiz-content');

            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = quizQuestions.length;

            let answersHTML = '';
            question.answers.forEach((answer, index) => {
                answersHTML += `
                    <button class="answer-button" onclick="checkAnswer(${index})">
                        ${answer}
                    </button>
                `;
            });

            quizContent.innerHTML = `
                <div class="question-card">
                    <div class="question-number">Question ${currentQuestionIndex + 1} of ${quizQuestions.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="answers-grid" id="answers-grid">
                        ${answersHTML}
                    </div>
                    <div id="feedback"></div>
                </div>
            `;
        }

        function checkAnswer(selectedIndex) {
            const question = quizQuestions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-button');
            const feedback = document.getElementById('feedback');

            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);

            // Mark correct and incorrect
            buttons[question.correct].classList.add('correct');
            if (selectedIndex !== question.correct) {
                buttons[selectedIndex].classList.add('incorrect');
            }

            // Update score
            const isCorrect = selectedIndex === question.correct;
            if (isCorrect) {
                correctAnswers++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<strong>Correct!</strong> ${question.explanation}`;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<strong>Incorrect.</strong> ${question.explanation}`;
            }

            // Update score display
            document.getElementById('correct-count').textContent = correctAnswers;
            const percentage = Math.round((correctAnswers / quizQuestions.length) * 100);
            document.getElementById('score-percentage').textContent = percentage + '%';

            // Show next button or complete quiz
            if (currentQuestionIndex < quizQuestions.length - 1) {
                feedback.innerHTML += '<button class="next-button" onclick="nextQuestion()">Next Question</button>';
            } else {
                feedback.innerHTML += '<button class="next-button" onclick="completeQuiz()">View Results</button>';
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        function completeQuiz() {
            const percentage = Math.round((correctAnswers / quizQuestions.length) * 100);
            const quizContent = document.getElementById('quiz-content');

            let message = '';
            if (percentage >= 90) {
                message = 'Outstanding! You have mastered Linux permissions!';
            } else if (percentage >= 70) {
                message = 'Great job! You have a solid understanding of permissions.';
            } else if (percentage >= 50) {
                message = 'Good effort! Keep practicing to improve your knowledge.';
            } else {
                message = 'Keep learning! Review the calculator to strengthen your understanding.';
            }

            quizContent.innerHTML = `
                <div class="quiz-complete">
                    <h2 style="color: var(--green-primary);">Quiz Complete!</h2>
                    <div class="final-score">${correctAnswers}/${quizQuestions.length}</div>
                    <div style="font-size: 1.5rem; color: var(--text-primary); margin: 20px 0;">${percentage}%</div>
                    <p style="color: var(--text-secondary); font-size: 1.2rem; margin: 20px 0;">${message}</p>
                    <button class="restart-button" onclick="initializeQuiz()">Restart Quiz</button>
                </div>
            `;
        }

        // Update filename in commands when changed
        document.getElementById('filename-input').addEventListener('input', () => {
            const owner = getPermissionValue('owner');
            const group = getPermissionValue('group');
            const others = getPermissionValue('others');
            updateCommands(owner, group, others);
            calculateSpecialPermissions();
        });

        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            calculatePermissions();
            calculateSpecialPermissions();
        });
    </script>
</body>
</html>