<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Chapter 5: Collections (Lists & Tuples) - House of Script</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-green: #166534;
            --light-green: #22c55e;
            --dark-green: #14532d;
            --accent-purple: #7c3aed;
            --light-purple: #a78bfa;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-card-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border-color: #334155;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a2332 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2em;
            color: var(--text-secondary);
        }

        .tab-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 24px;
            background: var(--bg-card);
            color: var(--text-primary);
            border: 2px solid var(--primary-green);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: var(--primary-green);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(22, 101, 52, 0.4);
        }

        .tab-btn.active {
            background: var(--primary-green);
            box-shadow: 0 5px 15px rgba(22, 101, 52, 0.4);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color);
        }

        .card h2 {
            color: var(--light-green);
            margin-bottom: 15px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h3 {
            color: var(--light-purple);
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .list-visualizer {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin: 20px 0;
            min-height: 60px;
            padding: 15px;
            background: var(--bg-dark);
            border-radius: 8px;
            border: 2px dashed var(--border-color);
        }

        .list-item {
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            position: relative;
            animation: slideIn 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        .list-item .index {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8em;
            color: var(--text-secondary);
            background: var(--bg-card);
            padding: 2px 8px;
            border-radius: 4px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideOut {
            to {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        .control-panel {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        input[type="text"],
        input[type="number"],
        select {
            padding: 10px 15px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1em;
            flex: 1;
            min-width: 150px;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary-green);
        }

        button {
            padding: 10px 20px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        button:hover {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(34, 197, 94, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button.secondary {
            background: var(--accent-purple);
        }

        button.secondary:hover {
            background: var(--light-purple);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.4);
        }

        .code-block {
            background: var(--bg-dark);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid var(--primary-green);
        }

        .code-block code {
            color: var(--light-green);
        }

        .output-box {
            background: var(--bg-dark);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            min-height: 50px;
            font-family: 'Courier New', monospace;
            border: 2px solid var(--primary-green);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .quiz-question {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent-purple);
        }

        .quiz-options {
            margin: 15px 0;
        }

        .quiz-option {
            padding: 12px;
            margin: 8px 0;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary-green);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: var(--primary-green);
            border-color: var(--light-green);
        }

        .quiz-option.correct {
            background: var(--success);
            border-color: var(--success);
        }

        .quiz-option.incorrect {
            background: var(--error);
            border-color: var(--error);
        }

        .feedback {
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .feedback.success {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--success);
            color: var(--success);
        }

        .feedback.error {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid var(--error);
            color: var(--error);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--primary-green);
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-dark);
        }

        .comprehension-builder {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 8px;
        }

        .comprehension-parts {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .comprehension-preview {
            background: var(--bg-card);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: var(--light-green);
            font-size: 1.1em;
            border: 2px solid var(--primary-green);
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            background: var(--accent-purple);
            color: white;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }

        .info-box {
            background: rgba(124, 58, 237, 0.1);
            border: 2px solid var(--accent-purple);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info-box strong {
            color: var(--light-purple);
        }

        .nested-visual {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 15px;
            background: var(--bg-dark);
            border-radius: 8px;
            margin: 15px 0;
        }

        .nested-level {
            display: flex;
            gap: 10px;
            padding-left: 20px;
            border-left: 3px solid var(--primary-green);
        }

        .score-display {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            border-radius: 12px;
            font-size: 1.5em;
            font-weight: bold;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .tab-btn {
                padding: 10px 16px;
                font-size: 0.9em;
            }

            .list-visualizer {
                justify-content: center;
            }

            .input-group {
                flex-direction: column;
            }

            input[type="text"],
            input[type="number"],
            select {
                width: 100%;
            }
        }

        .highlight {
            background: var(--accent-purple);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .method-card {
            background: var(--bg-dark);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid var(--primary-green);
            transition: all 0.3s ease;
        }

        .method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(22, 101, 52, 0.3);
        }

        .method-card h4 {
            color: var(--light-green);
            margin-bottom: 8px;
        }

        .method-card code {
            color: var(--light-purple);
            background: var(--bg-card);
            padding: 2px 6px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Python Chapter 5: Collections</h1>
            <div class="subtitle">Lists & Tuples - Interactive Learning Tool</div>
        </header>

        <div class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab('intro')">Introduction</button>
            <button class="tab-btn" onclick="switchTab('visualizer')">List Visualizer</button>
            <button class="tab-btn" onclick="switchTab('methods')">List Methods</button>
            <button class="tab-btn" onclick="switchTab('comprehensions')">Comprehensions</button>
            <button class="tab-btn" onclick="switchTab('tuples')">Tuples</button>
            <button class="tab-btn" onclick="switchTab('advanced')">Advanced Topics</button>
            <button class="tab-btn" onclick="switchTab('quiz')">Quiz</button>
        </div>

        <!-- Introduction Tab -->
        <div id="intro" class="tab-content active">
            <div class="card">
                <h2>Welcome to Collections: Lists & Tuples</h2>
                <p>Collections are fundamental data structures in Python that allow you to store multiple values in a single variable. This chapter covers two essential collection types:</p>

                <div class="grid-2" style="margin-top: 20px;">
                    <div class="info-box">
                        <h3>Lists</h3>
                        <p><strong>Mutable, ordered sequences</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Can be modified after creation</li>
                            <li>Created with square brackets: <code>[1, 2, 3]</code></li>
                            <li>Support indexing and slicing</li>
                            <li>Rich set of built-in methods</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <h3>Tuples</h3>
                        <p><strong>Immutable, ordered sequences</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Cannot be modified after creation</li>
                            <li>Created with parentheses: <code>(1, 2, 3)</code></li>
                            <li>Support indexing and slicing</li>
                            <li>More memory efficient than lists</li>
                        </ul>
                    </div>
                </div>

                <h3>Key Concepts Covered</h3>
                <div class="method-grid">
                    <div class="method-card">
                        <h4>Creation & Access</h4>
                        <p>Learn how to create lists and tuples, access elements using indexes, and slice sequences.</p>
                    </div>
                    <div class="method-card">
                        <h4>List Methods</h4>
                        <p>Master append(), extend(), insert(), remove(), pop(), sort(), and reverse().</p>
                    </div>
                    <div class="method-card">
                        <h4>Comprehensions</h4>
                        <p>Build lists efficiently using list comprehension syntax.</p>
                    </div>
                    <div class="method-card">
                        <h4>Advanced Functions</h4>
                        <p>Explore enumerate(), zip(), and shallow vs deep copying.</p>
                    </div>
                </div>

                <div class="code-block">
                    <code># Quick Examples<br>
# Creating a list<br>
fruits = ['apple', 'banana', 'cherry']<br>
<br>
# Creating a tuple<br>
coordinates = (10, 20)<br>
<br>
# List comprehension<br>
squares = [x**2 for x in range(5)]<br>
<br>
# Tuple unpacking<br>
x, y = coordinates</code>
                </div>
            </div>
        </div>

        <!-- List Visualizer Tab -->
        <div id="visualizer" class="tab-content">
            <div class="card">
                <h2>Interactive List Visualizer <span class="badge">Live Demo</span></h2>
                <p>Visualize how lists work with indexing and slicing operations.</p>

                <div class="control-panel">
                    <div class="input-group">
                        <input type="text" id="listInput" placeholder="Enter values (comma-separated): 1, 2, 3, 4, 5" value="10, 20, 30, 40, 50">
                        <button onclick="createList()">Create List</button>
                        <button onclick="clearList()" class="secondary">Clear</button>
                    </div>
                </div>

                <h3>Your List:</h3>
                <div id="listDisplay" class="list-visualizer"></div>

                <div class="grid-2">
                    <div>
                        <h3>Indexing</h3>
                        <div class="input-group">
                            <input type="number" id="indexInput" placeholder="Index" value="0">
                            <button onclick="accessIndex()">Access</button>
                        </div>
                        <div id="indexOutput" class="output-box">Result will appear here</div>
                        <div class="info-box">
                            <strong>Tip:</strong> Python uses zero-based indexing. Use negative indexes to count from the end: -1 is the last element.
                        </div>
                    </div>

                    <div>
                        <h3>Slicing</h3>
                        <div class="input-group">
                            <input type="number" id="sliceStart" placeholder="Start" value="0">
                            <input type="number" id="sliceEnd" placeholder="End" value="3">
                            <input type="number" id="sliceStep" placeholder="Step" value="1">
                            <button onclick="sliceList()">Slice</button>
                        </div>
                        <div id="sliceOutput" class="output-box">Result will appear here</div>
                        <div class="info-box">
                            <strong>Syntax:</strong> list[start:end:step] - end is exclusive!
                        </div>
                    </div>
                </div>

                <div class="code-block">
                    <code># Indexing Examples<br>
my_list = [10, 20, 30, 40, 50]<br>
my_list[0]     # 10 (first element)<br>
my_list[-1]    # 50 (last element)<br>
my_list[2]     # 30 (third element)<br>
<br>
# Slicing Examples<br>
my_list[1:4]   # [20, 30, 40]<br>
my_list[:3]    # [10, 20, 30] (first 3)<br>
my_list[2:]    # [30, 40, 50] (from index 2 onwards)<br>
my_list[::2]   # [10, 30, 50] (every 2nd element)</code>
                </div>
            </div>
        </div>

        <!-- List Methods Tab -->
        <div id="methods" class="tab-content">
            <div class="card">
                <h2>List Methods Playground <span class="badge">Interactive</span></h2>
                <p>Experiment with list methods and see the results in real-time.</p>

                <h3>Current List:</h3>
                <div id="methodListDisplay" class="list-visualizer"></div>

                <div class="control-panel">
                    <h3>Initialize List</h3>
                    <div class="input-group">
                        <input type="text" id="methodListInput" placeholder="Enter values: a, b, c" value="apple, banana, cherry">
                        <button onclick="initializeMethodList()">Set List</button>
                    </div>

                    <h3>Choose Method</h3>
                    <div class="input-group">
                        <select id="methodSelect" onchange="updateMethodInputs()">
                            <option value="append">append(item)</option>
                            <option value="extend">extend(list)</option>
                            <option value="insert">insert(index, item)</option>
                            <option value="remove">remove(item)</option>
                            <option value="pop">pop(index)</option>
                            <option value="sort">sort()</option>
                            <option value="reverse">reverse()</option>
                            <option value="clear">clear()</option>
                            <option value="index">index(item)</option>
                            <option value="count">count(item)</option>
                        </select>
                    </div>

                    <div id="methodInputs" class="input-group">
                        <input type="text" id="methodArg1" placeholder="Item">
                        <button onclick="executeMethod()">Execute</button>
                    </div>
                </div>

                <div id="methodOutput" class="output-box">Output will appear here</div>

                <h3>Method Reference</h3>
                <div class="method-grid">
                    <div class="method-card">
                        <h4>append(item)</h4>
                        <p>Adds an item to the end of the list.</p>
                        <code>lst.append(5)</code>
                    </div>
                    <div class="method-card">
                        <h4>extend(iterable)</h4>
                        <p>Adds all items from another iterable.</p>
                        <code>lst.extend([4, 5])</code>
                    </div>
                    <div class="method-card">
                        <h4>insert(i, item)</h4>
                        <p>Inserts item at the specified index.</p>
                        <code>lst.insert(0, 'x')</code>
                    </div>
                    <div class="method-card">
                        <h4>remove(item)</h4>
                        <p>Removes the first occurrence of item.</p>
                        <code>lst.remove('x')</code>
                    </div>
                    <div class="method-card">
                        <h4>pop(index)</h4>
                        <p>Removes and returns item at index (default: -1).</p>
                        <code>item = lst.pop()</code>
                    </div>
                    <div class="method-card">
                        <h4>sort()</h4>
                        <p>Sorts the list in place.</p>
                        <code>lst.sort()</code>
                    </div>
                    <div class="method-card">
                        <h4>reverse()</h4>
                        <p>Reverses the list in place.</p>
                        <code>lst.reverse()</code>
                    </div>
                    <div class="method-card">
                        <h4>clear()</h4>
                        <p>Removes all items from the list.</p>
                        <code>lst.clear()</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- List Comprehensions Tab -->
        <div id="comprehensions" class="tab-content">
            <div class="card">
                <h2>List Comprehension Builder <span class="badge">Visual Tool</span></h2>
                <p>Build list comprehensions visually and understand their structure.</p>

                <div class="comprehension-builder">
                    <h3>Build Your Comprehension</h3>

                    <div class="comprehension-parts">
                        <div class="input-group">
                            <label style="min-width: 120px;">Expression:</label>
                            <input type="text" id="compExpression" placeholder="x * 2" value="x * 2">
                        </div>

                        <div class="input-group">
                            <label style="min-width: 120px;">Variable:</label>
                            <input type="text" id="compVariable" placeholder="x" value="x">
                        </div>

                        <div class="input-group">
                            <label style="min-width: 120px;">Iterable:</label>
                            <input type="text" id="compIterable" placeholder="range(5) or [1,2,3]" value="range(5)">
                        </div>

                        <div class="input-group">
                            <label style="min-width: 120px;">Condition (optional):</label>
                            <input type="text" id="compCondition" placeholder="if x > 2" value="">
                        </div>

                        <button onclick="buildComprehension()">Build & Execute</button>
                    </div>

                    <h3>Generated Comprehension:</h3>
                    <div id="compPreview" class="comprehension-preview">[x * 2 for x in range(5)]</div>

                    <h3>Result:</h3>
                    <div id="compResult" class="output-box">Click "Build & Execute" to see the result</div>
                </div>

                <h3>Common Patterns</h3>
                <div class="code-block">
                    <code># Basic comprehension<br>
squares = [x**2 for x in range(10)]<br>
# [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br>
<br>
# With condition<br>
evens = [x for x in range(10) if x % 2 == 0]<br>
# [0, 2, 4, 6, 8]<br>
<br>
# Transform strings<br>
names = ['alice', 'bob', 'charlie']<br>
upper_names = [name.upper() for name in names]<br>
# ['ALICE', 'BOB', 'CHARLIE']<br>
<br>
# Nested comprehension<br>
matrix = [[1, 2, 3], [4, 5, 6]]<br>
flattened = [num for row in matrix for num in row]<br>
# [1, 2, 3, 4, 5, 6]</code>
                </div>

                <div class="info-box">
                    <strong>Performance Tip:</strong> List comprehensions are generally faster than equivalent for loops because they're optimized at the C level in Python's implementation.
                </div>
            </div>
        </div>

        <!-- Tuples Tab -->
        <div id="tuples" class="tab-content">
            <div class="card">
                <h2>Tuples: Immutable Sequences <span class="badge">Comparison</span></h2>

                <h3>List vs Tuple Comparison</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>List</th>
                            <th>Tuple</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Syntax</td>
                            <td><code>[1, 2, 3]</code></td>
                            <td><code>(1, 2, 3)</code></td>
                        </tr>
                        <tr>
                            <td>Mutability</td>
                            <td>Mutable (can be changed)</td>
                            <td>Immutable (cannot be changed)</td>
                        </tr>
                        <tr>
                            <td>Methods</td>
                            <td>Many (append, remove, etc.)</td>
                            <td>Few (count, index only)</td>
                        </tr>
                        <tr>
                            <td>Performance</td>
                            <td>Slower</td>
                            <td>Faster</td>
                        </tr>
                        <tr>
                            <td>Memory</td>
                            <td>More memory</td>
                            <td>Less memory</td>
                        </tr>
                        <tr>
                            <td>Use Case</td>
                            <td>When data changes</td>
                            <td>When data is constant</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Tuple Operations</h3>
                <div class="control-panel">
                    <h4>Create Tuple</h4>
                    <div class="input-group">
                        <input type="text" id="tupleInput" placeholder="Enter values: 1, 2, 3" value="10, 20, 30, 40">
                        <button onclick="createTuple()">Create Tuple</button>
                    </div>
                    <div id="tupleDisplay" class="list-visualizer"></div>
                    <div id="tupleOutput" class="output-box">Tuple info will appear here</div>
                </div>

                <h3>Tuple Unpacking</h3>
                <div class="control-panel">
                    <div class="input-group">
                        <input type="text" id="unpackTuple" placeholder="Tuple: 1, 2, 3" value="100, 200, 300">
                        <input type="text" id="unpackVars" placeholder="Variables: a, b, c" value="x, y, z">
                        <button onclick="unpackTuple()">Unpack</button>
                    </div>
                    <div id="unpackOutput" class="output-box">Unpacking result will appear here</div>
                </div>

                <div class="code-block">
                    <code># Creating tuples<br>
point = (10, 20)<br>
singleton = (42,)  # Note the comma!<br>
empty = ()<br>
<br>
# Tuple unpacking<br>
x, y = point  # x=10, y=20<br>
<br>
# Extended unpacking<br>
first, *middle, last = (1, 2, 3, 4, 5)<br>
# first=1, middle=[2,3,4], last=5<br>
<br>
# Tuples as dictionary keys (lists can't do this!)<br>
locations = {}<br>
locations[(0, 0)] = 'origin'<br>
locations[(1, 2)] = 'point A'<br>
<br>
# Returning multiple values from a function<br>
def get_coordinates():<br>
&nbsp;&nbsp;&nbsp;&nbsp;return (10, 20)  # Returns a tuple<br>
<br>
x, y = get_coordinates()</code>
                </div>

                <div class="info-box">
                    <strong>When to use tuples:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>For data that shouldn't change (coordinates, RGB colors, etc.)</li>
                        <li>As dictionary keys (must be immutable)</li>
                        <li>For function return values with multiple items</li>
                        <li>When you need better performance and lower memory usage</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Advanced Topics Tab -->
        <div id="advanced" class="tab-content">
            <div class="card">
                <h2>Advanced Topics <span class="badge">enumerate, zip, copying</span></h2>

                <h3>enumerate() - Loop with Index</h3>
                <div class="control-panel">
                    <div class="input-group">
                        <input type="text" id="enumerateInput" placeholder="List items: a, b, c" value="apple, banana, cherry">
                        <button onclick="demonstrateEnumerate()">Demonstrate</button>
                    </div>
                    <div id="enumerateOutput" class="output-box">Result will appear here</div>
                </div>

                <div class="code-block">
                    <code># enumerate() gives you index and value<br>
fruits = ['apple', 'banana', 'cherry']<br>
for index, fruit in enumerate(fruits):<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"{index}: {fruit}")<br>
<br>
# Output:<br>
# 0: apple<br>
# 1: banana<br>
# 2: cherry<br>
<br>
# Start from different index<br>
for index, fruit in enumerate(fruits, start=1):<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"{index}: {fruit}")  # 1: apple, 2: banana, ...</code>
                </div>

                <h3>zip() - Combine Multiple Lists</h3>
                <div class="control-panel">
                    <div class="input-group">
                        <input type="text" id="zipList1" placeholder="List 1: a, b, c" value="Alice, Bob, Charlie">
                        <input type="text" id="zipList2" placeholder="List 2: 1, 2, 3" value="25, 30, 35">
                        <button onclick="demonstrateZip()">Zip Together</button>
                    </div>
                    <div id="zipOutput" class="output-box">Result will appear here</div>
                </div>

                <div class="code-block">
                    <code># zip() combines multiple iterables<br>
names = ['Alice', 'Bob', 'Charlie']<br>
ages = [25, 30, 35]<br>
cities = ['NYC', 'LA', 'Chicago']<br>
<br>
for name, age, city in zip(names, ages, cities):<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"{name} is {age} years old and lives in {city}")<br>
<br>
# Create dictionary from two lists<br>
keys = ['a', 'b', 'c']<br>
values = [1, 2, 3]<br>
dictionary = dict(zip(keys, values))  # {'a': 1, 'b': 2, 'c': 3}</code>
                </div>

                <h3>Copying Lists: Shallow vs Deep</h3>
                <div class="grid-2">
                    <div>
                        <h4>Shallow Copy</h4>
                        <div class="control-panel">
                            <button onclick="demonstrateShallowCopy()">Demo Shallow Copy</button>
                            <div id="shallowOutput" class="output-box">Click to see demonstration</div>
                        </div>
                    </div>
                    <div>
                        <h4>Deep Copy</h4>
                        <div class="control-panel">
                            <button onclick="demonstrateDeepCopy()">Demo Deep Copy</button>
                            <div id="deepOutput" class="output-box">Click to see demonstration</div>
                        </div>
                    </div>
                </div>

                <div class="code-block">
                    <code># Shallow copy - copies references<br>
original = [1, 2, [3, 4]]<br>
shallow = original.copy()  # or original[:]<br>
shallow[0] = 100<br>
shallow[2][0] = 999<br>
# original = [1, 2, [999, 4]]  <- nested list affected!<br>
# shallow = [100, 2, [999, 4]]<br>
<br>
# Deep copy - copies everything recursively<br>
import copy<br>
original = [1, 2, [3, 4]]<br>
deep = copy.deepcopy(original)<br>
deep[0] = 100<br>
deep[2][0] = 999<br>
# original = [1, 2, [3, 4]]  <- unchanged!<br>
# deep = [100, 2, [999, 4]]</code>
                </div>

                <h3>Common Patterns</h3>
                <div class="method-grid">
                    <div class="method-card">
                        <h4>Find Maximum</h4>
                        <code>max_val = max(my_list)</code>
                        <p>Returns the largest element</p>
                    </div>
                    <div class="method-card">
                        <h4>Find Minimum</h4>
                        <code>min_val = min(my_list)</code>
                        <p>Returns the smallest element</p>
                    </div>
                    <div class="method-card">
                        <h4>Sum All Elements</h4>
                        <code>total = sum(my_list)</code>
                        <p>Adds all numeric elements</p>
                    </div>
                    <div class="method-card">
                        <h4>Check Existence</h4>
                        <code>if item in my_list:</code>
                        <p>Check if item exists</p>
                    </div>
                    <div class="method-card">
                        <h4>Length</h4>
                        <code>size = len(my_list)</code>
                        <p>Get number of elements</p>
                    </div>
                    <div class="method-card">
                        <h4>All/Any</h4>
                        <code>all([True, True])</code>
                        <p>Check if all/any are True</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="card">
                <h2>Knowledge Check Quiz <span class="badge">10 Questions</span></h2>
                <p>Test your understanding of lists and tuples!</p>

                <div id="quizContainer"></div>

                <div style="text-align: center; margin-top: 30px;">
                    <button onclick="submitQuiz()" style="font-size: 1.2em; padding: 15px 40px;">Submit Quiz</button>
                    <button onclick="resetQuiz()" class="secondary" style="font-size: 1.2em; padding: 15px 40px;">Reset Quiz</button>
                </div>

                <div id="quizScore" class="score-display" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentList = [];
        let methodList = [];
        let quizAnswers = {};

        // Quiz questions
        const quizQuestions = [
            {
                id: 1,
                question: "What is the output of: my_list = [1, 2, 3, 4, 5]; print(my_list[1:4])?",
                options: ["[1, 2, 3]", "[2, 3, 4]", "[2, 3, 4, 5]", "[1, 2, 3, 4]"],
                correct: 1,
                explanation: "Slicing [1:4] starts at index 1 (value 2) and goes up to but NOT including index 4, giving [2, 3, 4]."
            },
            {
                id: 2,
                question: "Which list method modifies the list in place and returns None?",
                options: ["list.copy()", "list.count()", "list.append()", "list.index()"],
                correct: 2,
                explanation: "list.append() modifies the list by adding an element and returns None. Methods that modify in place typically return None."
            },
            {
                id: 3,
                question: "What is the result of: [x * 2 for x in range(4) if x > 1]?",
                options: ["[0, 2, 4, 6]", "[4, 6]", "[2, 3]", "[2, 4, 6]"],
                correct: 1,
                explanation: "range(4) gives [0,1,2,3]. Filter 'if x > 1' gives [2,3]. Multiply by 2 gives [4, 6]."
            },
            {
                id: 4,
                question: "Can you modify a tuple after it's created?",
                options: ["Yes, using tuple methods", "Yes, but only the first element", "No, tuples are immutable", "Yes, using tuple.append()"],
                correct: 2,
                explanation: "Tuples are immutable, meaning they cannot be changed after creation. This is a fundamental difference from lists."
            },
            {
                id: 5,
                question: "What does my_list[-1] return?",
                options: ["The first element", "The last element", "Error", "The second to last element"],
                correct: 1,
                explanation: "Negative indexing counts from the end. -1 is the last element, -2 is second to last, etc."
            },
            {
                id: 6,
                question: "What is the output of: lst = [3, 1, 4, 1, 5]; lst.remove(1); print(lst)?",
                options: ["[3, 4, 5]", "[3, 4, 1, 5]", "[3, 1, 4, 5]", "Error"],
                correct: 1,
                explanation: "remove() removes only the FIRST occurrence of the value. So the first 1 is removed, leaving [3, 4, 1, 5]."
            },
            {
                id: 7,
                question: "Which statement creates a tuple with a single element?",
                options: ["(42)", "(42,)", "[42]", "tuple(42)"],
                correct: 1,
                explanation: "A single element tuple requires a trailing comma: (42,). Without it, (42) is just a number in parentheses."
            },
            {
                id: 8,
                question: "What does the extend() method do?",
                options: ["Adds one element to the list", "Adds all elements from an iterable to the list", "Returns a new extended list", "Extends the list size by a number"],
                correct: 1,
                explanation: "extend() adds all elements from an iterable (like another list) to the end of the list. It modifies the list in place."
            },
            {
                id: 9,
                question: "What is the result of: matrix = [[1, 2], [3, 4]]; print(matrix[1][0])?",
                options: ["1", "2", "3", "4"],
                correct: 2,
                explanation: "matrix[1] accesses the second row [3, 4], then [0] accesses the first element of that row, which is 3."
            },
            {
                id: 10,
                question: "What is the difference between list.sort() and sorted(list)?",
                options: ["No difference", "sort() modifies in place, sorted() returns new list", "sorted() is faster", "sort() works on tuples too"],
                correct: 1,
                explanation: "list.sort() modifies the list in place and returns None. sorted() returns a new sorted list and leaves the original unchanged."
            }
        ];

        // Tab switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');

            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // List Visualizer functions
        function createList() {
            const input = document.getElementById('listInput').value;
            if (!input.trim()) {
                alert('Please enter some values');
                return;
            }

            currentList = input.split(',').map(item => item.trim());
            displayList('listDisplay', currentList);
        }

        function clearList() {
            currentList = [];
            displayList('listDisplay', currentList);
            document.getElementById('indexOutput').textContent = 'Result will appear here';
            document.getElementById('sliceOutput').textContent = 'Result will appear here';
        }

        function displayList(elementId, list, highlightIndexes = []) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';

            if (list.length === 0) {
                container.innerHTML = '<div style="color: var(--text-secondary); padding: 20px;">Empty list []</div>';
                return;
            }

            list.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'list-item';
                if (highlightIndexes.includes(index)) {
                    div.style.background = 'linear-gradient(135deg, var(--accent-purple), var(--light-purple))';
                }
                div.innerHTML = `<span class="index">${index}</span>${item}`;
                container.appendChild(div);
            });
        }

        function accessIndex() {
            if (currentList.length === 0) {
                alert('Please create a list first');
                return;
            }

            const index = parseInt(document.getElementById('indexInput').value);
            const output = document.getElementById('indexOutput');

            try {
                // Handle negative indexing
                const actualIndex = index < 0 ? currentList.length + index : index;

                if (actualIndex < 0 || actualIndex >= currentList.length) {
                    output.innerHTML = `<span style="color: var(--error);">Error: Index ${index} out of range</span>`;
                    return;
                }

                const value = currentList[actualIndex];
                output.innerHTML = `<span style="color: var(--light-green);">my_list[${index}] = "${value}"</span>`;

                // Highlight the accessed element
                displayList('listDisplay', currentList, [actualIndex]);
            } catch (e) {
                output.innerHTML = `<span style="color: var(--error);">Error: ${e.message}</span>`;
            }
        }

        function sliceList() {
            if (currentList.length === 0) {
                alert('Please create a list first');
                return;
            }

            const start = document.getElementById('sliceStart').value;
            const end = document.getElementById('sliceEnd').value;
            const step = parseInt(document.getElementById('sliceStep').value) || 1;
            const output = document.getElementById('sliceOutput');

            try {
                const startIdx = start === '' ? undefined : parseInt(start);
                const endIdx = end === '' ? undefined : parseInt(end);

                // Simulate Python slicing
                const sliced = currentList.slice(startIdx, endIdx).filter((_, i) => i % step === 0);

                const sliceNotation = `[${start || ''}:${end || ''}:${step !== 1 ? step : ''}]`;
                output.innerHTML = `<span style="color: var(--light-green);">my_list${sliceNotation} = [${sliced.join(', ')}]</span>`;
            } catch (e) {
                output.innerHTML = `<span style="color: var(--error);">Error: ${e.message}</span>`;
            }
        }

        // List Methods functions
        function initializeMethodList() {
            const input = document.getElementById('methodListInput').value;
            if (!input.trim()) {
                alert('Please enter some values');
                return;
            }

            methodList = input.split(',').map(item => item.trim());
            displayList('methodListDisplay', methodList);
            document.getElementById('methodOutput').textContent = 'List initialized. Choose a method to execute.';
        }

        function updateMethodInputs() {
            const method = document.getElementById('methodSelect').value;
            const inputsDiv = document.getElementById('methodInputs');

            let html = '';

            switch(method) {
                case 'append':
                    html = '<input type="text" id="methodArg1" placeholder="Item to append">';
                    break;
                case 'extend':
                    html = '<input type="text" id="methodArg1" placeholder="Items (comma-separated)">';
                    break;
                case 'insert':
                    html = '<input type="number" id="methodArg1" placeholder="Index"><input type="text" id="methodArg2" placeholder="Item">';
                    break;
                case 'remove':
                    html = '<input type="text" id="methodArg1" placeholder="Item to remove">';
                    break;
                case 'pop':
                    html = '<input type="number" id="methodArg1" placeholder="Index (optional)" value="-1">';
                    break;
                case 'index':
                    html = '<input type="text" id="methodArg1" placeholder="Item to find">';
                    break;
                case 'count':
                    html = '<input type="text" id="methodArg1" placeholder="Item to count">';
                    break;
                default:
                    html = '';
            }

            html += '<button onclick="executeMethod()">Execute</button>';
            inputsDiv.innerHTML = html;
        }

        function executeMethod() {
            if (methodList.length === 0 && document.getElementById('methodSelect').value !== 'append') {
                alert('Please initialize a list first');
                return;
            }

            const method = document.getElementById('methodSelect').value;
            const output = document.getElementById('methodOutput');
            let result = '';

            try {
                switch(method) {
                    case 'append':
                        const appendItem = document.getElementById('methodArg1').value;
                        if (methodList.length === 0) methodList = [];
                        methodList.push(appendItem);
                        result = `Appended "${appendItem}". List now: [${methodList.join(', ')}]`;
                        break;

                    case 'extend':
                        const extendItems = document.getElementById('methodArg1').value.split(',').map(s => s.trim());
                        methodList.push(...extendItems);
                        result = `Extended with [${extendItems.join(', ')}]. List now: [${methodList.join(', ')}]`;
                        break;

                    case 'insert':
                        const insertIdx = parseInt(document.getElementById('methodArg1').value);
                        const insertItem = document.getElementById('methodArg2').value;
                        methodList.splice(insertIdx, 0, insertItem);
                        result = `Inserted "${insertItem}" at index ${insertIdx}. List now: [${methodList.join(', ')}]`;
                        break;

                    case 'remove':
                        const removeItem = document.getElementById('methodArg1').value;
                        const idx = methodList.indexOf(removeItem);
                        if (idx === -1) {
                            result = `Error: "${removeItem}" not found in list`;
                            break;
                        }
                        methodList.splice(idx, 1);
                        result = `Removed first occurrence of "${removeItem}". List now: [${methodList.join(', ')}]`;
                        break;

                    case 'pop':
                        const popIdx = document.getElementById('methodArg1').value;
                        const index = popIdx === '' ? methodList.length - 1 : parseInt(popIdx);
                        const popped = methodList.splice(index, 1)[0];
                        result = `Popped "${popped}" from index ${index}. List now: [${methodList.join(', ')}]`;
                        break;

                    case 'sort':
                        methodList.sort();
                        result = `Sorted list: [${methodList.join(', ')}]`;
                        break;

                    case 'reverse':
                        methodList.reverse();
                        result = `Reversed list: [${methodList.join(', ')}]`;
                        break;

                    case 'clear':
                        methodList = [];
                        result = 'Cleared list. List is now empty: []';
                        break;

                    case 'index':
                        const findItem = document.getElementById('methodArg1').value;
                        const foundIdx = methodList.indexOf(findItem);
                        if (foundIdx === -1) {
                            result = `Error: "${findItem}" not found in list`;
                        } else {
                            result = `Index of "${findItem}": ${foundIdx}`;
                        }
                        break;

                    case 'count':
                        const countItem = document.getElementById('methodArg1').value;
                        const count = methodList.filter(item => item === countItem).length;
                        result = `Count of "${countItem}": ${count}`;
                        break;
                }

                output.innerHTML = `<span style="color: var(--light-green);">${result}</span>`;
                displayList('methodListDisplay', methodList);

            } catch (e) {
                output.innerHTML = `<span style="color: var(--error);">Error: ${e.message}</span>`;
            }
        }

        // List Comprehension Builder
        function buildComprehension() {
            const expression = document.getElementById('compExpression').value;
            const variable = document.getElementById('compVariable').value;
            const iterable = document.getElementById('compIterable').value;
            const condition = document.getElementById('compCondition').value;

            if (!expression || !variable || !iterable) {
                alert('Please fill in expression, variable, and iterable');
                return;
            }

            // Build comprehension string
            let compString = `[${expression} for ${variable} in ${iterable}`;
            if (condition) {
                compString += ` ${condition}`;
            }
            compString += ']';

            document.getElementById('compPreview').textContent = compString;

            // Try to execute it
            try {
                // Parse the iterable
                let iterableArray;
                if (iterable.includes('range')) {
                    const rangeMatch = iterable.match(/range\((\d+)(?:,\s*(\d+))?\)/);
                    if (rangeMatch) {
                        const start = rangeMatch[2] ? parseInt(rangeMatch[1]) : 0;
                        const end = rangeMatch[2] ? parseInt(rangeMatch[2]) : parseInt(rangeMatch[1]);
                        iterableArray = Array.from({length: end - start}, (_, i) => i + start);
                    }
                } else {
                    iterableArray = JSON.parse(iterable.replace(/'/g, '"'));
                }

                // Build result
                const result = [];
                for (let item of iterableArray) {
                    // Create a context for evaluation
                    const context = {};
                    context[variable] = item;

                    // Check condition if present
                    if (condition) {
                        const conditionCheck = condition.replace('if', '').trim();
                        const conditionFunc = new Function(variable, `return ${conditionCheck}`);
                        if (!conditionFunc(item)) continue;
                    }

                    // Evaluate expression
                    const exprFunc = new Function(variable, `return ${expression}`);
                    result.push(exprFunc(item));
                }

                document.getElementById('compResult').innerHTML =
                    `<span style="color: var(--light-green);">Result: [${result.join(', ')}]</span>`;

            } catch (e) {
                document.getElementById('compResult').innerHTML =
                    `<span style="color: var(--error);">Error: ${e.message}</span>`;
            }
        }

        // Tuple functions
        function createTuple() {
            const input = document.getElementById('tupleInput').value;
            if (!input.trim()) {
                alert('Please enter some values');
                return;
            }

            const tupleItems = input.split(',').map(item => item.trim());
            displayList('tupleDisplay', tupleItems);

            const output = document.getElementById('tupleOutput');
            output.innerHTML = `<span style="color: var(--light-green);">
                Created tuple: (${tupleItems.join(', ')})<br>
                Length: ${tupleItems.length}<br>
                Type: Immutable sequence<br>
                Note: Tuples cannot be modified after creation!
            </span>`;
        }

        function unpackTuple() {
            const tupleStr = document.getElementById('unpackTuple').value;
            const varsStr = document.getElementById('unpackVars').value;

            if (!tupleStr || !varsStr) {
                alert('Please fill in both fields');
                return;
            }

            const tupleItems = tupleStr.split(',').map(item => item.trim());
            const variables = varsStr.split(',').map(item => item.trim());

            const output = document.getElementById('unpackOutput');

            if (tupleItems.length !== variables.length) {
                output.innerHTML = `<span style="color: var(--error);">
                    Error: Cannot unpack ${tupleItems.length} values into ${variables.length} variables
                </span>`;
                return;
            }

            let result = 'Unpacking result:<br>';
            variables.forEach((varName, idx) => {
                result += `${varName} = ${tupleItems[idx]}<br>`;
            });

            output.innerHTML = `<span style="color: var(--light-green);">${result}</span>`;
        }

        // Advanced functions
        function demonstrateEnumerate() {
            const input = document.getElementById('enumerateInput').value;
            if (!input.trim()) {
                alert('Please enter some values');
                return;
            }

            const items = input.split(',').map(item => item.trim());
            const output = document.getElementById('enumerateOutput');

            let result = 'enumerate() output:<br><br>';
            items.forEach((item, index) => {
                result += `${index}: ${item}<br>`;
            });

            result += '<br>Python code:<br>';
            result += `for index, item in enumerate([${items.map(i => `'${i}'`).join(', ')}]):<br>`;
            result += `&nbsp;&nbsp;&nbsp;&nbsp;print(f"{index}: {item}")`;

            output.innerHTML = `<span style="color: var(--light-green);">${result}</span>`;
        }

        function demonstrateZip() {
            const list1Str = document.getElementById('zipList1').value;
            const list2Str = document.getElementById('zipList2').value;

            if (!list1Str || !list2Str) {
                alert('Please fill in both lists');
                return;
            }

            const list1 = list1Str.split(',').map(item => item.trim());
            const list2 = list2Str.split(',').map(item => item.trim());

            const output = document.getElementById('zipOutput');

            let result = 'zip() output:<br><br>';
            const minLength = Math.min(list1.length, list2.length);
            for (let i = 0; i < minLength; i++) {
                result += `(${list1[i]}, ${list2[i]})<br>`;
            }

            if (list1.length !== list2.length) {
                result += `<br><span style="color: var(--warning);">Note: Lists have different lengths. zip() stops at the shortest list.</span>`;
            }

            output.innerHTML = `<span style="color: var(--light-green);">${result}</span>`;
        }

        function demonstrateShallowCopy() {
            const output = document.getElementById('shallowOutput');

            let result = 'Shallow Copy Demonstration:<br><br>';
            result += 'original = [1, 2, [3, 4]]<br>';
            result += 'shallow = original.copy()<br><br>';
            result += 'shallow[0] = 100<br>';
            result += 'shallow[2][0] = 999<br><br>';
            result += '<span style="color: var(--warning);">Results:</span><br>';
            result += 'original = [1, 2, [999, 4]]  <- nested list affected!<br>';
            result += 'shallow = [100, 2, [999, 4]]<br><br>';
            result += '<span style="color: var(--error);">Problem: Nested objects are shared between copies</span>';

            output.innerHTML = result;
        }

        function demonstrateDeepCopy() {
            const output = document.getElementById('deepOutput');

            let result = 'Deep Copy Demonstration:<br><br>';
            result += 'import copy<br>';
            result += 'original = [1, 2, [3, 4]]<br>';
            result += 'deep = copy.deepcopy(original)<br><br>';
            result += 'deep[0] = 100<br>';
            result += 'deep[2][0] = 999<br><br>';
            result += '<span style="color: var(--success);">Results:</span><br>';
            result += 'original = [1, 2, [3, 4]]  <- unchanged!<br>';
            result += 'deep = [100, 2, [999, 4]]<br><br>';
            result += '<span style="color: var(--success);">Solution: Deep copy creates completely independent copies</span>';

            output.innerHTML = result;
        }

        // Quiz functions
        function initializeQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.innerHTML = `
                    <h3>Question ${index + 1}</h3>
                    <p>${q.question}</p>
                    <div class="quiz-options" id="options-${q.id}">
                        ${q.options.map((opt, optIdx) => `
                            <div class="quiz-option" onclick="selectAnswer(${q.id}, ${optIdx})">
                                ${String.fromCharCode(65 + optIdx)}. ${opt}
                            </div>
                        `).join('')}
                    </div>
                    <div class="feedback" id="feedback-${q.id}"></div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function selectAnswer(questionId, optionIndex) {
            quizAnswers[questionId] = optionIndex;

            const options = document.querySelectorAll(`#options-${questionId} .quiz-option`);
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                }
            });
        }

        function submitQuiz() {
            if (Object.keys(quizAnswers).length < quizQuestions.length) {
                alert('Please answer all questions before submitting!');
                return;
            }

            let score = 0;

            quizQuestions.forEach(q => {
                const userAnswer = quizAnswers[q.id];
                const isCorrect = userAnswer === q.correct;

                if (isCorrect) score++;

                const options = document.querySelectorAll(`#options-${q.id} .quiz-option`);
                options.forEach((opt, idx) => {
                    opt.style.pointerEvents = 'none';
                    if (idx === q.correct) {
                        opt.classList.add('correct');
                    } else if (idx === userAnswer && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                });

                const feedback = document.getElementById(`feedback-${q.id}`);
                feedback.className = `feedback show ${isCorrect ? 'success' : 'error'}`;
                feedback.innerHTML = `
                    <strong>${isCorrect ? 'Correct!' : 'Incorrect'}</strong><br>
                    ${q.explanation}
                `;
            });

            const percentage = (score / quizQuestions.length * 100).toFixed(0);
            const scoreDiv = document.getElementById('quizScore');
            scoreDiv.style.display = 'block';
            scoreDiv.innerHTML = `
                Your Score: ${score} / ${quizQuestions.length} (${percentage}%)<br>
                ${percentage >= 80 ? 'Excellent work!' : percentage >= 60 ? 'Good job! Review the incorrect answers.' : 'Keep studying and try again!'}
            `;

            scoreDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function resetQuiz() {
            quizAnswers = {};
            document.getElementById('quizScore').style.display = 'none';
            initializeQuiz();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize default list
            createList();

            // Initialize method list
            initializeMethodList();

            // Initialize comprehension preview
            buildComprehension();

            // Initialize quiz
            initializeQuiz();
        });
    </script>
</body>
</html>