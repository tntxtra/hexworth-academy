<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log Management Visualizer - House of Script</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #052e16 0%, #14532d 100%);
            color: #86efac;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #166534 0%, #22c55e 100%);
            padding: 20px 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        h1 {
            color: #052e16;
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .back-link {
            display: inline-block;
            color: #052e16;
            text-decoration: none;
            padding: 8px 16px;
            background: rgba(5, 46, 22, 0.2);
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .back-link:hover {
            background: rgba(5, 46, 22, 0.4);
            transform: translateX(-5px);
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: rgba(5, 46, 22, 0.9);
            border: 2px solid #166534;
            color: #86efac;
            cursor: pointer;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .tab-btn:hover {
            background: #166534;
            border-color: #22c55e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(34, 197, 94, 0.2);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #166534 0%, #22c55e 100%);
            color: #052e16;
            border-color: #22c55e;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            background: rgba(5, 46, 22, 0.9);
            border: 2px solid #166534;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        h2 {
            color: #22c55e;
            margin-bottom: 15px;
            font-size: 1.6em;
            border-bottom: 2px solid #166534;
            padding-bottom: 10px;
        }

        h3 {
            color: #22c55e;
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .log-explorer {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .log-files-list {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #166534;
            border-radius: 8px;
            padding: 15px;
        }

        .log-file-item {
            padding: 10px;
            margin: 5px 0;
            background: rgba(5, 46, 22, 0.5);
            border: 1px solid #166534;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .log-file-item:hover {
            background: #166534;
            border-color: #22c55e;
            transform: translateX(5px);
        }

        .log-file-item.active {
            background: linear-gradient(135deg, #166534 0%, #22c55e 100%);
            color: #052e16;
            font-weight: bold;
        }

        .log-viewer {
            background: #000;
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            max-height: 500px;
            overflow-y: auto;
            color: #86efac;
        }

        .log-entry {
            padding: 5px 0;
            border-bottom: 1px solid rgba(22, 101, 52, 0.3);
            line-height: 1.4;
        }

        .log-entry:hover {
            background: rgba(22, 101, 52, 0.2);
            cursor: pointer;
        }

        .timestamp { color: #fbbf24; }
        .hostname { color: #60a5fa; }
        .process { color: #c084fc; }
        .pid { color: #f472b6; }
        .severity-0, .severity-1, .severity-2, .severity-3 { color: #ef4444; font-weight: bold; }
        .severity-4 { color: #f97316; }
        .severity-5 { color: #fbbf24; }
        .severity-6 { color: #86efac; }
        .severity-7 { color: #9ca3af; }

        .anatomy-display {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .anatomy-entry {
            background: #000;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .anatomy-breakdown {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }

        .anatomy-part {
            background: rgba(5, 46, 22, 0.5);
            border-left: 4px solid #22c55e;
            padding: 12px;
            border-radius: 5px;
        }

        .anatomy-label {
            color: #22c55e;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .anatomy-value {
            color: #86efac;
            font-family: 'Courier New', monospace;
        }

        .logrotate-config {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .config-panel {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 20px;
        }

        .config-option {
            margin: 15px 0;
        }

        label {
            display: block;
            color: #22c55e;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #166534;
            color: #86efac;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-label {
            display: inline;
            margin-left: 10px;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #166534 0%, #22c55e 100%);
            color: #052e16;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
        }

        .rotation-visual {
            background: #000;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
        }

        .file-rotation {
            margin: 10px 0;
            padding: 10px;
            background: rgba(5, 46, 22, 0.3);
            border-left: 3px solid #22c55e;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .file-rotation.rotated {
            animation: rotateFile 0.5s ease;
        }

        @keyframes rotateFile {
            0% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(20px); opacity: 0.5; }
            100% { transform: translateX(0); opacity: 1; }
        }

        .command-demo {
            background: #000;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #166534;
        }

        .command-line {
            color: #22c55e;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }

        .command-output {
            color: #86efac;
            margin-left: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .severity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .severity-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .severity-card:hover {
            border-color: #22c55e;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(34, 197, 94, 0.3);
        }

        .severity-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .severity-name {
            color: #22c55e;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .syslog-diagram {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 25px;
            margin-top: 15px;
        }

        .diagram-node {
            background: rgba(5, 46, 22, 0.5);
            border: 2px solid #22c55e;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            transition: all 0.3s ease;
        }

        .diagram-node:hover {
            background: #166534;
            transform: scale(1.05);
        }

        .diagram-arrow {
            text-align: center;
            color: #22c55e;
            font-size: 1.5em;
            margin: 10px 0;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-question {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .question-text {
            color: #22c55e;
            font-size: 1.1em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            padding: 15px;
            background: rgba(5, 46, 22, 0.5);
            border: 2px solid #166534;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: #166534;
            border-color: #22c55e;
        }

        .quiz-option.selected {
            background: #166534;
            border-color: #22c55e;
        }

        .quiz-option.correct {
            background: #166534;
            border-color: #22c55e;
            animation: correctAnswer 0.5s ease;
        }

        .quiz-option.incorrect {
            background: #7f1d1d;
            border-color: #ef4444;
            animation: incorrectAnswer 0.5s ease;
        }

        @keyframes correctAnswer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes incorrectAnswer {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }

        .quiz-feedback.correct {
            background: rgba(22, 101, 52, 0.3);
            border: 2px solid #22c55e;
            color: #22c55e;
        }

        .quiz-feedback.incorrect {
            background: rgba(127, 29, 29, 0.3);
            border: 2px solid #ef4444;
            color: #ef4444;
        }

        .quiz-score {
            text-align: center;
            font-size: 1.5em;
            color: #22c55e;
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
        }

        .code-block {
            background: #000;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #166534;
            margin: 10px 0;
            overflow-x: auto;
        }

        .code-block code {
            color: #86efac;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .interactive-demo {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #166534;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .demo-input {
            width: 100%;
            padding: 10px;
            background: #000;
            border: 1px solid #166534;
            color: #86efac;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }

        .demo-output {
            background: #000;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            min-height: 100px;
            color: #86efac;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .scrollbar-style::-webkit-scrollbar {
            width: 10px;
        }

        .scrollbar-style::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .scrollbar-style::-webkit-scrollbar-thumb {
            background: #166534;
            border-radius: 5px;
        }

        .scrollbar-style::-webkit-scrollbar-thumb:hover {
            background: #22c55e;
        }

        @media (max-width: 768px) {
            .log-explorer,
            .logrotate-config {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.5em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Log Management Visualizer - House of Script</h1>
            <a href="../../catalog.html" class="back-link">&larr; Back to Catalog</a>
        </header>

        <div class="nav-tabs">
            <button class="tab-btn active" data-tab="explorer">Log Explorer</button>
            <button class="tab-btn" data-tab="anatomy">Log Anatomy</button>
            <button class="tab-btn" data-tab="logrotate">Logrotate Simulator</button>
            <button class="tab-btn" data-tab="parsing">Parsing Tools</button>
            <button class="tab-btn" data-tab="severity">Severity Levels</button>
            <button class="tab-btn" data-tab="centralized">Centralized Logging</button>
            <button class="tab-btn" data-tab="quiz">Quiz Mode</button>
        </div>

        <!-- Log Explorer Tab -->
        <div id="explorer" class="tab-content active">
            <div class="section">
                <h2>Log File Explorer</h2>
                <p>Explore common Linux and Windows log files to understand their structure and content.</p>

                <div class="log-explorer">
                    <div class="log-files-list">
                        <h3>Log Files</h3>
                        <div class="log-file-item active" data-log="syslog">/var/log/syslog</div>
                        <div class="log-file-item" data-log="auth">/var/log/auth.log</div>
                        <div class="log-file-item" data-log="kern">/var/log/kern.log</div>
                        <div class="log-file-item" data-log="apache-access">/var/log/apache2/access.log</div>
                        <div class="log-file-item" data-log="apache-error">/var/log/apache2/error.log</div>
                        <div class="log-file-item" data-log="journalctl">journalctl</div>
                        <div class="log-file-item" data-log="windows-system">Windows: System</div>
                        <div class="log-file-item" data-log="windows-security">Windows: Security</div>
                    </div>

                    <div class="log-viewer scrollbar-style" id="logViewer">
                        <!-- Log entries will be displayed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Log Anatomy Tab -->
        <div id="anatomy" class="tab-content">
            <div class="section">
                <h2>Log Entry Anatomy</h2>
                <p>Understanding the components of a log entry is crucial for effective log analysis.</p>

                <div class="anatomy-display">
                    <h3>Sample Log Entry</h3>
                    <div class="anatomy-entry" id="sampleLogEntry">
                        <span class="timestamp">Dec 11 14:23:45</span>
                        <span class="hostname">webserver01</span>
                        <span class="process">sshd</span>[<span class="pid">12345</span>]:
                        <span class="severity-6">Accepted publickey for admin from 192.168.1.100 port 52234 ssh2</span>
                    </div>

                    <div class="anatomy-breakdown">
                        <div class="anatomy-part">
                            <div class="anatomy-label">Timestamp</div>
                            <div class="anatomy-value">Dec 11 14:23:45</div>
                            <p>When the event occurred. Format varies (syslog, ISO 8601, Unix timestamp).</p>
                        </div>

                        <div class="anatomy-part">
                            <div class="anatomy-label">Hostname</div>
                            <div class="anatomy-value">webserver01</div>
                            <p>The system that generated the log entry. Essential for distributed systems.</p>
                        </div>

                        <div class="anatomy-part">
                            <div class="anatomy-label">Process Name</div>
                            <div class="anatomy-value">sshd</div>
                            <p>The program or service that generated the log. Helps categorize events.</p>
                        </div>

                        <div class="anatomy-part">
                            <div class="anatomy-label">Process ID (PID)</div>
                            <div class="anatomy-value">12345</div>
                            <p>Unique identifier for the process instance. Useful for tracking specific sessions.</p>
                        </div>

                        <div class="anatomy-part">
                            <div class="anatomy-label">Message</div>
                            <div class="anatomy-value">Accepted publickey for admin from 192.168.1.100 port 52234 ssh2</div>
                            <p>The actual event description. Contains the details of what happened.</p>
                        </div>

                        <div class="anatomy-part">
                            <div class="anatomy-label">Severity Level</div>
                            <div class="anatomy-value">Informational (6)</div>
                            <p>Indicates the importance of the event (0=Emergency to 7=Debug).</p>
                        </div>
                    </div>

                    <button onclick="parseNewLogEntry()">Parse Another Example</button>
                </div>
            </div>
        </div>

        <!-- Logrotate Simulator Tab -->
        <div id="logrotate" class="tab-content">
            <div class="section">
                <h2>Logrotate Simulator</h2>
                <p>Configure and visualize how logrotate manages log files to prevent disk space exhaustion.</p>

                <div class="logrotate-config">
                    <div class="config-panel">
                        <h3>Rotation Settings</h3>

                        <div class="config-option">
                            <label for="rotationInterval">Rotation Interval:</label>
                            <select id="rotationInterval">
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>

                        <div class="config-option">
                            <label for="rotateCount">Keep Last N Files:</label>
                            <input type="number" id="rotateCount" min="1" max="30" value="7">
                        </div>

                        <div class="config-option">
                            <label for="maxSize">Max Size Before Rotation (MB):</label>
                            <input type="number" id="maxSize" min="1" max="1000" value="100">
                        </div>

                        <div class="config-option">
                            <label>
                                <input type="checkbox" id="compressLogs" checked>
                                <span class="checkbox-label">Compress rotated logs</span>
                            </label>
                        </div>

                        <div class="config-option">
                            <label>
                                <input type="checkbox" id="delayCompress">
                                <span class="checkbox-label">Delay compression (delaycompress)</span>
                            </label>
                        </div>

                        <div class="config-option">
                            <label>
                                <input type="checkbox" id="dateExt" checked>
                                <span class="checkbox-label">Use date extension (dateext)</span>
                            </label>
                        </div>

                        <button onclick="simulateRotation()">Simulate Rotation</button>
                        <button onclick="generateConfig()">Generate Config File</button>
                    </div>

                    <div class="config-panel">
                        <h3>Rotation Visualization</h3>
                        <div class="rotation-visual scrollbar-style" id="rotationVisual">
                            <div class="file-rotation">application.log (Current - 45 MB)</div>
                            <div class="file-rotation">application.log.1 (72 MB)</div>
                            <div class="file-rotation">application.log.2.gz (18 MB compressed)</div>
                            <div class="file-rotation">application.log.3.gz (19 MB compressed)</div>
                            <div class="file-rotation">application.log.4.gz (21 MB compressed)</div>
                        </div>

                        <div id="configOutput" class="code-block" style="margin-top: 15px; display: none;">
                            <code id="configCode"></code>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parsing Tools Tab -->
        <div id="parsing" class="tab-content">
            <div class="section">
                <h2>Log Parsing Tools</h2>
                <p>Master essential command-line tools for log analysis and extraction.</p>

                <h3>Common grep Patterns</h3>
                <div class="command-demo">
                    <div class="command-line">$ grep "error" /var/log/syslog</div>
                    <div class="command-output">Search for lines containing "error"</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ grep -i "failed" /var/log/auth.log</div>
                    <div class="command-output">Case-insensitive search for "failed"</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ grep -E "error|warning|critical" /var/log/syslog</div>
                    <div class="command-output">Search for multiple patterns using extended regex</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ grep -A 3 -B 3 "kernel panic" /var/log/kern.log</div>
                    <div class="command-output">Show 3 lines before and after matches (context)</div>
                </div>

                <h3>awk for Field Extraction</h3>
                <div class="command-demo">
                    <div class="command-line">$ awk '{print $1, $2, $3}' /var/log/syslog</div>
                    <div class="command-output">Extract first three fields (timestamp)</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ awk '/error/ {print $0}' /var/log/syslog</div>
                    <div class="command-output">Print lines matching "error"</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ awk '{count[$5]++} END {for (proc in count) print proc, count[proc]}' /var/log/syslog</div>
                    <div class="command-output">Count occurrences by process name (field 5)</div>
                </div>

                <h3>Common One-Liners</h3>
                <div class="command-demo">
                    <div class="command-line">$ tail -f /var/log/syslog | grep --line-buffered "error"</div>
                    <div class="command-output">Real-time monitoring for errors</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ awk '{print $1}' /var/log/apache2/access.log | sort | uniq -c | sort -rn | head -10</div>
                    <div class="command-output">Top 10 IP addresses in Apache access log</div>
                </div>

                <div class="command-demo">
                    <div class="command-line">$ grep "Failed password" /var/log/auth.log | awk '{print $(NF-3)}' | sort | uniq -c | sort -rn</div>
                    <div class="command-output">Count failed login attempts by IP</div>
                </div>

                <h3>Interactive Parser</h3>
                <div class="interactive-demo">
                    <label>Enter a grep/awk pattern:</label>
                    <input type="text" id="parsePattern" class="demo-input" placeholder="e.g., grep 'error' or awk '{print $1, $5}'">
                    <button onclick="testPattern()">Test Pattern</button>
                    <div class="demo-output scrollbar-style" id="parseOutput">
                        Results will appear here...
                    </div>
                </div>
            </div>
        </div>

        <!-- Severity Levels Tab -->
        <div id="severity" class="tab-content">
            <div class="section">
                <h2>Log Severity Levels (RFC 5424)</h2>
                <p>Understanding severity levels helps prioritize log analysis and alerting.</p>

                <div class="severity-grid">
                    <div class="severity-card">
                        <div class="severity-number severity-0">0</div>
                        <div class="severity-name">Emergency</div>
                        <p>System is unusable. Immediate action required.</p>
                        <div class="code-block">
                            <code>kernel: Kernel panic - not syncing</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-1">1</div>
                        <div class="severity-name">Alert</div>
                        <p>Action must be taken immediately.</p>
                        <div class="code-block">
                            <code>database: Disk failure imminent</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-2">2</div>
                        <div class="severity-name">Critical</div>
                        <p>Critical conditions requiring attention.</p>
                        <div class="code-block">
                            <code>apache: Cannot allocate memory</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-3">3</div>
                        <div class="severity-name">Error</div>
                        <p>Error conditions that need resolution.</p>
                        <div class="code-block">
                            <code>sshd: Failed password for user</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-4">4</div>
                        <div class="severity-name">Warning</div>
                        <p>Warning conditions that may require attention.</p>
                        <div class="code-block">
                            <code>disk: 90% capacity reached</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-5">5</div>
                        <div class="severity-name">Notice</div>
                        <p>Normal but significant conditions.</p>
                        <div class="code-block">
                            <code>systemd: Service restarted</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-6">6</div>
                        <div class="severity-name">Informational</div>
                        <p>Informational messages about normal operations.</p>
                        <div class="code-block">
                            <code>sshd: User logged in successfully</code>
                        </div>
                    </div>

                    <div class="severity-card">
                        <div class="severity-number severity-7">7</div>
                        <div class="severity-name">Debug</div>
                        <p>Debug-level messages for development.</p>
                        <div class="code-block">
                            <code>app: Function called with params...</code>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Centralized Logging Tab -->
        <div id="centralized" class="tab-content">
            <div class="section">
                <h2>Centralized Logging Concepts</h2>
                <p>Learn about collecting and aggregating logs from multiple systems.</p>

                <h3>Syslog Protocol Architecture</h3>
                <div class="syslog-diagram">
                    <div class="diagram-node">
                        <strong>Log Sources</strong><br>
                        Applications, Services, Devices
                    </div>
                    <div class="diagram-arrow">↓</div>
                    <div class="diagram-node">
                        <strong>Local Syslog Daemon</strong><br>
                        rsyslog / syslog-ng
                    </div>
                    <div class="diagram-arrow">↓ (UDP 514 / TCP 514 / TLS 6514)</div>
                    <div class="diagram-node">
                        <strong>Centralized Log Server</strong><br>
                        Aggregation & Storage
                    </div>
                    <div class="diagram-arrow">↓</div>
                    <div class="diagram-node">
                        <strong>Analysis & Visualization</strong><br>
                        ELK Stack, Splunk, Graylog
                    </div>
                </div>

                <h3>rsyslog Configuration</h3>
                <div class="code-block">
                    <code># /etc/rsyslog.conf - Basic configuration

# Load modules
module(load="imuxsock")    # Local system logging
module(load="imklog")      # Kernel logging

# Global directives
$WorkDirectory /var/spool/rsyslog
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# Rules
*.info;mail.none;authpriv.none;cron.none    /var/log/messages
authpriv.*                                   /var/log/secure
mail.*                                       /var/log/maillog
cron.*                                       /var/log/cron
*.emerg                                      :omusrmsg:*

# Forward logs to central server
*.* @@logserver.example.com:514

# Alternative: Save to file with specific format
$template CustomFormat,"%TIMESTAMP% %HOSTNAME% %syslogtag%%msg%\n"
*.* /var/log/custom.log;CustomFormat</code>
                </div>

                <h3>Key Concepts</h3>
                <div class="anatomy-breakdown">
                    <div class="anatomy-part">
                        <div class="anatomy-label">Facility</div>
                        <p>Category of the log source: kern, user, mail, daemon, auth, syslog, lpr, news, uucp, cron, authpriv, ftp, local0-local7</p>
                    </div>

                    <div class="anatomy-part">
                        <div class="anatomy-label">Priority</div>
                        <p>Combination of facility and severity level. Example: mail.info, auth.warning, kern.emerg</p>
                    </div>

                    <div class="anatomy-part">
                        <div class="anatomy-label">UDP vs TCP</div>
                        <p>UDP (514): Fast but unreliable. TCP (514/6514): Reliable with guaranteed delivery. TLS: Encrypted transmission.</p>
                    </div>

                    <div class="anatomy-part">
                        <div class="anatomy-label">Log Aggregation Benefits</div>
                        <p>Centralized storage, correlation across systems, easier compliance, reduced storage on endpoints, unified search and analysis.</p>
                    </div>
                </div>

                <h3>Sample Remote Logging Setup</h3>
                <div class="code-block">
                    <code># On the client (sender)
# /etc/rsyslog.d/50-remote.conf
*.* @@192.168.1.100:514   # TCP
# *.* @192.168.1.100:514  # UDP (@ = UDP, @@ = TCP)

# On the server (receiver)
# /etc/rsyslog.d/50-server.conf
module(load="imtcp")
input(type="imtcp" port="514")

# Template for remote logs
$template RemoteHost,"/var/log/remote/%HOSTNAME%/%PROGRAMNAME%.log"
*.* ?RemoteHost</code>
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="section">
                <h2>Log Management Quiz</h2>
                <p>Test your knowledge of log management concepts and best practices.</p>

                <div class="quiz-container" id="quizContainer">
                    <!-- Quiz questions will be generated here -->
                </div>

                <div class="quiz-score" id="quizScore" style="display: none;"></div>
                <button onclick="resetQuiz()" style="display: none; margin: 20px auto; display: block;" id="resetQuizBtn">Restart Quiz</button>
            </div>
        </div>
    </div>

    <script>
        // Sample log data
        const logData = {
            syslog: [
                { timestamp: 'Dec 11 10:15:23', hostname: 'webserver01', process: 'systemd', pid: '1', severity: 6, message: 'Started Session 42 of user admin.' },
                { timestamp: 'Dec 11 10:16:45', hostname: 'webserver01', process: 'kernel', pid: '', severity: 4, message: 'Out of memory: Kill process 5432 (chrome) score 892' },
                { timestamp: 'Dec 11 10:17:12', hostname: 'webserver01', process: 'NetworkManager', pid: '892', severity: 6, message: 'device (eth0): carrier now ON' },
                { timestamp: 'Dec 11 10:18:33', hostname: 'webserver01', process: 'sshd', pid: '12456', severity: 6, message: 'Accepted publickey for admin from 192.168.1.50 port 45678' },
                { timestamp: 'Dec 11 10:19:01', hostname: 'webserver01', process: 'CRON', pid: '13245', severity: 6, message: '(root) CMD (/usr/local/bin/backup.sh)' },
                { timestamp: 'Dec 11 10:20:15', hostname: 'webserver01', process: 'apache2', pid: '3421', severity: 3, message: 'File does not exist: /var/www/html/favicon.ico' },
                { timestamp: 'Dec 11 10:21:44', hostname: 'webserver01', process: 'systemd', pid: '1', severity: 5, message: 'Stopping MySQL Community Server...' },
                { timestamp: 'Dec 11 10:22:05', hostname: 'webserver01', process: 'systemd', pid: '1', severity: 5, message: 'Stopped MySQL Community Server.' }
            ],
            auth: [
                { timestamp: 'Dec 11 09:23:15', hostname: 'server02', process: 'sshd', pid: '8901', severity: 6, message: 'Accepted password for john from 10.0.0.25 port 52341 ssh2' },
                { timestamp: 'Dec 11 09:25:42', hostname: 'server02', process: 'sudo', pid: '8945', severity: 5, message: 'john : TTY=pts/0 ; PWD=/home/john ; USER=root ; COMMAND=/bin/cat /var/log/auth.log' },
                { timestamp: 'Dec 11 09:27:33', hostname: 'server02', process: 'sshd', pid: '9012', severity: 3, message: 'Failed password for invalid user admin from 203.0.113.45 port 41234 ssh2' },
                { timestamp: 'Dec 11 09:28:11', hostname: 'server02', process: 'sshd', pid: '9012', severity: 3, message: 'Failed password for invalid user admin from 203.0.113.45 port 41234 ssh2' },
                { timestamp: 'Dec 11 09:28:45', hostname: 'server02', process: 'sshd', pid: '9012', severity: 3, message: 'Failed password for invalid user root from 203.0.113.45 port 41234 ssh2' },
                { timestamp: 'Dec 11 09:29:22', hostname: 'server02', process: 'sshd', pid: '9078', severity: 6, message: 'Connection closed by 203.0.113.45 port 41234 [preauth]' },
                { timestamp: 'Dec 11 09:30:05', hostname: 'server02', process: 'su', pid: '9123', severity: 5, message: 'Successful su for root by john' }
            ],
            kern: [
                { timestamp: 'Dec 11 08:00:01', hostname: 'server03', process: 'kernel', pid: '', severity: 6, message: 'Linux version 5.15.0-91-generic (buildd@lcy02-amd64-026)' },
                { timestamp: 'Dec 11 08:00:15', hostname: 'server03', process: 'kernel', pid: '', severity: 6, message: 'Command line: BOOT_IMAGE=/boot/vmlinuz-5.15.0-91-generic root=UUID=abc123' },
                { timestamp: 'Dec 11 08:01:23', hostname: 'server03', process: 'kernel', pid: '', severity: 4, message: 'ACPI: IRQ 9 used by override.' },
                { timestamp: 'Dec 11 08:02:45', hostname: 'server03', process: 'kernel', pid: '', severity: 6, message: 'EXT4-fs (sda1): mounted filesystem with ordered data mode' },
                { timestamp: 'Dec 11 08:03:12', hostname: 'server03', process: 'kernel', pid: '', severity: 4, message: 'usb 1-1: device descriptor read/64, error -110' }
            ],
            'apache-access': [
                '192.168.1.105 - - [11/Dec/2025:14:23:45 +0000] "GET /index.html HTTP/1.1" 200 2345',
                '10.0.0.50 - - [11/Dec/2025:14:24:12 +0000] "POST /api/login HTTP/1.1" 200 156',
                '203.0.113.89 - - [11/Dec/2025:14:25:33 +0000] "GET /admin.php HTTP/1.1" 404 523',
                '192.168.1.106 - - [11/Dec/2025:14:26:01 +0000] "GET /images/logo.png HTTP/1.1" 304 0',
                '172.16.0.23 - john [11/Dec/2025:14:27:45 +0000] "GET /dashboard HTTP/1.1" 200 8934',
                '192.168.1.107 - - [11/Dec/2025:14:28:22 +0000] "GET /styles.css HTTP/1.1" 200 4521',
                '10.0.0.51 - - [11/Dec/2025:14:29:05 +0000] "GET /api/users HTTP/1.1" 200 2341'
            ],
            'apache-error': [
                { timestamp: '[Tue Dec 11 14:15:23.456789 2025]', severity: 3, message: '[core:error] [pid 12345] [client 192.168.1.105:52341] AH00135: Invalid method in request \\x16\\x03\\x01' },
                { timestamp: '[Tue Dec 11 14:16:45.123456 2025]', severity: 4, message: '[mpm_prefork:notice] [pid 1234] AH00163: Apache/2.4.41 (Ubuntu) configured -- resuming normal operations' },
                { timestamp: '[Tue Dec 11 14:17:12.789012 2025]', severity: 3, message: '[php7:error] [pid 12346] [client 10.0.0.50:45678] PHP Fatal error: Uncaught Error: Call to undefined function' },
                { timestamp: '[Tue Dec 11 14:18:33.345678 2025]', severity: 4, message: '[ssl:warn] [pid 1234] AH01909: RSA certificate configured for webserver01:443 does NOT include an ID' }
            ],
            journalctl: [
                { timestamp: 'Dec 11 13:15:23', hostname: 'server04', process: 'systemd[1]', severity: 6, message: 'Started Daily apt download activities.' },
                { timestamp: 'Dec 11 13:16:45', hostname: 'server04', process: 'nginx[2345]', severity: 6, message: 'nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)' },
                { timestamp: 'Dec 11 13:17:12', hostname: 'server04', process: 'docker[3456]', severity: 6, message: 'time="2025-12-11T13:17:12.123456789Z" level=info msg="Container started" container=web1' },
                { timestamp: 'Dec 11 13:18:33', hostname: 'server04', process: 'postgresql[4567]', severity: 5, message: 'LOG: database system is ready to accept connections' }
            ],
            'windows-system': [
                { timestamp: '12/11/2025 2:15:23 PM', source: 'Service Control Manager', eventID: '7036', severity: 6, message: 'The Windows Update service entered the running state.' },
                { timestamp: '12/11/2025 2:16:45 PM', source: 'Microsoft-Windows-Kernel-Power', eventID: '41', severity: 2, message: 'The system has rebooted without cleanly shutting down first.' },
                { timestamp: '12/11/2025 2:17:12 PM', source: 'Application Error', eventID: '1000', severity: 3, message: 'Faulting application name: chrome.exe, version: 120.0.6099.130' },
                { timestamp: '12/11/2025 2:18:33 PM', source: 'Microsoft-Windows-WindowsUpdateClient', eventID: '19', severity: 6, message: 'Installation Successful: Windows successfully installed the following update' }
            ],
            'windows-security': [
                { timestamp: '12/11/2025 2:15:23 PM', eventID: '4624', severity: 6, message: 'An account was successfully logged on. Subject: Account Name: SYSTEM. Logon Type: 5' },
                { timestamp: '12/11/2025 2:16:45 PM', eventID: '4625', severity: 3, message: 'An account failed to log on. Account Name: admin. Failure Reason: Unknown user name or bad password.' },
                { timestamp: '12/11/2025 2:17:12 PM', eventID: '4672', severity: 6, message: 'Special privileges assigned to new logon. Subject: Account Name: Administrator' },
                { timestamp: '12/11/2025 2:18:33 PM', eventID: '4688', severity: 6, message: 'A new process has been created. Process Name: C:\\Windows\\System32\\cmd.exe' }
            ]
        };

        // Sample log entries for anatomy parsing
        const sampleLogs = [
            '<span class="timestamp">Dec 11 14:23:45</span> <span class="hostname">webserver01</span> <span class="process">sshd</span>[<span class="pid">12345</span>]: <span class="severity-6">Accepted publickey for admin from 192.168.1.100 port 52234 ssh2</span>',
            '<span class="timestamp">Dec 11 08:15:32</span> <span class="hostname">dbserver</span> <span class="process">postgresql</span>[<span class="pid">8901</span>]: <span class="severity-3">FATAL: database "production" does not exist</span>',
            '<span class="timestamp">Dec 11 16:42:11</span> <span class="hostname">mailserver</span> <span class="process">postfix/smtp</span>[<span class="pid">5678</span>]: <span class="severity-5">connect from unknown[203.0.113.45]</span>',
            '<span class="timestamp">Dec 11 22:05:19</span> <span class="hostname">firewall01</span> <span class="process">kernel</span>: <span class="severity-4">DROPPED: IN=eth0 OUT= SRC=198.51.100.23 DST=192.168.1.1 PROTO=TCP SPT=41234 DPT=22</span>'
        ];

        let currentLogIndex = 0;

        // Tab switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabName = btn.dataset.tab;

                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                btn.classList.add('active');
                document.getElementById(tabName).classList.add('active');
            });
        });

        // Log Explorer
        function displayLog(logType) {
            const viewer = document.getElementById('logViewer');
            viewer.innerHTML = '';

            if (logType === 'apache-access') {
                logData[logType].forEach(entry => {
                    const div = document.createElement('div');
                    div.className = 'log-entry';
                    div.textContent = entry;
                    viewer.appendChild(div);
                });
            } else if (logType === 'apache-error') {
                logData[logType].forEach(entry => {
                    const div = document.createElement('div');
                    div.className = 'log-entry';
                    div.innerHTML = `<span class="timestamp">${entry.timestamp}</span> <span class="severity-${entry.severity}">${entry.message}</span>`;
                    viewer.appendChild(div);
                });
            } else if (logType.startsWith('windows')) {
                logData[logType].forEach(entry => {
                    const div = document.createElement('div');
                    div.className = 'log-entry';
                    div.innerHTML = `<span class="timestamp">${entry.timestamp}</span> <span class="process">${entry.source}</span> EventID:<span class="pid">${entry.eventID}</span> <span class="severity-${entry.severity}">${entry.message}</span>`;
                    viewer.appendChild(div);
                });
            } else {
                logData[logType].forEach(entry => {
                    const div = document.createElement('div');
                    div.className = 'log-entry';
                    const pidDisplay = entry.pid ? `[<span class="pid">${entry.pid}</span>]` : '';
                    div.innerHTML = `<span class="timestamp">${entry.timestamp}</span> <span class="hostname">${entry.hostname}</span> <span class="process">${entry.process}</span>${pidDisplay}: <span class="severity-${entry.severity}">${entry.message}</span>`;
                    viewer.appendChild(div);
                });
            }
        }

        document.querySelectorAll('.log-file-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.log-file-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                displayLog(item.dataset.log);
            });
        });

        // Initialize with syslog
        displayLog('syslog');

        // Log Anatomy - Parse new entry
        function parseNewLogEntry() {
            currentLogIndex = (currentLogIndex + 1) % sampleLogs.length;
            document.getElementById('sampleLogEntry').innerHTML = sampleLogs[currentLogIndex];
        }

        // Logrotate Simulator
        function simulateRotation() {
            const visual = document.getElementById('rotationVisual');
            const count = parseInt(document.getElementById('rotateCount').value);
            const compress = document.getElementById('compressLogs').checked;
            const delayCompress = document.getElementById('delayCompress').checked;
            const dateExt = document.getElementById('dateExt').checked;

            visual.innerHTML = '';

            // Current log
            const current = document.createElement('div');
            current.className = 'file-rotation rotated';
            current.textContent = 'application.log (Current - 0 MB) [NEW]';
            visual.appendChild(current);

            // Rotated files
            for (let i = 1; i <= count; i++) {
                const file = document.createElement('div');
                file.className = 'file-rotation rotated';

                let fileName = 'application.log';
                if (dateExt) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    fileName += `-${date.toISOString().split('T')[0]}`;
                } else {
                    fileName += `.${i}`;
                }

                const shouldCompress = compress && !(delayCompress && i === 1);
                if (shouldCompress) {
                    fileName += '.gz';
                }

                const size = Math.floor(Math.random() * 50) + 20;
                const sizeLabel = shouldCompress ? `${Math.floor(size * 0.3)} MB compressed` : `${size} MB`;

                file.textContent = `${fileName} (${sizeLabel})`;
                visual.appendChild(file);

                setTimeout(() => {
                    file.classList.remove('rotated');
                }, i * 100);
            }
        }

        function generateConfig() {
            const interval = document.getElementById('rotationInterval').value;
            const count = document.getElementById('rotateCount').value;
            const maxSize = document.getElementById('maxSize').value;
            const compress = document.getElementById('compressLogs').checked;
            const delayCompress = document.getElementById('delayCompress').checked;
            const dateExt = document.getElementById('dateExt').checked;

            let config = `/var/log/application.log {\n`;
            config += `    ${interval}\n`;
            config += `    rotate ${count}\n`;
            config += `    size ${maxSize}M\n`;
            config += `    missingok\n`;
            config += `    notifempty\n`;
            if (compress) config += `    compress\n`;
            if (delayCompress) config += `    delaycompress\n`;
            if (dateExt) config += `    dateext\n`;
            config += `    create 0644 root root\n`;
            config += `    postrotate\n`;
            config += `        /usr/bin/systemctl reload application >/dev/null 2>&1 || true\n`;
            config += `    endscript\n`;
            config += `}`;

            document.getElementById('configCode').textContent = config;
            document.getElementById('configOutput').style.display = 'block';
        }

        // Log Parsing Tools - Interactive Parser
        const sampleLogLines = [
            'Dec 11 10:15:23 server01 sshd[12345]: Accepted publickey for admin',
            'Dec 11 10:16:45 server01 kernel: Out of memory: Kill process 5432',
            'Dec 11 10:17:12 server01 apache2[3421]: File does not exist: /var/www/html/favicon.ico',
            'Dec 11 10:18:33 server01 systemd[1]: Started MySQL Community Server',
            'Dec 11 10:19:01 server01 CRON[13245]: (root) CMD (/usr/local/bin/backup.sh)'
        ];

        function testPattern() {
            const pattern = document.getElementById('parsePattern').value;
            const output = document.getElementById('parseOutput');

            if (!pattern) {
                output.textContent = 'Please enter a pattern to test.';
                return;
            }

            output.innerHTML = '<strong>Testing pattern:</strong> ' + pattern + '\n\n<strong>Sample log data:</strong>\n';
            sampleLogLines.forEach(line => {
                output.innerHTML += line + '\n';
            });

            output.innerHTML += '\n<strong>Results:</strong>\n';

            // Simulate grep
            if (pattern.toLowerCase().includes('grep')) {
                const searchTerm = pattern.match(/grep\s+['"]?(\w+)['"]?/i);
                if (searchTerm) {
                    const term = searchTerm[1];
                    const matches = sampleLogLines.filter(line =>
                        line.toLowerCase().includes(term.toLowerCase())
                    );
                    if (matches.length > 0) {
                        output.innerHTML += matches.join('\n');
                    } else {
                        output.innerHTML += '(no matches found)';
                    }
                }
            }
            // Simulate awk
            else if (pattern.toLowerCase().includes('awk')) {
                const fieldMatch = pattern.match(/\$(\d+)/g);
                if (fieldMatch) {
                    sampleLogLines.forEach(line => {
                        const fields = line.split(/\s+/);
                        const result = fieldMatch.map(f => {
                            const num = parseInt(f.substring(1));
                            return fields[num - 1] || '';
                        }).join(' ');
                        output.innerHTML += result + '\n';
                    });
                } else {
                    output.innerHTML += 'AWK pattern detected. Specify fields with $1, $2, etc.';
                }
            } else {
                output.innerHTML += 'Try patterns like:\n';
                output.innerHTML += '- grep "error"\n';
                output.innerHTML += '- grep "sshd"\n';
                output.innerHTML += '- awk \'{print $1, $2, $3}\'\n';
                output.innerHTML += '- awk \'{print $5}\'';
            }
        }

        // Quiz Questions
        const quizQuestions = [
            {
                question: 'What is the highest severity level in syslog (RFC 5424)?',
                options: ['Debug', 'Informational', 'Emergency', 'Critical'],
                correct: 2,
                explanation: 'Emergency (0) is the highest severity, indicating the system is unusable.'
            },
            {
                question: 'Which command is used to view systemd journal logs?',
                options: ['logview', 'journalctl', 'syslog', 'dmesg'],
                correct: 1,
                explanation: 'journalctl is the command-line utility to query and display logs from systemd journal.'
            },
            {
                question: 'What does the logrotate "compress" directive do?',
                options: ['Delete old logs', 'Compress rotated logs with gzip', 'Compress the current log', 'Archive logs to tape'],
                correct: 1,
                explanation: 'The compress directive tells logrotate to compress rotated log files using gzip to save disk space.'
            },
            {
                question: 'Which file typically contains SSH authentication logs on Linux?',
                options: ['/var/log/messages', '/var/log/auth.log', '/var/log/syslog', '/var/log/ssh.log'],
                correct: 1,
                explanation: '/var/log/auth.log (or /var/log/secure on RHEL-based systems) contains authentication-related logs including SSH.'
            },
            {
                question: 'What is the default syslog UDP port?',
                options: ['53', '514', '515', '161'],
                correct: 1,
                explanation: 'Port 514 is the standard UDP port for syslog. TCP can also use 514, and TLS typically uses 6514.'
            },
            {
                question: 'Which grep option makes the search case-insensitive?',
                options: ['-c', '-v', '-i', '-n'],
                correct: 2,
                explanation: 'The -i option makes grep perform case-insensitive matching.'
            },
            {
                question: 'What does "rotate 7" mean in logrotate configuration?',
                options: ['Rotate every 7 days', 'Keep 7 old log files', 'Rotate at 7 AM', 'Rotate files larger than 7 MB'],
                correct: 1,
                explanation: 'rotate 7 means keep the last 7 rotated log files before deleting the oldest.'
            },
            {
                question: 'Which severity level represents "Warning"?',
                options: ['3', '4', '5', '6'],
                correct: 1,
                explanation: 'Warning is severity level 4 in the syslog standard (0=Emergency, 7=Debug).'
            },
            {
                question: 'What is the purpose of centralized logging?',
                options: ['Reduce log file sizes', 'Aggregate logs from multiple systems', 'Encrypt all logs', 'Delete old logs automatically'],
                correct: 1,
                explanation: 'Centralized logging aggregates logs from multiple systems to a central location for easier analysis and correlation.'
            },
            {
                question: 'Which awk special variable contains the entire current line?',
                options: ['$1', '$NF', '$0', '$ALL'],
                correct: 2,
                explanation: '$0 in awk represents the entire current record/line being processed.'
            }
        ];

        let currentQuestionIndex = 0;
        let quizScore = 0;
        let answeredQuestions = new Set();

        function loadQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.innerHTML = `
                    <div class="question-text">Question ${index + 1}: ${q.question}</div>
                    <div class="quiz-options" data-question="${index}">
                        ${q.options.map((opt, i) => `
                            <div class="quiz-option" data-option="${i}">
                                ${opt}
                            </div>
                        `).join('')}
                    </div>
                    <div class="quiz-feedback" id="feedback-${index}" style="display: none;"></div>
                `;
                container.appendChild(questionDiv);
            });

            // Add click handlers
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.addEventListener('click', handleQuizAnswer);
            });
        }

        function handleQuizAnswer(e) {
            const option = e.target;
            const optionsContainer = option.parentElement;
            const questionIndex = parseInt(optionsContainer.dataset.question);
            const selectedOption = parseInt(option.dataset.option);

            // Prevent re-answering
            if (answeredQuestions.has(questionIndex)) {
                return;
            }

            answeredQuestions.add(questionIndex);
            const question = quizQuestions[questionIndex];
            const feedback = document.getElementById(`feedback-${questionIndex}`);

            // Disable all options for this question
            optionsContainer.querySelectorAll('.quiz-option').forEach(opt => {
                opt.style.cursor = 'not-allowed';
                opt.style.opacity = '0.6';
            });

            if (selectedOption === question.correct) {
                option.classList.add('correct');
                feedback.className = 'quiz-feedback correct';
                feedback.textContent = 'Correct! ' + question.explanation;
                quizScore++;
            } else {
                option.classList.add('incorrect');
                optionsContainer.querySelectorAll('.quiz-option')[question.correct].classList.add('correct');
                feedback.className = 'quiz-feedback incorrect';
                feedback.textContent = 'Incorrect. ' + question.explanation;
            }

            feedback.style.display = 'block';

            // Check if quiz is complete
            if (answeredQuestions.size === quizQuestions.length) {
                setTimeout(showQuizResults, 500);
            }
        }

        function showQuizResults() {
            const scoreDiv = document.getElementById('quizScore');
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);

            let message = '';
            if (percentage >= 90) {
                message = 'Excellent! You are a log management expert!';
            } else if (percentage >= 70) {
                message = 'Great job! You have a solid understanding of log management.';
            } else if (percentage >= 50) {
                message = 'Good effort! Review the concepts and try again.';
            } else {
                message = 'Keep learning! Log management is a critical skill.';
            }

            scoreDiv.innerHTML = `
                <strong>Quiz Complete!</strong><br>
                Score: ${quizScore} / ${quizQuestions.length} (${percentage}%)<br>
                ${message}
            `;
            scoreDiv.style.display = 'block';
            document.getElementById('resetQuizBtn').style.display = 'block';
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            answeredQuestions.clear();
            document.getElementById('quizScore').style.display = 'none';
            document.getElementById('resetQuizBtn').style.display = 'none';
            loadQuiz();
        }

        // Initialize quiz on page load
        loadQuiz();

        // Console message
        console.log('%cLog Management Visualizer - House of Script', 'color: #22c55e; font-size: 20px; font-weight: bold;');
        console.log('%cEducational tool for understanding log management concepts', 'color: #86efac; font-size: 14px;');
    </script>
</body>
</html>