<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Command Line Tools - CompTIA A+ Core 2</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            background: linear-gradient(135deg, #166534 0%, #15803d 100%);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(22, 101, 52, 0.3);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            color: #d1fae5;
            font-size: 1.1em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 24px;
            background: #1e293b;
            border: 2px solid #166534;
            color: #e2e8f0;
            cursor: pointer;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab-btn:hover {
            background: #166534;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(22, 101, 52, 0.4);
        }

        .tab-btn.active {
            background: #166534;
            box-shadow: 0 5px 15px rgba(22, 101, 52, 0.4);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            background: #1e293b;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #334155;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .section h2 {
            color: #4ade80;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid #166534;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #7c3aed;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        /* Command Simulator Styles */
        .terminal {
            background: #0a0e1a;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            margin-top: 15px;
            border: 2px solid #166534;
        }

        .terminal-header {
            color: #4ade80;
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #166534;
        }

        .terminal-output {
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
            color: #e2e8f0;
            line-height: 1.5;
        }

        .terminal-prompt {
            color: #4ade80;
        }

        .terminal-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal-input {
            flex: 1;
            background: #1e293b;
            border: 2px solid #166534;
            color: #e2e8f0;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 1em;
        }

        .terminal-input:focus {
            outline: none;
            border-color: #4ade80;
            box-shadow: 0 0 10px rgba(74, 222, 128, 0.3);
        }

        .btn {
            padding: 10px 20px;
            background: #166534;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #15803d;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(22, 101, 52, 0.4);
        }

        .btn-secondary {
            background: #7c3aed;
        }

        .btn-secondary:hover {
            background: #6d28d9;
        }

        /* Command Reference Styles */
        .search-box {
            width: 100%;
            padding: 12px;
            background: #0f172a;
            border: 2px solid #166534;
            color: #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            margin-bottom: 20px;
        }

        .search-box:focus {
            outline: none;
            border-color: #4ade80;
            box-shadow: 0 0 10px rgba(74, 222, 128, 0.3);
        }

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .command-card {
            background: #0f172a;
            border: 2px solid #334155;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .command-card:hover {
            border-color: #166534;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(22, 101, 52, 0.3);
        }

        .command-name {
            color: #4ade80;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 8px;
            font-family: 'Courier New', monospace;
        }

        .command-desc {
            color: #cbd5e1;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .command-syntax {
            background: #1e293b;
            padding: 8px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            color: #a5b4fc;
            font-size: 0.85em;
            margin-top: 10px;
            word-wrap: break-word;
        }

        .command-category {
            display: inline-block;
            padding: 4px 8px;
            background: #7c3aed;
            color: white;
            border-radius: 4px;
            font-size: 0.75em;
            margin-top: 8px;
        }

        /* Scenario Styles */
        .scenario-card {
            background: #0f172a;
            border-left: 4px solid #7c3aed;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .scenario-title {
            color: #c4b5fd;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .scenario-problem {
            color: #fca5a5;
            margin-bottom: 15px;
            padding: 10px;
            background: #1e1b2e;
            border-radius: 5px;
        }

        .scenario-answer {
            display: none;
            background: #1e293b;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 3px solid #4ade80;
        }

        .scenario-answer.show {
            display: block;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 500px; }
        }

        /* Quiz Styles */
        .quiz-question {
            background: #0f172a;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            border: 2px solid #334155;
        }

        .quiz-question-text {
            color: #e2e8f0;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            padding: 12px;
            background: #1e293b;
            border: 2px solid #334155;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            border-color: #166534;
            background: #0f172a;
        }

        .quiz-option.selected {
            border-color: #7c3aed;
            background: #2e1a4d;
        }

        .quiz-option.correct {
            border-color: #4ade80;
            background: #1a3d2e;
        }

        .quiz-option.incorrect {
            border-color: #f87171;
            background: #3d1a1a;
        }

        .quiz-result {
            margin-top: 20px;
            padding: 20px;
            background: #0f172a;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2em;
        }

        .quiz-score {
            font-size: 2em;
            color: #4ade80;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Cheat Sheet Styles */
        .cheat-sheet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .cheat-category {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            border-top: 3px solid #166534;
        }

        .cheat-category h4 {
            color: #4ade80;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .cheat-item {
            padding: 10px;
            margin-bottom: 10px;
            background: #1e293b;
            border-radius: 5px;
            border-left: 3px solid #7c3aed;
        }

        .cheat-command {
            color: #a5b4fc;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .cheat-desc {
            color: #cbd5e1;
            font-size: 0.9em;
        }

        /* Utility Classes */
        .text-green {
            color: #4ade80;
        }

        .text-purple {
            color: #c4b5fd;
        }

        .text-error {
            color: #f87171;
        }

        .text-warning {
            color: #fbbf24;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        /* Scrollbar Styles */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #166534;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #15803d;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .command-grid,
            .cheat-sheet-grid {
                grid-template-columns: 1fr;
            }

            .tab-btn {
                width: 100%;
            }
        }

        .info-box {
            background: #0f172a;
            border-left: 4px solid #fbbf24;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .info-box strong {
            color: #fbbf24;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: #1e293b;
            padding: 30px;
            border-radius: 12px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #166534;
        }

        .modal-header {
            color: #4ade80;
            font-size: 1.5em;
            margin-bottom: 20px;
            border-bottom: 2px solid #166534;
            padding-bottom: 10px;
        }

        .close-modal {
            float: right;
            font-size: 1.5em;
            cursor: pointer;
            color: #f87171;
            font-weight: bold;
        }

        .close-modal:hover {
            color: #ef4444;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Windows Command Line Tools</h1>
            <p class="subtitle">CompTIA A+ Core 2 - Interactive Learning Platform</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('simulator')">Command Simulator</button>
            <button class="tab-btn" onclick="switchTab('reference')">Command Reference</button>
            <button class="tab-btn" onclick="switchTab('scenarios')">Scenario Challenges</button>
            <button class="tab-btn" onclick="switchTab('cheatsheet')">Cheat Sheet</button>
            <button class="tab-btn" onclick="switchTab('quiz')">Quiz</button>
        </div>

        <!-- Command Simulator Tab -->
        <div id="simulator" class="tab-content active">
            <div class="section">
                <h2>Windows Command Line Simulator</h2>
                <div class="info-box">
                    <strong>Tip:</strong> Try commands like 'ipconfig', 'sfc /scannow', 'chkdsk', 'help', or 'tasklist'. Type 'help' to see all available commands!
                </div>

                <div class="terminal">
                    <div class="terminal-header">
                        <div class="terminal-dot"></div>
                        <div class="terminal-dot"></div>
                        <div class="terminal-dot"></div>
                        <span>Command Prompt - Simulator Mode</span>
                    </div>
                    <div class="terminal-output" id="terminalOutput">
                        <div>Microsoft Windows [Version 10.0.19045.0]</div>
                        <div>(c) Microsoft Corporation. All rights reserved.</div>
                        <div style="margin-top: 10px;">C:\Users\Student&gt; <span class="text-warning">Type 'help' to see available commands</span></div>
                        <div style="margin-bottom: 15px;"></div>
                    </div>
                    <div class="terminal-input-container">
                        <span class="terminal-prompt">C:\Users\Student&gt;</span>
                        <input type="text" class="terminal-input" id="commandInput" placeholder="Type a command..." autocomplete="off">
                        <button class="btn" onclick="executeCommand()">Execute</button>
                        <button class="btn btn-secondary" onclick="clearTerminal()">Clear</button>
                    </div>
                </div>

                <div class="mt-20">
                    <h3>Quick Command Buttons</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
                        <button class="btn" onclick="quickCommand('ipconfig')">ipconfig</button>
                        <button class="btn" onclick="quickCommand('ipconfig /all')">ipconfig /all</button>
                        <button class="btn" onclick="quickCommand('ping 8.8.8.8')">ping 8.8.8.8</button>
                        <button class="btn" onclick="quickCommand('netstat -an')">netstat -an</button>
                        <button class="btn" onclick="quickCommand('tasklist')">tasklist</button>
                        <button class="btn" onclick="quickCommand('sfc /scannow')">sfc /scannow</button>
                        <button class="btn" onclick="quickCommand('chkdsk C:')">chkdsk C:</button>
                        <button class="btn" onclick="quickCommand('gpupdate /force')">gpupdate /force</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Command Reference Tab -->
        <div id="reference" class="tab-content">
            <div class="section">
                <h2>Command Reference Database</h2>
                <input type="text" class="search-box" id="searchBox" placeholder="Search commands... (e.g., 'network', 'disk', 'system')" onkeyup="filterCommands()">

                <div class="command-grid" id="commandGrid">
                    <!-- Commands will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Scenario Challenges Tab -->
        <div id="scenarios" class="tab-content">
            <div class="section">
                <h2>Scenario Challenges</h2>
                <p class="mb-10">Test your problem-solving skills with real-world Windows troubleshooting scenarios!</p>

                <div id="scenariosContainer">
                    <!-- Scenarios will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Cheat Sheet Tab -->
        <div id="cheatsheet" class="tab-content">
            <div class="section">
                <h2>Windows CLI Quick Reference</h2>
                <div class="cheat-sheet-grid" id="cheatSheetGrid">
                    <!-- Cheat sheet will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="section">
                <h2>CompTIA A+ Command Line Quiz</h2>
                <p class="mb-10">Test your knowledge of Windows command line tools!</p>

                <div id="quizContainer">
                    <!-- Quiz will be populated by JavaScript -->
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="submitQuiz()" id="submitQuizBtn">Submit Quiz</button>
                    <button class="btn btn-secondary" onclick="resetQuiz()" style="margin-left: 10px;">Reset Quiz</button>
                </div>

                <div id="quizResult" class="quiz-result" style="display: none;">
                    <div class="quiz-score" id="quizScore"></div>
                    <div id="quizFeedback"></div>
                </div>
            </div>
        </div>

        <!-- Command Detail Modal -->
        <div id="commandModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-modal" onclick="closeModal()">&times;</span>
                    <span id="modalCommandName"></span>
                </div>
                <div id="modalCommandDetails"></div>
            </div>
        </div>
    </div>

    <script>
        // Command Database
        const commands = [
            {
                name: 'ipconfig',
                category: 'Networking',
                description: 'Displays IP configuration for all network adapters',
                syntax: 'ipconfig [/all | /release | /renew | /flushdns | /displaydns]',
                switches: [
                    '/all - Display full configuration information',
                    '/release - Release IPv4 address for specified adapter',
                    '/renew - Renew IPv4 address for specified adapter',
                    '/flushdns - Purges DNS Resolver cache',
                    '/displaydns - Display DNS Resolver cache contents'
                ],
                examples: [
                    'ipconfig - Show basic IP info',
                    'ipconfig /all - Show detailed info',
                    'ipconfig /flushdns - Clear DNS cache'
                ]
            },
            {
                name: 'ping',
                category: 'Networking',
                description: 'Tests network connectivity to another host',
                syntax: 'ping [-t] [-n count] [-l size] target',
                switches: [
                    '-t - Ping continuously until stopped',
                    '-n count - Number of echo requests to send',
                    '-l size - Send buffer size',
                    '-4 - Force using IPv4',
                    '-6 - Force using IPv6'
                ],
                examples: [
                    'ping 8.8.8.8 - Test connectivity to Google DNS',
                    'ping -t google.com - Continuous ping',
                    'ping -n 10 192.168.1.1 - Send 10 packets'
                ]
            },
            {
                name: 'tracert',
                category: 'Networking',
                description: 'Traces the route packets take to a destination',
                syntax: 'tracert [-d] [-h maximum_hops] target',
                switches: [
                    '-d - Do not resolve addresses to hostnames',
                    '-h maximum_hops - Maximum number of hops to search',
                    '-w timeout - Wait timeout milliseconds for each reply'
                ],
                examples: [
                    'tracert google.com - Trace route to Google',
                    'tracert -d 8.8.8.8 - Trace without DNS resolution'
                ]
            },
            {
                name: 'netstat',
                category: 'Networking',
                description: 'Displays network statistics and current connections',
                syntax: 'netstat [-a] [-n] [-o] [-b] [interval]',
                switches: [
                    '-a - Display all connections and listening ports',
                    '-n - Display addresses and port numbers in numerical form',
                    '-o - Display owning process ID',
                    '-b - Display executable involved in creating connection',
                    '-r - Display routing table'
                ],
                examples: [
                    'netstat -an - Show all connections numerically',
                    'netstat -ano - Show connections with process IDs',
                    'netstat -r - Show routing table'
                ]
            },
            {
                name: 'nslookup',
                category: 'Networking',
                description: 'Queries DNS servers for domain name or IP information',
                syntax: 'nslookup [hostname] [dns-server]',
                switches: [
                    'Interactive mode - Type "nslookup" then enter commands',
                    'set type=A - Query A records (IP addresses)',
                    'set type=MX - Query mail exchange records',
                    'set type=NS - Query name server records'
                ],
                examples: [
                    'nslookup google.com - Look up Google\'s IP',
                    'nslookup 8.8.8.8 - Reverse lookup',
                    'nslookup google.com 8.8.8.8 - Use specific DNS server'
                ]
            },
            {
                name: 'sfc',
                category: 'System',
                description: 'System File Checker - Scans and repairs system files',
                syntax: 'sfc /scannow | /verifyonly | /scanfile=<file>',
                switches: [
                    '/scannow - Scan all protected system files',
                    '/verifyonly - Scan but do not repair',
                    '/scanfile - Scan specific file',
                    '/offbootdir - For offline repair, specify boot directory',
                    '/offwindir - For offline repair, specify Windows directory'
                ],
                examples: [
                    'sfc /scannow - Scan and repair system files',
                    'sfc /verifyonly - Only verify integrity'
                ],
                requiresAdmin: true
            },
            {
                name: 'chkdsk',
                category: 'Disk',
                description: 'Checks disk and file system integrity',
                syntax: 'chkdsk [volume] [/F] [/R] [/X] [/B]',
                switches: [
                    '/F - Fixes errors on the disk',
                    '/R - Locates bad sectors and recovers readable information',
                    '/X - Forces the volume to dismount first',
                    '/B - Re-evaluates bad clusters (NTFS only)',
                    '/scan - Runs an online scan (Windows 8+)'
                ],
                examples: [
                    'chkdsk C: - Check drive C:',
                    'chkdsk C: /F - Check and fix errors',
                    'chkdsk D: /R - Check, fix, and recover bad sectors'
                ],
                requiresAdmin: true
            },
            {
                name: 'diskpart',
                category: 'Disk',
                description: 'Disk partitioning utility',
                syntax: 'diskpart (then use interactive commands)',
                switches: [
                    'list disk - Show all disks',
                    'select disk # - Select a disk',
                    'list volume - Show all volumes',
                    'list partition - Show partitions',
                    'clean - Remove all partitions',
                    'create partition primary - Create primary partition',
                    'format fs=ntfs quick - Quick format as NTFS',
                    'assign letter=X - Assign drive letter'
                ],
                examples: [
                    'diskpart > list disk - Show disks',
                    'diskpart > select disk 1 - Select disk 1',
                    'diskpart > clean - Wipe disk (DESTRUCTIVE!)'
                ],
                requiresAdmin: true
            },
            {
                name: 'format',
                category: 'Disk',
                description: 'Formats a disk for use with Windows',
                syntax: 'format volume [/FS:filesystem] [/Q] [/V:label]',
                switches: [
                    '/FS:filesystem - Specify file system (FAT32, NTFS, exFAT)',
                    '/Q - Quick format',
                    '/V:label - Specify volume label',
                    '/A:size - Override default allocation unit size'
                ],
                examples: [
                    'format D: /FS:NTFS /Q - Quick format D: as NTFS',
                    'format E: /FS:FAT32 /V:USB - Format as FAT32 with label'
                ],
                requiresAdmin: true
            },
            {
                name: 'dism',
                category: 'System',
                description: 'Deployment Image Servicing and Management',
                syntax: 'dism /Online /Cleanup-Image /[operation]',
                switches: [
                    '/CheckHealth - Check if image is corrupt',
                    '/ScanHealth - Scan for corruption',
                    '/RestoreHealth - Scan and repair corruption',
                    '/Cleanup-Image /StartComponentCleanup - Clean up superseded components',
                    '/Get-Features - List available features'
                ],
                examples: [
                    'dism /Online /Cleanup-Image /RestoreHealth - Repair Windows image',
                    'dism /Online /Cleanup-Image /CheckHealth - Quick check'
                ],
                requiresAdmin: true
            },
            {
                name: 'gpupdate',
                category: 'System',
                description: 'Updates Group Policy settings',
                syntax: 'gpupdate [/Target:{Computer | User}] [/Force]',
                switches: [
                    '/Force - Reapply all policy settings',
                    '/Target:Computer - Process only computer policies',
                    '/Target:User - Process only user policies',
                    '/Wait:value - Time to wait for policy processing to finish'
                ],
                examples: [
                    'gpupdate /force - Force immediate policy update',
                    'gpupdate /Target:Computer - Update computer policies only'
                ],
                requiresAdmin: false
            },
            {
                name: 'gpresult',
                category: 'System',
                description: 'Displays Group Policy information',
                syntax: 'gpresult [/S system] [/USER username] [/SCOPE scope] [/R | /Z]',
                switches: [
                    '/R - Display summary of RSoP data',
                    '/Z - Display all available RSoP data',
                    '/USER username - Display data for specified user',
                    '/SCOPE MACHINE - Display machine policies only',
                    '/H filename - Save report to HTML file'
                ],
                examples: [
                    'gpresult /R - Show policy summary',
                    'gpresult /H report.html - Create HTML report'
                ],
                requiresAdmin: false
            },
            {
                name: 'shutdown',
                category: 'System',
                description: 'Shuts down or restarts the computer',
                syntax: 'shutdown [/s | /r | /l | /h] [/t xxx] [/f]',
                switches: [
                    '/s - Shutdown the computer',
                    '/r - Restart the computer',
                    '/l - Log off',
                    '/h - Hibernate',
                    '/t xxx - Set time-out period to xxx seconds',
                    '/f - Force running applications to close',
                    '/a - Abort a system shutdown'
                ],
                examples: [
                    'shutdown /s /t 60 - Shutdown in 60 seconds',
                    'shutdown /r /f - Force restart',
                    'shutdown /a - Cancel pending shutdown'
                ],
                requiresAdmin: true
            },
            {
                name: 'tasklist',
                category: 'Process',
                description: 'Displays currently running processes',
                syntax: 'tasklist [/FI filter] [/FO format] [/NH]',
                switches: [
                    '/FI filter - Apply filter (e.g., "STATUS eq RUNNING")',
                    '/FO format - Output format (TABLE, LIST, CSV)',
                    '/V - Verbose information',
                    '/M module - List tasks using specified DLL',
                    '/SVC - Display services hosted in each process'
                ],
                examples: [
                    'tasklist - Show all processes',
                    'tasklist /FI "STATUS eq RUNNING" - Show running processes',
                    'tasklist /SVC - Show processes with services'
                ],
                requiresAdmin: false
            },
            {
                name: 'taskkill',
                category: 'Process',
                description: 'Terminates one or more processes',
                syntax: 'taskkill [/PID processid | /IM imagename] [/F]',
                switches: [
                    '/PID processid - Specify process ID to terminate',
                    '/IM imagename - Specify image name (e.g., notepad.exe)',
                    '/F - Force termination',
                    '/T - Terminate all child processes'
                ],
                examples: [
                    'taskkill /IM notepad.exe - End Notepad',
                    'taskkill /PID 1234 /F - Force kill process 1234',
                    'taskkill /IM chrome.exe /F /T - Force kill Chrome and children'
                ],
                requiresAdmin: true
            },
            {
                name: 'net user',
                category: 'User Management',
                description: 'Manages user accounts',
                syntax: 'net user [username [password | *] [options]] [/DOMAIN]',
                switches: [
                    '/ADD - Add a user account',
                    '/DELETE - Delete a user account',
                    '/ACTIVE:{YES | NO} - Enable or disable account',
                    '/PASSWORDREQ:{YES | NO} - Require password',
                    '/DOMAIN - Perform operation on domain controller'
                ],
                examples: [
                    'net user - List all user accounts',
                    'net user john /ADD - Add user "john"',
                    'net user john * - Change password for john',
                    'net user john /ACTIVE:NO - Disable account'
                ],
                requiresAdmin: true
            },
            {
                name: 'net localgroup',
                category: 'User Management',
                description: 'Manages local groups',
                syntax: 'net localgroup [groupname [/ADD | /DELETE]] [username] [/DOMAIN]',
                switches: [
                    '/ADD - Add group or add user to group',
                    '/DELETE - Delete group or remove user from group',
                    '/DOMAIN - Perform operation on domain controller'
                ],
                examples: [
                    'net localgroup - List all local groups',
                    'net localgroup Administrators - List members of Administrators',
                    'net localgroup Administrators john /ADD - Add john to Administrators',
                    'net localgroup Administrators john /DELETE - Remove john'
                ],
                requiresAdmin: true
            },
            {
                name: 'robocopy',
                category: 'File Management',
                description: 'Robust File Copy - Advanced file/directory copying',
                syntax: 'robocopy source destination [files] [options]',
                switches: [
                    '/E - Copy subdirectories, including empty ones',
                    '/MIR - Mirror a directory tree (deletes at destination)',
                    '/Z - Copy files in restartable mode',
                    '/MT[:n] - Multithreaded copying (n threads, default 8)',
                    '/LOG:file - Output status to log file',
                    '/R:n - Number of retries on failed copies',
                    '/W:n - Wait time between retries'
                ],
                examples: [
                    'robocopy C:\\Source D:\\Backup /E - Copy all subdirectories',
                    'robocopy C:\\Data E:\\Backup /MIR - Mirror directories',
                    'robocopy C:\\Files D:\\Files /MT:16 - Use 16 threads'
                ],
                requiresAdmin: false
            },
            {
                name: 'xcopy',
                category: 'File Management',
                description: 'Copies files and directory trees',
                syntax: 'xcopy source [destination] [options]',
                switches: [
                    '/E - Copy directories and subdirectories, including empty',
                    '/S - Copy directories and subdirectories, except empty',
                    '/H - Copy hidden and system files',
                    '/Y - Suppress prompting to confirm overwrite',
                    '/I - Assume destination is directory if copying multiple files',
                    '/C - Continue copying even if errors occur'
                ],
                examples: [
                    'xcopy C:\\Folder D:\\Backup /E /H - Copy all files and folders',
                    'xcopy *.txt D:\\Backup /Y - Copy all .txt files without prompting'
                ],
                requiresAdmin: false
            },
            {
                name: 'systeminfo',
                category: 'System',
                description: 'Displays detailed system configuration information',
                syntax: 'systeminfo [/S system] [/U username] [/FO format]',
                switches: [
                    '/S system - Specify remote system to connect to',
                    '/U username - Specify user context',
                    '/FO format - Output format (TABLE, LIST, CSV)',
                    '/NH - No headers in output'
                ],
                examples: [
                    'systeminfo - Show detailed system info',
                    'systeminfo /FO CSV - Output in CSV format'
                ],
                requiresAdmin: false
            }
        ];

        // Scenarios Database
        const scenarios = [
            {
                title: 'Scenario 1: Corrupted System Files',
                problem: 'A user reports that Windows is behaving erratically. Some built-in applications crash immediately upon launch. You suspect system file corruption.',
                question: 'What command would you run to scan and repair corrupted system files?',
                answer: 'sfc /scannow',
                explanation: 'The System File Checker (sfc /scannow) scans all protected system files and replaces corrupted files with a cached copy. This must be run from an elevated command prompt (Run as Administrator). If SFC finds issues but cannot fix them, you should then run DISM /Online /Cleanup-Image /RestoreHealth before running SFC again.'
            },
            {
                title: 'Scenario 2: Network Connectivity Issues',
                problem: 'A user cannot access the internet. Other devices on the same network work fine. You need to verify the computer has a valid IP address and can reach the gateway.',
                question: 'What sequence of commands would you use to diagnose this issue?',
                answer: 'ipconfig /all, ping [gateway IP], ping 8.8.8.8, nslookup google.com',
                explanation: '1. ipconfig /all - Check if the computer has a valid IP address (not 169.254.x.x APIPA). 2. ping [gateway] - Verify connectivity to the default gateway. 3. ping 8.8.8.8 - Test internet connectivity. 4. nslookup google.com - Verify DNS resolution is working. If ipconfig shows APIPA address, try ipconfig /release then ipconfig /renew.'
            },
            {
                title: 'Scenario 3: Slow Application Performance',
                problem: 'A user complains their computer is running very slowly. You suspect a process is consuming excessive resources.',
                question: 'What commands would you use to identify and terminate the problematic process?',
                answer: 'tasklist, taskkill /IM [processname] /F or taskkill /PID [id] /F',
                explanation: '1. tasklist - Display all running processes with their PID and memory usage. You can also use "tasklist /FO CSV" for easier analysis. 2. Identify the process consuming resources. 3. taskkill /IM processname.exe /F - Terminate by image name, or taskkill /PID 1234 /F - Terminate by process ID. The /F flag forces termination. You can also use Task Manager (taskmgr) for a GUI approach.'
            },
            {
                title: 'Scenario 4: Disk Errors',
                problem: 'A user reports that files are becoming corrupted on their C: drive. You suspect hard drive errors or bad sectors.',
                question: 'What command would you run to check and repair disk errors?',
                answer: 'chkdsk C: /F /R',
                explanation: 'chkdsk C: /F /R checks the C: drive for errors. The /F flag fixes errors on the disk, and /R locates bad sectors and recovers readable information. This requires admin privileges. If you\'re checking the system drive (C:), Windows will schedule the check to run at next reboot. The /R flag implies /F, so /R alone would also fix errors. For a more comprehensive check on NTFS drives, add /B flag to re-evaluate bad clusters.'
            },
            {
                title: 'Scenario 5: Group Policy Not Applying',
                problem: 'A user logged into a domain computer, but new group policies configured by IT are not being applied to their account.',
                question: 'What command would you run to force an immediate Group Policy update?',
                answer: 'gpupdate /force',
                explanation: 'gpupdate /force forces an immediate update of all Group Policy settings. Without /force, only changed policies are applied. To verify which policies are applied after the update, use "gpresult /R" for a summary or "gpresult /H report.html" to create a detailed HTML report. You can also use "gpupdate /Target:Computer" or "gpupdate /Target:User" to update only computer or user policies respectively.'
            },
            {
                title: 'Scenario 6: DNS Resolution Problems',
                problem: 'A user can ping IP addresses (like 8.8.8.8) but cannot access websites by name. You suspect DNS cache corruption.',
                question: 'What command would clear the DNS cache?',
                answer: 'ipconfig /flushdns',
                explanation: 'ipconfig /flushdns clears the DNS resolver cache. This is useful when DNS records have changed or if the cache is corrupted. After flushing, you can use "ipconfig /displaydns" to view the cache (should be mostly empty), and "nslookup domain.com" to test DNS resolution. If issues persist, check DNS server settings with "ipconfig /all" and verify the DNS servers are correct.'
            },
            {
                title: 'Scenario 7: Creating a New User Account',
                problem: 'You need to create a new local user account called "trainee" and add them to the Users group.',
                question: 'What commands would you use?',
                answer: 'net user trainee * /ADD, then net localgroup Users trainee /ADD',
                explanation: 'net user trainee * /ADD creates a new user account named "trainee". The asterisk (*) prompts you to enter a password securely. Then "net localgroup Users trainee /ADD" adds the user to the Users group. To make them an administrator, use "net localgroup Administrators trainee /ADD". To view all users, use "net user". To view group membership, use "net localgroup [groupname]". These commands require admin privileges.'
            },
            {
                title: 'Scenario 8: Preparing USB Drive for Bootable Media',
                problem: 'You need to prepare a USB drive to create bootable Windows installation media. The drive must be completely clean and formatted.',
                question: 'What diskpart commands would you use?',
                answer: 'diskpart > list disk > select disk # > clean > create partition primary > format fs=ntfs quick > active > assign',
                explanation: 'In diskpart: 1. list disk (identify USB drive number). 2. select disk # (select the USB). 3. clean (remove all partitions - DESTRUCTIVE!). 4. create partition primary (create new partition). 5. format fs=ntfs quick (quick format as NTFS, or use fs=fat32). 6. active (mark partition as active/bootable). 7. assign (assign drive letter). Always verify you\'ve selected the correct disk before running "clean" as it erases everything!'
            },
            {
                title: 'Scenario 9: Windows Image Corruption',
                problem: 'You ran "sfc /scannow" but it reported it found corrupt files but was unable to fix some of them. The system image may be damaged.',
                question: 'What command should you run to repair the Windows image before running SFC again?',
                answer: 'dism /Online /Cleanup-Image /RestoreHealth',
                explanation: 'DISM /Online /Cleanup-Image /RestoreHealth repairs the Windows system image using Windows Update. Run this before SFC when SFC cannot repair files. The process: 1. dism /Online /Cleanup-Image /CheckHealth (quick check). 2. dism /Online /Cleanup-Image /ScanHealth (thorough scan). 3. dism /Online /Cleanup-Image /RestoreHealth (repair). After DISM completes, run "sfc /scannow" again. This requires internet connection and admin privileges.'
            },
            {
                title: 'Scenario 10: Backup Critical Data',
                problem: 'You need to backup the entire C:\\Users\\John\\Documents folder to E:\\Backup, including all subdirectories, hidden files, and maintaining the directory structure. The copy should be restartable in case of interruption.',
                question: 'What command would you use?',
                answer: 'robocopy C:\\Users\\John\\Documents E:\\Backup\\Documents /E /Z /MT',
                explanation: 'robocopy C:\\Users\\John\\Documents E:\\Backup\\Documents /E /Z /MT is the optimal solution. /E copies all subdirectories including empty ones. /Z enables restartable mode (can resume if interrupted). /MT enables multi-threaded copying (faster). Alternative options: /MIR for mirroring (deletes files at destination not in source), /LOG:file.txt to create a log. Robocopy is superior to xcopy for large operations and network copies.'
            }
        ];

        // Quiz Questions
        const quizQuestions = [
            {
                question: 'Which command must be run from an elevated (administrator) command prompt to scan and repair Windows system files?',
                options: ['chkdsk /F', 'sfc /scannow', 'diskpart', 'gpupdate /force'],
                correct: 1
            },
            {
                question: 'What does the "ipconfig /flushdns" command do?',
                options: ['Releases the current IP address', 'Renews the IP address lease', 'Clears the DNS resolver cache', 'Displays all network adapters'],
                correct: 2
            },
            {
                question: 'Which command would you use to view all currently running processes with their Process IDs (PIDs)?',
                options: ['netstat -a', 'tasklist', 'systeminfo', 'gpresult /R'],
                correct: 1
            },
            {
                question: 'What is the purpose of the "chkdsk /R" parameter?',
                options: ['Restarts the computer after checking', 'Locates bad sectors and recovers readable information', 'Repairs the registry', 'Removes temporary files'],
                correct: 1
            },
            {
                question: 'Which command forces an immediate Group Policy update on a Windows computer?',
                options: ['gpresult /force', 'gpupdate /force', 'net policy /update', 'policy /refresh'],
                correct: 1
            },
            {
                question: 'What does the "netstat -ano" command display?',
                options: ['Only active network connections', 'All connections with addresses in numerical form and owning process IDs', 'Network adapter configuration', 'Available network shares'],
                correct: 1
            },
            {
                question: 'Which command would you use to add a user named "bob" to the local Administrators group?',
                options: ['net user bob /admin', 'net localgroup Administrators bob /ADD', 'add user bob administrators', 'net group admin bob'],
                correct: 1
            },
            {
                question: 'What is the primary advantage of using "robocopy" over "xcopy"?',
                options: ['Robocopy is faster and can resume interrupted copies', 'Robocopy uses less memory', 'Robocopy can copy system files', 'Robocopy works on older Windows versions'],
                correct: 0
            },
            {
                question: 'Which command sequence would you use to repair a corrupted Windows image before running SFC?',
                options: ['chkdsk /F', 'dism /Online /Cleanup-Image /RestoreHealth', 'diskpart /repair', 'format C: /restore'],
                correct: 1
            },
            {
                question: 'What does the "shutdown /r /t 60 /f" command do?',
                options: ['Shutdown in 60 seconds without forcing', 'Restart in 60 seconds and force close applications', 'Restart in 60 minutes', 'Shutdown immediately 60 times'],
                correct: 1
            }
        ];

        // Tab Switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');

            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Initialize content when tab is opened
            if (tabName === 'reference' && !document.getElementById('commandGrid').hasChildNodes()) {
                populateCommands();
            } else if (tabName === 'scenarios' && !document.getElementById('scenariosContainer').hasChildNodes()) {
                populateScenarios();
            } else if (tabName === 'cheatsheet' && !document.getElementById('cheatSheetGrid').hasChildNodes()) {
                populateCheatSheet();
            } else if (tabName === 'quiz' && !document.getElementById('quizContainer').hasChildNodes()) {
                populateQuiz();
            }
        }

        // Command Simulator
        const commandInput = document.getElementById('commandInput');
        commandInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                executeCommand();
            }
        });

        function executeCommand() {
            const input = document.getElementById('commandInput');
            const output = document.getElementById('terminalOutput');
            const command = input.value.trim().toLowerCase();

            if (command === '') return;

            // Add command to output
            const commandLine = document.createElement('div');
            commandLine.innerHTML = `<span class="terminal-prompt">C:\\Users\\Student&gt;</span> ${input.value}`;
            output.appendChild(commandLine);

            // Process command
            const result = processCommand(command);
            const resultDiv = document.createElement('div');
            resultDiv.innerHTML = result;
            resultDiv.style.marginBottom = '15px';
            output.appendChild(resultDiv);

            // Clear input and scroll to bottom
            input.value = '';
            output.scrollTop = output.scrollHeight;
        }

        function quickCommand(cmd) {
            document.getElementById('commandInput').value = cmd;
            executeCommand();
        }

        function clearTerminal() {
            const output = document.getElementById('terminalOutput');
            output.innerHTML = `
                <div>Microsoft Windows [Version 10.0.19045.0]</div>
                <div>(c) Microsoft Corporation. All rights reserved.</div>
                <div style="margin-top: 10px;">C:\\Users\\Student&gt; <span class="text-warning">Type 'help' to see available commands</span></div>
                <div style="margin-bottom: 15px;"></div>
            `;
        }

        function processCommand(cmd) {
            const parts = cmd.split(' ');
            const baseCmd = parts[0];

            const simulations = {
                'help': () => `
                    <div class="text-green">Available Commands in Simulator:</div>
                    <div>ipconfig, ping, tracert, netstat, nslookup, sfc, chkdsk, diskpart,</div>
                    <div>format, dism, gpupdate, gpresult, shutdown, tasklist, taskkill,</div>
                    <div>net user, net localgroup, robocopy, xcopy, systeminfo, cls, help</div>
                    <div style="margin-top: 10px;" class="text-warning">Note: This is a simulator. Commands show example output only.</div>
                `,
                'cls': () => {
                    clearTerminal();
                    return '';
                },
                'ipconfig': () => {
                    if (cmd.includes('/all')) {
                        return `
                            <div>Windows IP Configuration</div>
                            <div style="margin-top: 10px;">Ethernet adapter Ethernet:</div>
                            <div>   Connection-specific DNS Suffix  . : example.com</div>
                            <div>   Description . . . . . . . . . . . : Intel(R) Ethernet Connection</div>
                            <div>   Physical Address. . . . . . . . . : 00-1A-2B-3C-4D-5E</div>
                            <div>   DHCP Enabled. . . . . . . . . . . : Yes</div>
                            <div>   IPv4 Address. . . . . . . . . . . : 192.168.1.100</div>
                            <div>   Subnet Mask . . . . . . . . . . . : 255.255.255.0</div>
                            <div>   Default Gateway . . . . . . . . . : 192.168.1.1</div>
                            <div>   DNS Servers . . . . . . . . . . . : 8.8.8.8, 8.8.4.4</div>
                        `;
                    } else if (cmd.includes('/flushdns')) {
                        return `
                            <div>Windows IP Configuration</div>
                            <div style="margin-top: 10px;" class="text-green">Successfully flushed the DNS Resolver Cache.</div>
                        `;
                    } else if (cmd.includes('/release')) {
                        return `
                            <div>Windows IP Configuration</div>
                            <div style="margin-top: 10px;">Ethernet adapter Ethernet:</div>
                            <div>   Connection-specific DNS Suffix  . :</div>
                            <div>   IPv4 Address. . . . . . . . . . . : 0.0.0.0</div>
                        `;
                    } else if (cmd.includes('/renew')) {
                        return `
                            <div>Windows IP Configuration</div>
                            <div style="margin-top: 10px;">Ethernet adapter Ethernet:</div>
                            <div>   IPv4 Address. . . . . . . . . . . : 192.168.1.100</div>
                            <div>   Subnet Mask . . . . . . . . . . . : 255.255.255.0</div>
                            <div>   Default Gateway . . . . . . . . . : 192.168.1.1</div>
                        `;
                    } else {
                        return `
                            <div>Windows IP Configuration</div>
                            <div style="margin-top: 10px;">Ethernet adapter Ethernet:</div>
                            <div>   IPv4 Address. . . . . . . . . . . : 192.168.1.100</div>
                            <div>   Subnet Mask . . . . . . . . . . . : 255.255.255.0</div>
                            <div>   Default Gateway . . . . . . . . . : 192.168.1.1</div>
                        `;
                    }
                },
                'ping': () => {
                    const target = parts[1] || '8.8.8.8';
                    return `
                        <div>Pinging ${target} with 32 bytes of data:</div>
                        <div>Reply from ${target}: bytes=32 time=12ms TTL=117</div>
                        <div>Reply from ${target}: bytes=32 time=11ms TTL=117</div>
                        <div>Reply from ${target}: bytes=32 time=13ms TTL=117</div>
                        <div>Reply from ${target}: bytes=32 time=12ms TTL=117</div>
                        <div style="margin-top: 10px;">Ping statistics for ${target}:</div>
                        <div>    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss)</div>
                        <div>Approximate round trip times in milli-seconds:</div>
                        <div>    Minimum = 11ms, Maximum = 13ms, Average = 12ms</div>
                    `;
                },
                'tracert': () => {
                    const target = parts[1] || 'google.com';
                    return `
                        <div>Tracing route to ${target} [142.250.80.46] over a maximum of 30 hops:</div>
                        <div style="margin-top: 5px;">  1    1 ms    1 ms    1 ms  192.168.1.1</div>
                        <div>  2    8 ms    7 ms    9 ms  10.0.0.1</div>
                        <div>  3   12 ms   11 ms   13 ms  72.14.215.85</div>
                        <div>  4   12 ms   12 ms   11 ms  142.250.80.46</div>
                        <div style="margin-top: 5px;">Trace complete.</div>
                    `;
                },
                'netstat': () => {
                    if (cmd.includes('-an')) {
                        return `
                            <div>Active Connections</div>
                            <div style="margin-top: 5px;">  Proto  Local Address          Foreign Address        State</div>
                            <div>  TCP    0.0.0.0:135            0.0.0.0:0              LISTENING</div>
                            <div>  TCP    0.0.0.0:445            0.0.0.0:0              LISTENING</div>
                            <div>  TCP    192.168.1.100:49732    142.250.80.46:443      ESTABLISHED</div>
                            <div>  TCP    192.168.1.100:49733    52.96.168.162:443      ESTABLISHED</div>
                            <div>  UDP    0.0.0.0:53             *:*</div>
                            <div>  UDP    0.0.0.0:67             *:*</div>
                        `;
                    } else {
                        return `<div class="text-warning">Try: netstat -an (show all connections numerically)</div>`;
                    }
                },
                'nslookup': () => {
                    const domain = parts[1] || 'google.com';
                    return `
                        <div>Server:  dns.google</div>
                        <div>Address:  8.8.8.8</div>
                        <div style="margin-top: 5px;">Non-authoritative answer:</div>
                        <div>Name:    ${domain}</div>
                        <div>Addresses:  142.250.80.46</div>
                        <div>            2607:f8b0:4004:c07::71</div>
                    `;
                },
                'sfc': () => {
                    if (cmd.includes('/scannow')) {
                        return `
                            <div class="text-warning">Beginning system scan.  This process will take some time.</div>
                            <div style="margin-top: 5px;">Beginning verification phase of system scan.</div>
                            <div>Verification 100% complete.</div>
                            <div style="margin-top: 5px;" class="text-green">Windows Resource Protection did not find any integrity violations.</div>
                            <div style="margin-top: 10px;" class="text-warning">Note: Run from elevated command prompt (Run as Administrator)</div>
                        `;
                    } else {
                        return `<div class="text-warning">Try: sfc /scannow (scan and repair system files)</div>`;
                    }
                },
                'chkdsk': () => {
                    const drive = parts[1] || 'C:';
                    if (cmd.includes('/f') || cmd.includes('/r')) {
                        return `
                            <div class="text-warning">Cannot lock current drive.</div>
                            <div style="margin-top: 5px;">Chkdsk cannot run because the volume is in use by another process.</div>
                            <div>Would you like to schedule this volume to be checked the next time</div>
                            <div>the system restarts? (Y/N) Y</div>
                            <div style="margin-top: 5px;" class="text-green">This volume will be checked the next time the system restarts.</div>
                        `;
                    } else {
                        return `
                            <div>The type of the file system is NTFS.</div>
                            <div>Volume label is OS.</div>
                            <div style="margin-top: 5px;" class="text-green">Windows has scanned the file system and found no problems.</div>
                            <div>No further action is required.</div>
                            <div style="margin-top: 10px;" class="text-warning">Use /F to fix errors, /R to locate bad sectors</div>
                        `;
                    }
                },
                'diskpart': () => {
                    return `
                        <div>Microsoft DiskPart version 10.0.19041.1</div>
                        <div style="margin-top: 5px;">DISKPART&gt; <span class="text-warning">Interactive mode - Commands:</span></div>
                        <div>  list disk       - Display all disks</div>
                        <div>  select disk #   - Select disk to operate on</div>
                        <div>  list volume     - Display all volumes</div>
                        <div>  list partition  - Display partitions on selected disk</div>
                        <div>  clean           - Remove all partitions (DESTRUCTIVE!)</div>
                        <div>  exit            - Exit diskpart</div>
                        <div style="margin-top: 10px;" class="text-error">WARNING: This is a simulation. Real diskpart can destroy data!</div>
                    `;
                },
                'dism': () => {
                    if (cmd.includes('restorehealth')) {
                        return `
                            <div>Deployment Image Servicing and Management tool</div>
                            <div>Version: 10.0.19041.1</div>
                            <div style="margin-top: 5px;">Image Version: 10.0.19045.0</div>
                            <div style="margin-top: 5px;">[==========================100.0%==========================]</div>
                            <div style="margin-top: 5px;" class="text-green">The restore operation completed successfully.</div>
                            <div>The operation completed successfully.</div>
                        `;
                    } else if (cmd.includes('checkhealth')) {
                        return `
                            <div>Deployment Image Servicing and Management tool</div>
                            <div>Version: 10.0.19041.1</div>
                            <div style="margin-top: 5px;" class="text-green">No component store corruption detected.</div>
                            <div>The operation completed successfully.</div>
                        `;
                    } else {
                        return `<div class="text-warning">Try: dism /Online /Cleanup-Image /RestoreHealth</div>`;
                    }
                },
                'gpupdate': () => {
                    if (cmd.includes('/force')) {
                        return `
                            <div>Updating policy...</div>
                            <div style="margin-top: 5px;">Computer Policy update has completed successfully.</div>
                            <div>User Policy update has completed successfully.</div>
                        `;
                    } else {
                        return `
                            <div>Updating policy...</div>
                            <div style="margin-top: 5px;" class="text-green">Computer Policy update has completed successfully.</div>
                        `;
                    }
                },
                'gpresult': () => {
                    if (cmd.includes('/r')) {
                        return `
                            <div>RSOP data for USER on COMPUTER : Logging Mode</div>
                            <div style="margin-top: 5px;">COMPUTER SETTINGS</div>
                            <div>    CN=COMPUTER,OU=Computers,DC=domain,DC=com</div>
                            <div>    Last time Group Policy was applied: 12/11/2025 at 10:30:00 AM</div>
                            <div>    Group Policy was applied from: DC01.domain.com</div>
                            <div style="margin-top: 5px;">USER SETTINGS</div>
                            <div>    CN=User,OU=Users,DC=domain,DC=com</div>
                            <div>    Last time Group Policy was applied: 12/11/2025 at 10:30:00 AM</div>
                        `;
                    } else {
                        return `<div class="text-warning">Try: gpresult /R (display summary) or gpresult /H report.html</div>`;
                    }
                },
                'shutdown': () => {
                    if (cmd.includes('/s')) {
                        const time = cmd.match(/\/t\s+(\d+)/) ? cmd.match(/\/t\s+(\d+)/)[1] : '30';
                        return `<div class="text-warning">System will shutdown in ${time} seconds...</div>
                                <div class="text-green">(Simulated - your computer is safe!)</div>`;
                    } else if (cmd.includes('/r')) {
                        return `<div class="text-warning">System will restart...</div>
                                <div class="text-green">(Simulated - your computer is safe!)</div>`;
                    } else if (cmd.includes('/a')) {
                        return `<div class="text-green">Shutdown cancelled.</div>`;
                    } else {
                        return `<div class="text-warning">Try: shutdown /s /t 60 (shutdown in 60 sec) or shutdown /r (restart)</div>`;
                    }
                },
                'tasklist': () => {
                    return `
                        <div>Image Name                     PID Session Name        Session#    Mem Usage</div>
                        <div>========================= ======== ================ =========== ============</div>
                        <div>System Idle Process              0 Services                   0          8 K</div>
                        <div>System                           4 Services                   0      1,384 K</div>
                        <div>smss.exe                       356 Services                   0        316 K</div>
                        <div>csrss.exe                      468 Services                   0      4,216 K</div>
                        <div>wininit.exe                    548 Services                   0        616 K</div>
                        <div>explorer.exe                 2,468 Console                    1     45,892 K</div>
                        <div>chrome.exe                   3,124 Console                    1    312,456 K</div>
                        <div>notepad.exe                  4,892 Console                    1      8,124 K</div>
                    `;
                },
                'taskkill': () => {
                    if (cmd.includes('/im')) {
                        const process = cmd.match(/\/im\s+(\S+)/);
                        const procName = process ? process[1] : 'notepad.exe';
                        return `<div class="text-green">SUCCESS: Sent termination signal to the process "${procName}".</div>`;
                    } else if (cmd.includes('/pid')) {
                        const pid = cmd.match(/\/pid\s+(\d+)/);
                        const pidNum = pid ? pid[1] : '1234';
                        return `<div class="text-green">SUCCESS: Sent termination signal to the process with PID ${pidNum}.</div>`;
                    } else {
                        return `<div class="text-warning">Try: taskkill /IM notepad.exe /F or taskkill /PID 1234 /F</div>`;
                    }
                },
                'net': () => {
                    if (cmd.includes('user') && !cmd.includes('localgroup')) {
                        if (parts.length === 2) {
                            return `
                                <div>User accounts for \\\\COMPUTER</div>
                                <div style="margin-top: 5px;">-------------------------------------------------------------------------------</div>
                                <div>Administrator            DefaultAccount           Guest</div>
                                <div>Student                  WDAGUtilityAccount</div>
                                <div>The command completed successfully.</div>
                            `;
                        } else {
                            return `<div class="text-green">The command completed successfully.</div>
                                    <div class="text-warning">Example: net user john * /ADD (create user with password prompt)</div>`;
                        }
                    } else if (cmd.includes('localgroup')) {
                        if (parts.length === 2) {
                            return `
                                <div>Aliases for \\\\COMPUTER</div>
                                <div style="margin-top: 5px;">-------------------------------------------------------------------------------</div>
                                <div>*Administrators</div>
                                <div>*Backup Operators</div>
                                <div>*Guests</div>
                                <div>*Power Users</div>
                                <div>*Users</div>
                                <div>The command completed successfully.</div>
                            `;
                        } else if (cmd.includes('administrators') && !cmd.includes('/add')) {
                            return `
                                <div>Alias name     Administrators</div>
                                <div>Comment        Administrators have complete and unrestricted access</div>
                                <div style="margin-top: 5px;">Members</div>
                                <div>-------------------------------------------------------------------------------</div>
                                <div>Administrator</div>
                                <div>Student</div>
                                <div>The command completed successfully.</div>
                            `;
                        } else {
                            return `<div class="text-green">The command completed successfully.</div>`;
                        }
                    } else {
                        return `<div class="text-warning">Try: net user (list users) or net localgroup (list groups)</div>`;
                    }
                },
                'robocopy': () => {
                    return `
                        <div>-------------------------------------------------------------------------------</div>
                        <div>   ROBOCOPY     ::     Robust File Copy for Windows</div>
                        <div>-------------------------------------------------------------------------------</div>
                        <div style="margin-top: 5px;">  Started : ${new Date().toLocaleString()}</div>
                        <div>   Source : C:\\Source\\</div>
                        <div>     Dest : D:\\Backup\\</div>
                        <div style="margin-top: 5px;">    Files : *.*</div>
                        <div>  Options : *.* /E /COPY:DAT /R:1000000 /W:30</div>
                        <div style="margin-top: 5px;">              Total    Copied   Skipped  Mismatch    FAILED    Extras</div>
                        <div>    Dirs :       15        15         0         0         0         0</div>
                        <div>   Files :      125       125         0         0         0         0</div>
                        <div>   Bytes :   45.2 MB    45.2 MB        0         0         0         0</div>
                        <div style="margin-top: 5px;" class="text-green">   Ended : ${new Date().toLocaleString()}</div>
                    `;
                },
                'xcopy': () => {
                    return `
                        <div>C:\\Source\\file1.txt</div>
                        <div>C:\\Source\\file2.txt</div>
                        <div>C:\\Source\\file3.txt</div>
                        <div>3 File(s) copied</div>
                        <div style="margin-top: 5px;" class="text-warning">Tip: Use robocopy for more advanced copying with resume capability</div>
                    `;
                },
                'systeminfo': () => {
                    return `
                        <div>Host Name:                 STUDENT-PC</div>
                        <div>OS Name:                   Microsoft Windows 10 Pro</div>
                        <div>OS Version:                10.0.19045 N/A Build 19045</div>
                        <div>System Manufacturer:       Dell Inc.</div>
                        <div>System Model:              OptiPlex 7090</div>
                        <div>System Type:               x64-based PC</div>
                        <div>Processor(s):              1 Processor(s) Installed.</div>
                        <div>                           [01]: Intel64 Family 6 Model 165 ~2.90 GHz</div>
                        <div>Total Physical Memory:     16,384 MB</div>
                        <div>Available Physical Memory: 8,192 MB</div>
                        <div>Domain:                    WORKGROUP</div>
                    `;
                }
            };

            if (simulations[baseCmd]) {
                return simulations[baseCmd]();
            } else {
                return `<div class="text-error">'${baseCmd}' is not recognized as an internal or external command.</div>
                        <div class="text-warning">Type 'help' to see available commands in this simulator.</div>`;
            }
        }

        // Populate Command Reference
        function populateCommands() {
            const grid = document.getElementById('commandGrid');
            grid.innerHTML = '';

            commands.forEach(cmd => {
                const card = document.createElement('div');
                card.className = 'command-card';
                card.innerHTML = `
                    <div class="command-name">${cmd.name}</div>
                    <div class="command-desc">${cmd.description}</div>
                    <div class="command-syntax">${cmd.syntax}</div>
                    <span class="command-category">${cmd.category}</span>
                    ${cmd.requiresAdmin ? '<span class="command-category" style="background: #ef4444; margin-left: 5px;">Admin Required</span>' : ''}
                `;
                card.onclick = () => showCommandDetails(cmd);
                grid.appendChild(card);
            });
        }

        function filterCommands() {
            const search = document.getElementById('searchBox').value.toLowerCase();
            const cards = document.querySelectorAll('.command-card');

            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(search) ? 'block' : 'none';
            });
        }

        function showCommandDetails(cmd) {
            document.getElementById('modalCommandName').textContent = cmd.name;

            let switchesHTML = '<h4 class="text-green">Parameters & Switches:</h4><ul style="margin-left: 20px; margin-top: 10px;">';
            cmd.switches.forEach(sw => {
                switchesHTML += `<li style="margin-bottom: 5px;">${sw}</li>`;
            });
            switchesHTML += '</ul>';

            let examplesHTML = '<h4 class="text-purple" style="margin-top: 20px;">Examples:</h4><ul style="margin-left: 20px; margin-top: 10px;">';
            cmd.examples.forEach(ex => {
                examplesHTML += `<li style="margin-bottom: 5px; font-family: 'Courier New', monospace;">${ex}</li>`;
            });
            examplesHTML += '</ul>';

            document.getElementById('modalCommandDetails').innerHTML = `
                <p style="color: #cbd5e1; margin-bottom: 15px;">${cmd.description}</p>
                <div style="background: #0f172a; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                    <strong class="text-green">Syntax:</strong><br>
                    <code style="color: #a5b4fc;">${cmd.syntax}</code>
                </div>
                ${switchesHTML}
                ${examplesHTML}
                ${cmd.requiresAdmin ? '<div style="margin-top: 20px; padding: 10px; background: #3d1a1a; border-left: 3px solid #ef4444; border-radius: 5px;"><strong class="text-error"> Requires Administrator Privileges</strong></div>' : ''}
            `;

            document.getElementById('commandModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('commandModal').classList.remove('show');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('commandModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Populate Scenarios
        function populateScenarios() {
            const container = document.getElementById('scenariosContainer');
            container.innerHTML = '';

            scenarios.forEach((scenario, index) => {
                const card = document.createElement('div');
                card.className = 'scenario-card';
                card.innerHTML = `
                    <div class="scenario-title">${scenario.title}</div>
                    <div class="scenario-problem">
                        <strong>Problem:</strong> ${scenario.problem}
                    </div>
                    <div style="color: #e2e8f0; margin-bottom: 10px;">
                        <strong>Question:</strong> ${scenario.question}
                    </div>
                    <button class="btn" onclick="toggleScenarioAnswer(${index})">Show Solution</button>
                    <div class="scenario-answer" id="scenario-${index}">
                        <div><strong class="text-green">Answer:</strong> <code style="color: #a5b4fc;">${scenario.answer}</code></div>
                        <div style="margin-top: 10px;"><strong class="text-purple">Explanation:</strong></div>
                        <div style="margin-top: 5px; color: #cbd5e1;">${scenario.explanation}</div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function toggleScenarioAnswer(index) {
            const answer = document.getElementById(`scenario-${index}`);
            answer.classList.toggle('show');
            event.target.textContent = answer.classList.contains('show') ? 'Hide Solution' : 'Show Solution';
        }

        // Populate Cheat Sheet
        function populateCheatSheet() {
            const categories = {
                'System Maintenance': [
                    { cmd: 'sfc /scannow', desc: 'Scan and repair system files' },
                    { cmd: 'chkdsk C: /F /R', desc: 'Check disk for errors and bad sectors' },
                    { cmd: 'dism /Online /Cleanup-Image /RestoreHealth', desc: 'Repair Windows image' },
                    { cmd: 'gpupdate /force', desc: 'Force Group Policy update' }
                ],
                'Networking': [
                    { cmd: 'ipconfig /all', desc: 'Show detailed IP configuration' },
                    { cmd: 'ipconfig /flushdns', desc: 'Clear DNS cache' },
                    { cmd: 'ping 8.8.8.8', desc: 'Test connectivity' },
                    { cmd: 'tracert domain.com', desc: 'Trace network route' },
                    { cmd: 'netstat -ano', desc: 'Show connections with PIDs' },
                    { cmd: 'nslookup domain.com', desc: 'Query DNS records' }
                ],
                'Process Management': [
                    { cmd: 'tasklist', desc: 'List all running processes' },
                    { cmd: 'taskkill /IM process.exe /F', desc: 'Force kill process by name' },
                    { cmd: 'taskkill /PID 1234 /F', desc: 'Force kill process by PID' }
                ],
                'User Management': [
                    { cmd: 'net user', desc: 'List all user accounts' },
                    { cmd: 'net user john * /ADD', desc: 'Create new user with password prompt' },
                    { cmd: 'net localgroup Administrators john /ADD', desc: 'Add user to Administrators' }
                ],
                'Disk Operations': [
                    { cmd: 'diskpart', desc: 'Interactive disk partitioning utility' },
                    { cmd: 'format D: /FS:NTFS /Q', desc: 'Quick format drive as NTFS' },
                    { cmd: 'robocopy C:\\Source D:\\Dest /E /Z', desc: 'Robust file copy with resume' }
                ],
                'System Control': [
                    { cmd: 'shutdown /s /t 60', desc: 'Shutdown in 60 seconds' },
                    { cmd: 'shutdown /r /f', desc: 'Force restart now' },
                    { cmd: 'shutdown /a', desc: 'Cancel pending shutdown' },
                    { cmd: 'systeminfo', desc: 'Display system information' }
                ]
            };

            const grid = document.getElementById('cheatSheetGrid');
            grid.innerHTML = '';

            for (const [category, items] of Object.entries(categories)) {
                const section = document.createElement('div');
                section.className = 'cheat-category';

                let itemsHTML = '';
                items.forEach(item => {
                    itemsHTML += `
                        <div class="cheat-item">
                            <div class="cheat-command">${item.cmd}</div>
                            <div class="cheat-desc">${item.desc}</div>
                        </div>
                    `;
                });

                section.innerHTML = `
                    <h4>${category}</h4>
                    ${itemsHTML}
                `;

                grid.appendChild(section);
            }
        }

        // Populate Quiz
        function populateQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            quizQuestions.forEach((q, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';

                let optionsHTML = '<div class="quiz-options">';
                q.options.forEach((option, oIndex) => {
                    optionsHTML += `
                        <div class="quiz-option" onclick="selectQuizOption(${qIndex}, ${oIndex})">
                            <input type="radio" name="q${qIndex}" value="${oIndex}" style="margin-right: 10px;">
                            ${option}
                        </div>
                    `;
                });
                optionsHTML += '</div>';

                questionDiv.innerHTML = `
                    <div class="quiz-question-text">${qIndex + 1}. ${q.question}</div>
                    ${optionsHTML}
                `;

                container.appendChild(questionDiv);
            });
        }

        function selectQuizOption(questionIndex, optionIndex) {
            const options = document.querySelectorAll(`input[name="q${questionIndex}"]`);
            options[optionIndex].checked = true;

            const optionDivs = options[optionIndex].closest('.quiz-options').querySelectorAll('.quiz-option');
            optionDivs.forEach(div => div.classList.remove('selected'));
            optionDivs[optionIndex].classList.add('selected');
        }

        function submitQuiz() {
            let score = 0;
            const total = quizQuestions.length;

            quizQuestions.forEach((q, qIndex) => {
                const selected = document.querySelector(`input[name="q${qIndex}"]:checked`);
                const options = document.querySelectorAll(`input[name="q${qIndex}"]`);
                const optionDivs = options[0].closest('.quiz-options').querySelectorAll('.quiz-option');

                optionDivs.forEach((div, index) => {
                    div.classList.remove('correct', 'incorrect', 'selected');
                    if (index === q.correct) {
                        div.classList.add('correct');
                    }
                });

                if (selected) {
                    const selectedIndex = parseInt(selected.value);
                    if (selectedIndex === q.correct) {
                        score++;
                    } else {
                        optionDivs[selectedIndex].classList.add('incorrect');
                    }
                }
            });

            const percentage = Math.round((score / total) * 100);
            const resultDiv = document.getElementById('quizResult');
            const scoreDiv = document.getElementById('quizScore');
            const feedbackDiv = document.getElementById('quizFeedback');

            scoreDiv.textContent = `${score}/${total} (${percentage}%)`;

            let feedback = '';
            if (percentage >= 90) {
                feedback = 'Excellent! You have mastered Windows CLI tools!';
            } else if (percentage >= 70) {
                feedback = 'Good job! You have a solid understanding of CLI tools.';
            } else if (percentage >= 50) {
                feedback = 'Not bad, but review the commands and try again.';
            } else {
                feedback = 'Keep studying! Review the Command Reference and Scenarios.';
            }

            feedbackDiv.innerHTML = `<div style="color: #cbd5e1; margin-top: 10px;">${feedback}</div>
                                    <div style="margin-top: 15px; color: #a5b4fc;">CompTIA A+ passing score is typically 70%. ${percentage >= 70 ? 'You passed!' : 'Keep practicing!'}</div>`;

            resultDiv.style.display = 'block';
            document.getElementById('submitQuizBtn').style.display = 'none';

            // Scroll to results
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function resetQuiz() {
            populateQuiz();
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('submitQuizBtn').style.display = 'inline-block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize on page load
        window.onload = function() {
            // Set focus to terminal input
            document.getElementById('commandInput').focus();
        };
    </script>
</body>
</html>