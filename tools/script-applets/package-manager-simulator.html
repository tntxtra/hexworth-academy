<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Manager Simulator - House of Script</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #052e16 0%, #166534 100%);
            color: #86efac;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(22, 101, 52, 0.3);
            border-radius: 10px;
            border: 2px solid #22c55e;
        }

        h1 {
            color: #22c55e;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        .subtitle {
            color: #86efac;
            font-size: 1.1em;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: rgba(22, 101, 52, 0.5);
            border: 2px solid #22c55e;
            color: #86efac;
            cursor: pointer;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .tab-btn:hover {
            background: rgba(34, 197, 94, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
        }

        .tab-btn.active {
            background: #22c55e;
            color: #052e16;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Main Grid Layout */
        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Terminal */
        .terminal-container {
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .terminal-header {
            background: #166534;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-red { background: #ef4444; }
        .dot-yellow { background: #eab308; }
        .dot-green { background: #22c55e; }

        .terminal-title {
            color: #86efac;
            margin-left: 10px;
            font-weight: 600;
        }

        .terminal-body {
            padding: 20px;
            height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .terminal-output {
            color: #86efac;
            margin-bottom: 10px;
        }

        .terminal-prompt {
            color: #22c55e;
            font-weight: bold;
        }

        .terminal-command {
            color: #86efac;
        }

        .terminal-success {
            color: #22c55e;
        }

        .terminal-error {
            color: #ef4444;
        }

        .terminal-warning {
            color: #eab308;
        }

        .terminal-info {
            color: #86efac;
        }

        .terminal-input-area {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: rgba(5, 46, 22, 0.9);
            border-top: 1px solid #22c55e;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #86efac;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
        }

        /* Package List */
        .package-panel {
            background: rgba(22, 101, 52, 0.3);
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 20px;
        }

        .panel-title {
            color: #22c55e;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .package-search {
            width: 100%;
            padding: 10px;
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            border-radius: 6px;
            color: #86efac;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .package-search::placeholder {
            color: rgba(134, 239, 172, 0.5);
        }

        .package-list {
            max-height: 350px;
            overflow-y: auto;
        }

        .package-item {
            padding: 12px;
            margin-bottom: 8px;
            background: rgba(5, 46, 22, 0.6);
            border-radius: 6px;
            border-left: 4px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .package-item:hover {
            background: rgba(22, 101, 52, 0.4);
            transform: translateX(5px);
        }

        .package-item.installed {
            border-left-color: #22c55e;
        }

        .package-item.upgradable {
            border-left-color: #eab308;
        }

        .package-item.available {
            border-left-color: #6b7280;
        }

        .package-name {
            font-weight: 600;
            color: #22c55e;
            margin-bottom: 4px;
        }

        .package-desc {
            font-size: 0.85em;
            color: #86efac;
            opacity: 0.8;
        }

        .package-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            margin-top: 6px;
            font-weight: 600;
        }

        .status-installed {
            background: rgba(34, 197, 94, 0.3);
            color: #22c55e;
            border: 1px solid #22c55e;
        }

        .status-upgradable {
            background: rgba(234, 179, 8, 0.3);
            color: #eab308;
            border: 1px solid #eab308;
        }

        .status-available {
            background: rgba(107, 114, 128, 0.3);
            color: #9ca3af;
            border: 1px solid #6b7280;
        }

        /* Quick Actions */
        .quick-actions {
            background: rgba(22, 101, 52, 0.3);
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .action-btn {
            padding: 12px;
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            color: #86efac;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-align: center;
        }

        .action-btn:hover {
            background: #22c55e;
            color: #052e16;
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
        }

        /* Command Comparison Table */
        .comparison-table {
            width: 100%;
            background: rgba(5, 46, 22, 0.6);
            border-collapse: collapse;
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th {
            background: #166534;
            color: #22c55e;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(34, 197, 94, 0.2);
            color: #86efac;
        }

        .comparison-table tr:hover {
            background: rgba(34, 197, 94, 0.1);
        }

        .comparison-table code {
            background: rgba(34, 197, 94, 0.2);
            padding: 2px 6px;
            border-radius: 3px;
            color: #22c55e;
            font-family: 'Courier New', monospace;
        }

        /* Dependency Tree */
        .dependency-tree {
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .tree-item {
            color: #86efac;
            padding: 4px 0;
            padding-left: 20px;
            position: relative;
        }

        .tree-item::before {
            content: '├─';
            position: absolute;
            left: 0;
            color: #22c55e;
        }

        .tree-item:last-child::before {
            content: '└─';
        }

        .tree-item.level-2 {
            padding-left: 40px;
        }

        .tree-item.level-3 {
            padding-left: 60px;
        }

        /* Quiz Mode */
        .quiz-container {
            background: rgba(22, 101, 52, 0.3);
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 25px;
        }

        .quiz-question {
            color: #22c55e;
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 15px;
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #86efac;
        }

        .quiz-option:hover {
            background: rgba(34, 197, 94, 0.2);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(34, 197, 94, 0.3);
            border-color: #22c55e;
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 6px;
            font-weight: 600;
        }

        .quiz-correct {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 2px solid #22c55e;
        }

        .quiz-incorrect {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 2px solid #ef4444;
        }

        .quiz-next {
            margin-top: 15px;
            padding: 12px 24px;
            background: #22c55e;
            color: #052e16;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .quiz-next:hover {
            background: #86efac;
            transform: scale(1.05);
        }

        .quiz-score {
            text-align: center;
            font-size: 1.2em;
            color: #22c55e;
            margin-bottom: 20px;
        }

        /* Repository Info */
        .repo-info {
            background: rgba(5, 46, 22, 0.8);
            border: 2px solid #22c55e;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .repo-file {
            color: #22c55e;
            font-weight: 600;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }

        .repo-content {
            background: rgba(5, 46, 22, 0.6);
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #86efac;
            line-height: 1.6;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(5, 46, 22, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: #22c55e;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #86efac;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #22c55e;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Removing Animation */
        @keyframes removePackage {
            0% { opacity: 1; transform: translateX(0); }
            50% { opacity: 0.5; transform: translateX(-20px); }
            100% { opacity: 0; transform: translateX(-100%); }
        }

        .removing {
            animation: removePackage 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Package Manager Simulator</h1>
            <p class="subtitle">Master APT and YUM/DNF Package Management | House of Script</p>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn active" onclick="switchTab('apt-manager')">APT Manager (Debian/Ubuntu)</button>
            <button class="tab-btn" onclick="switchTab('yum-manager')">YUM/DNF Manager (RHEL/Fedora)</button>
            <button class="tab-btn" onclick="switchTab('comparison')">Command Comparison</button>
            <button class="tab-btn" onclick="switchTab('repositories')">Repository Management</button>
            <button class="tab-btn" onclick="switchTab('quiz')">Quiz Mode</button>
        </div>

        <!-- APT Manager Tab -->
        <div id="apt-manager" class="tab-content active">
            <div class="quick-actions">
                <h3 class="panel-title">Quick Actions (APT)</h3>
                <div class="action-grid">
                    <button class="action-btn" onclick="runCommand('apt', 'apt update')">Update Package List</button>
                    <button class="action-btn" onclick="runCommand('apt', 'apt upgrade')">Upgrade All Packages</button>
                    <button class="action-btn" onclick="runCommand('apt', 'apt list --installed')">List Installed</button>
                    <button class="action-btn" onclick="runCommand('apt', 'apt autoremove')">Remove Unused</button>
                </div>
            </div>

            <div class="main-grid">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-dot dot-red"></div>
                        <div class="terminal-dot dot-yellow"></div>
                        <div class="terminal-dot dot-green"></div>
                        <span class="terminal-title">user@debian:~$</span>
                    </div>
                    <div class="terminal-body" id="apt-terminal"></div>
                    <div class="terminal-input-area">
                        <span class="terminal-prompt">user@debian:~$ </span>
                        <input type="text" class="terminal-input" id="apt-input" placeholder="Type apt command here..." onkeypress="handleCommand(event, 'apt')">
                    </div>
                </div>

                <div class="package-panel">
                    <h3 class="panel-title">Available Packages</h3>
                    <input type="text" class="package-search" id="apt-search" placeholder="Search packages..." oninput="filterPackages('apt')">
                    <div class="package-list" id="apt-packages"></div>
                </div>
            </div>
        </div>

        <!-- YUM/DNF Manager Tab -->
        <div id="yum-manager" class="tab-content">
            <div class="quick-actions">
                <h3 class="panel-title">Quick Actions (YUM/DNF)</h3>
                <div class="action-grid">
                    <button class="action-btn" onclick="runCommand('yum', 'yum check-update')">Check Updates</button>
                    <button class="action-btn" onclick="runCommand('yum', 'yum update')">Update All Packages</button>
                    <button class="action-btn" onclick="runCommand('yum', 'yum list installed')">List Installed</button>
                    <button class="action-btn" onclick="runCommand('yum', 'yum clean all')">Clean Cache</button>
                </div>
            </div>

            <div class="main-grid">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-dot dot-red"></div>
                        <div class="terminal-dot dot-yellow"></div>
                        <div class="terminal-dot dot-green"></div>
                        <span class="terminal-title">user@fedora:~$</span>
                    </div>
                    <div class="terminal-body" id="yum-terminal"></div>
                    <div class="terminal-input-area">
                        <span class="terminal-prompt">user@fedora:~$ </span>
                        <input type="text" class="terminal-input" id="yum-input" placeholder="Type yum/dnf command here..." onkeypress="handleCommand(event, 'yum')">
                    </div>
                </div>

                <div class="package-panel">
                    <h3 class="panel-title">Available Packages</h3>
                    <input type="text" class="package-search" id="yum-search" placeholder="Search packages..." oninput="filterPackages('yum')">
                    <div class="package-list" id="yum-packages"></div>
                </div>
            </div>
        </div>

        <!-- Command Comparison Tab -->
        <div id="comparison" class="tab-content">
            <div class="package-panel">
                <h3 class="panel-title">APT vs YUM/DNF Command Comparison</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>APT (Debian/Ubuntu)</th>
                            <th>YUM (RHEL/CentOS)</th>
                            <th>DNF (Fedora)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Update package list</td>
                            <td><code>apt update</code></td>
                            <td><code>yum check-update</code></td>
                            <td><code>dnf check-update</code></td>
                        </tr>
                        <tr>
                            <td>Install package</td>
                            <td><code>apt install package</code></td>
                            <td><code>yum install package</code></td>
                            <td><code>dnf install package</code></td>
                        </tr>
                        <tr>
                            <td>Remove package</td>
                            <td><code>apt remove package</code></td>
                            <td><code>yum remove package</code></td>
                            <td><code>dnf remove package</code></td>
                        </tr>
                        <tr>
                            <td>Upgrade all packages</td>
                            <td><code>apt upgrade</code></td>
                            <td><code>yum update</code></td>
                            <td><code>dnf upgrade</code></td>
                        </tr>
                        <tr>
                            <td>Search for package</td>
                            <td><code>apt search keyword</code></td>
                            <td><code>yum search keyword</code></td>
                            <td><code>dnf search keyword</code></td>
                        </tr>
                        <tr>
                            <td>Show package info</td>
                            <td><code>apt show package</code></td>
                            <td><code>yum info package</code></td>
                            <td><code>dnf info package</code></td>
                        </tr>
                        <tr>
                            <td>List installed packages</td>
                            <td><code>apt list --installed</code></td>
                            <td><code>yum list installed</code></td>
                            <td><code>dnf list installed</code></td>
                        </tr>
                        <tr>
                            <td>Remove unused dependencies</td>
                            <td><code>apt autoremove</code></td>
                            <td><code>yum autoremove</code></td>
                            <td><code>dnf autoremove</code></td>
                        </tr>
                        <tr>
                            <td>Clean package cache</td>
                            <td><code>apt clean</code></td>
                            <td><code>yum clean all</code></td>
                            <td><code>dnf clean all</code></td>
                        </tr>
                        <tr>
                            <td>Download package without installing</td>
                            <td><code>apt download package</code></td>
                            <td><code>yumdownloader package</code></td>
                            <td><code>dnf download package</code></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Repository Management Tab -->
        <div id="repositories" class="tab-content">
            <div class="package-panel">
                <h3 class="panel-title">APT Repository Configuration</h3>
                <div class="repo-info">
                    <div class="repo-file">/etc/apt/sources.list</div>
                    <div class="repo-content">
# Debian/Ubuntu APT repository sources
# Format: deb [arch] repository_url distribution component

# Main repositories
deb http://archive.ubuntu.com/ubuntu/ jammy main restricted
deb http://archive.ubuntu.com/ubuntu/ jammy universe multiverse

# Security updates
deb http://security.ubuntu.com/ubuntu jammy-security main restricted
deb http://security.ubuntu.com/ubuntu jammy-security universe multiverse

# Updates
deb http://archive.ubuntu.com/ubuntu/ jammy-updates main restricted
deb http://archive.ubuntu.com/ubuntu/ jammy-updates universe multiverse

# Source repositories (commented out)
# deb-src http://archive.ubuntu.com/ubuntu/ jammy main restricted</div>
                </div>
                <div style="margin-top: 15px; color: #86efac; line-height: 1.8;">
                    <strong style="color: #22c55e;">Key Components:</strong><br>
                    • <strong>main</strong> - Officially supported open source software<br>
                    • <strong>restricted</strong> - Proprietary drivers for devices<br>
                    • <strong>universe</strong> - Community-maintained open source software<br>
                    • <strong>multiverse</strong> - Software restricted by copyright or legal issues<br><br>
                    <strong style="color: #22c55e;">Managing Repositories:</strong><br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">add-apt-repository ppa:user/ppa-name</code> - Add PPA<br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">apt-key add keyfile</code> - Add repository key<br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">apt update</code> - Refresh package lists from repositories
                </div>
            </div>

            <div class="package-panel" style="margin-top: 20px;">
                <h3 class="panel-title">YUM/DNF Repository Configuration</h3>
                <div class="repo-info">
                    <div class="repo-file">/etc/yum.repos.d/fedora.repo</div>
                    <div class="repo-content">
# Fedora YUM/DNF repository configuration
# Format: INI-style configuration file

[fedora]
name=Fedora $releasever - $basearch
#baseurl=http://download.example/pub/fedora/linux/releases/$releasever/Everything/$basearch/os/
metalink=https://mirrors.fedoraproject.org/metalink?repo=fedora-$releasever&arch=$basearch
enabled=1
countme=1
metadata_expire=7d
repo_gpgcheck=0
type=rpm
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch
skip_if_unavailable=False

[fedora-updates]
name=Fedora $releasever - $basearch - Updates
#baseurl=http://download.example/pub/fedora/linux/updates/$releasever/Everything/$basearch/
metalink=https://mirrors.fedoraproject.org/metalink?repo=updates-released-f$releasever&arch=$basearch
enabled=1
repo_gpgcheck=0
type=rpm
gpgcheck=1
metadata_expire=6h
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch
skip_if_unavailable=False</div>
                </div>
                <div style="margin-top: 15px; color: #86efac; line-height: 1.8;">
                    <strong style="color: #22c55e;">Key Directives:</strong><br>
                    • <strong>name</strong> - Human-readable repository name<br>
                    • <strong>baseurl/metalink</strong> - Repository URL location<br>
                    • <strong>enabled</strong> - Enable (1) or disable (0) the repository<br>
                    • <strong>gpgcheck</strong> - Verify package signatures (1=yes, 0=no)<br>
                    • <strong>gpgkey</strong> - Location of GPG key for verification<br><br>
                    <strong style="color: #22c55e;">Managing Repositories:</strong><br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">yum repolist</code> - List enabled repositories<br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">yum-config-manager --add-repo url</code> - Add repository<br>
                    • <code style="background: rgba(34, 197, 94, 0.2); padding: 2px 6px; border-radius: 3px;">dnf config-manager --set-enabled repo</code> - Enable repository
                </div>
            </div>
        </div>

        <!-- Quiz Mode Tab -->
        <div id="quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-score">Score: <span id="quiz-score">0</span> / <span id="quiz-total">0</span></div>
                <div class="quiz-question" id="quiz-question"></div>
                <div class="quiz-options" id="quiz-options"></div>
                <div id="quiz-feedback"></div>
            </div>
        </div>
    </div>

    <script>
        // Package Database
        const packageDatabase = {
            nginx: {
                name: 'nginx',
                description: 'High-performance HTTP server and reverse proxy',
                dependencies: ['libssl1.1', 'zlib1g'],
                size: '1.2 MB',
                version: '1.18.0'
            },
            'apache2': {
                name: 'apache2',
                description: 'Apache HTTP Server - the world\'s most popular web server',
                dependencies: ['libapr1', 'libaprutil1', 'libpcre3'],
                size: '1.5 MB',
                version: '2.4.52'
            },
            'mysql-server': {
                name: 'mysql-server',
                description: 'MySQL database server binaries and system database setup',
                dependencies: ['mysql-client', 'libmysqlclient21', 'perl'],
                size: '45 MB',
                version: '8.0.28'
            },
            python3: {
                name: 'python3',
                description: 'Interactive high-level object-oriented language (version 3)',
                dependencies: ['python3-minimal', 'libpython3.9'],
                size: '4.8 MB',
                version: '3.9.7'
            },
            git: {
                name: 'git',
                description: 'Fast, scalable, distributed revision control system',
                dependencies: ['libcurl4', 'liberror-perl', 'git-man'],
                size: '15 MB',
                version: '2.34.1'
            },
            vim: {
                name: 'vim',
                description: 'Vi IMproved - enhanced vi editor',
                dependencies: ['vim-common', 'vim-runtime', 'libacl1'],
                size: '3.2 MB',
                version: '8.2.3995'
            },
            curl: {
                name: 'curl',
                description: 'Command line tool for transferring data with URL syntax',
                dependencies: ['libcurl4', 'ca-certificates'],
                size: '450 KB',
                version: '7.81.0'
            },
            wget: {
                name: 'wget',
                description: 'Retrieves files from the web',
                dependencies: ['libssl1.1', 'libidn2-0'],
                size: '980 KB',
                version: '1.21.2'
            },
            'openssh-server': {
                name: 'openssh-server',
                description: 'Secure shell (SSH) server for secure access from remote machines',
                dependencies: ['openssh-client', 'libpam-modules', 'libwrap0'],
                size: '1.8 MB',
                version: '8.9p1'
            },
            docker: {
                name: 'docker',
                description: 'Open source application container engine',
                dependencies: ['containerd', 'libseccomp2', 'iptables'],
                size: '75 MB',
                version: '20.10.12'
            }
        };

        // Package state for each manager
        const packageState = {
            apt: {},
            yum: {}
        };

        // Initialize package states
        Object.keys(packageDatabase).forEach(pkg => {
            packageState.apt[pkg] = { installed: false, upgradable: false };
            packageState.yum[pkg] = { installed: false, upgradable: false };
        });

        // Install some packages by default
        ['python3', 'curl', 'wget'].forEach(pkg => {
            packageState.apt[pkg].installed = true;
            packageState.yum[pkg].installed = true;
        });

        // Quiz questions
        const quizQuestions = [
            {
                question: 'What command updates the package list in APT?',
                options: ['apt update', 'apt upgrade', 'apt refresh', 'apt sync'],
                correct: 0,
                explanation: 'apt update synchronizes the package index files from their sources.'
            },
            {
                question: 'Which YUM command removes a package and its dependencies?',
                options: ['yum delete package', 'yum remove package', 'yum erase package', 'yum uninstall package'],
                correct: 1,
                explanation: 'yum remove (or yum erase) removes the specified package and unused dependencies.'
            },
            {
                question: 'What file contains APT repository sources in Debian/Ubuntu?',
                options: ['/etc/apt/repos.list', '/etc/apt/sources.list', '/etc/sources.d/apt.list', '/etc/repositories.list'],
                correct: 1,
                explanation: '/etc/apt/sources.list is the main configuration file for APT package sources.'
            },
            {
                question: 'Which command cleans the YUM cache?',
                options: ['yum clear', 'yum clean all', 'yum remove cache', 'yum flush'],
                correct: 1,
                explanation: 'yum clean all removes all cached data including packages, headers, and metadata.'
            },
            {
                question: 'What is the DNF equivalent of "apt upgrade"?',
                options: ['dnf update', 'dnf upgrade', 'dnf install --upgrade', 'dnf refresh'],
                correct: 1,
                explanation: 'dnf upgrade updates all installed packages to their latest versions.'
            },
            {
                question: 'Which APT command removes unused dependencies?',
                options: ['apt clean', 'apt purge', 'apt autoremove', 'apt autoclean'],
                correct: 2,
                explanation: 'apt autoremove removes packages that were automatically installed and are no longer needed.'
            },
            {
                question: 'Where are YUM repository configuration files stored?',
                options: ['/etc/yum.conf', '/etc/yum.repos.d/', '/etc/yum/repos/', '/etc/repositories/yum/'],
                correct: 1,
                explanation: '/etc/yum.repos.d/ directory contains individual .repo files for each repository.'
            },
            {
                question: 'What does "apt search nginx" do?',
                options: ['Install nginx', 'Search package descriptions for "nginx"', 'Show nginx information', 'Download nginx'],
                correct: 1,
                explanation: 'apt search searches package descriptions and names for the specified keyword.'
            },
            {
                question: 'Which command shows detailed information about a YUM package?',
                options: ['yum show package', 'yum info package', 'yum describe package', 'yum details package'],
                correct: 1,
                explanation: 'yum info displays detailed information about the specified package.'
            },
            {
                question: 'What is the difference between "apt remove" and "apt purge"?',
                options: [
                    'No difference',
                    'purge also removes configuration files',
                    'remove is faster',
                    'purge requires confirmation'
                ],
                correct: 1,
                explanation: 'apt purge removes the package and its configuration files, while apt remove keeps config files.'
            }
        ];

        let currentQuizQuestion = 0;
        let quizScore = 0;
        let quizAnswered = false;

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'quiz' && currentQuizQuestion === 0) {
                loadQuizQuestion();
            }
        }

        // Initialize package displays
        function initPackages() {
            renderPackages('apt');
            renderPackages('yum');
        }

        // Render package list
        function renderPackages(manager) {
            const container = document.getElementById(`${manager}-packages`);
            const searchTerm = document.getElementById(`${manager}-search`).value.toLowerCase();

            container.innerHTML = '';

            Object.keys(packageDatabase).forEach(pkgName => {
                const pkg = packageDatabase[pkgName];
                const state = packageState[manager][pkgName];

                if (searchTerm && !pkg.name.includes(searchTerm) && !pkg.description.toLowerCase().includes(searchTerm)) {
                    return;
                }

                const div = document.createElement('div');
                div.className = `package-item ${state.installed ? 'installed' : 'available'}`;
                div.onclick = () => showPackageDetails(manager, pkgName);

                let statusClass = 'status-available';
                let statusText = 'Available';
                if (state.installed) {
                    statusClass = 'status-installed';
                    statusText = 'Installed';
                }
                if (state.upgradable) {
                    statusClass = 'status-upgradable';
                    statusText = 'Upgradable';
                }

                div.innerHTML = `
                    <div class="package-name">${pkg.name}</div>
                    <div class="package-desc">${pkg.description}</div>
                    <span class="package-status ${statusClass}">${statusText}</span>
                `;

                container.appendChild(div);
            });
        }

        // Filter packages
        function filterPackages(manager) {
            renderPackages(manager);
        }

        // Show package details
        function showPackageDetails(manager, pkgName) {
            const pkg = packageDatabase[pkgName];
            const state = packageState[manager][pkgName];
            const cmd = manager === 'apt' ? 'apt show' : 'yum info';

            runCommand(manager, `${cmd} ${pkgName}`);
        }

        // Handle terminal command input
        function handleCommand(event, manager) {
            if (event.key === 'Enter') {
                const input = document.getElementById(`${manager}-input`);
                const command = input.value.trim();

                if (command) {
                    runCommand(manager, command);
                    input.value = '';
                }
            }
        }

        // Run command simulation
        function runCommand(manager, command) {
            const terminal = document.getElementById(`${manager}-terminal`);
            const parts = command.split(' ');
            const cmd = parts[0];
            const action = parts[1];
            const packageName = parts[2];

            // Add command to terminal
            addTerminalLine(terminal, `<span class="terminal-prompt">${manager === 'apt' ? 'user@debian' : 'user@fedora'}:~$</span> <span class="terminal-command">${command}</span>`);

            // Simulate command execution delay
            setTimeout(() => {
                executeCommand(manager, cmd, action, packageName, terminal);
            }, 300);
        }

        // Execute command logic
        function executeCommand(manager, cmd, action, packageName, terminal) {
            const isApt = manager === 'apt';
            const validCmd = isApt ? 'apt' : ['yum', 'dnf'].includes(cmd);

            if (!validCmd) {
                addTerminalLine(terminal, `<span class="terminal-error">Command not found: ${cmd}</span>`, 'error');
                return;
            }

            switch (action) {
                case 'update':
                case 'check-update':
                    handleUpdate(manager, terminal);
                    break;

                case 'upgrade':
                    handleUpgrade(manager, terminal);
                    break;

                case 'install':
                    if (packageName) {
                        handleInstall(manager, packageName, terminal);
                    } else {
                        addTerminalLine(terminal, `<span class="terminal-error">Error: No package specified</span>`, 'error');
                    }
                    break;

                case 'remove':
                case 'erase':
                    if (packageName) {
                        handleRemove(manager, packageName, terminal);
                    } else {
                        addTerminalLine(terminal, `<span class="terminal-error">Error: No package specified</span>`, 'error');
                    }
                    break;

                case 'search':
                    if (packageName) {
                        handleSearch(manager, packageName, terminal);
                    } else {
                        addTerminalLine(terminal, `<span class="terminal-error">Error: No search term specified</span>`, 'error');
                    }
                    break;

                case 'list':
                case 'show':
                case 'info':
                    if (packageName) {
                        handleInfo(manager, packageName, terminal);
                    } else if (action === 'list' && cmd === 'apt' && parts[2] === '--installed') {
                        handleListInstalled(manager, terminal);
                    } else if (action === 'list' && cmd === 'yum' && parts[2] === 'installed') {
                        handleListInstalled(manager, terminal);
                    } else {
                        addTerminalLine(terminal, `<span class="terminal-error">Error: No package specified</span>`, 'error');
                    }
                    break;

                case 'autoremove':
                    handleAutoremove(manager, terminal);
                    break;

                case 'clean':
                    handleClean(manager, terminal);
                    break;

                default:
                    addTerminalLine(terminal, `<span class="terminal-error">Unknown action: ${action}</span>`, 'error');
            }

            // Scroll to bottom
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Command handlers
        function handleUpdate(manager, terminal) {
            addTerminalLine(terminal, `<span class="terminal-info">Reading package lists... <span class="loading"></span></span>`);

            setTimeout(() => {
                addTerminalLine(terminal, `<span class="terminal-success">Package list updated successfully</span>`);
                addTerminalLine(terminal, `<span class="terminal-info">Fetched ${Object.keys(packageDatabase).length} packages from repositories</span>`);

                // Mark some packages as upgradable
                const upgradables = ['nginx', 'git'];
                upgradables.forEach(pkg => {
                    if (packageState[manager][pkg].installed) {
                        packageState[manager][pkg].upgradable = true;
                    }
                });

                renderPackages(manager);
            }, 1000);
        }

        function handleUpgrade(manager, terminal) {
            const upgradables = Object.keys(packageState[manager]).filter(pkg =>
                packageState[manager][pkg].installed && packageState[manager][pkg].upgradable
            );

            if (upgradables.length === 0) {
                addTerminalLine(terminal, `<span class="terminal-info">All packages are up to date</span>`);
                return;
            }

            addTerminalLine(terminal, `<span class="terminal-info">Upgrading ${upgradables.length} package(s)...</span>`);

            upgradables.forEach((pkg, index) => {
                setTimeout(() => {
                    addTerminalLine(terminal, `<span class="terminal-success">Upgraded: ${pkg}</span>`);
                    packageState[manager][pkg].upgradable = false;

                    if (index === upgradables.length - 1) {
                        renderPackages(manager);
                    }
                }, 300 * (index + 1));
            });
        }

        function handleInstall(manager, packageName, terminal) {
            if (!packageDatabase[packageName]) {
                addTerminalLine(terminal, `<span class="terminal-error">Package '${packageName}' not found</span>`, 'error');
                return;
            }

            if (packageState[manager][packageName].installed) {
                addTerminalLine(terminal, `<span class="terminal-warning">${packageName} is already installed</span>`, 'warning');
                return;
            }

            const pkg = packageDatabase[packageName];
            addTerminalLine(terminal, `<span class="terminal-info">Installing ${packageName}...</span>`);

            // Show dependencies
            if (pkg.dependencies.length > 0) {
                addTerminalLine(terminal, `<span class="terminal-info">The following additional packages will be installed:</span>`);
                addTerminalLine(terminal, `<span class="terminal-info">  ${pkg.dependencies.join(' ')}</span>`);

                // Show dependency tree
                const treeHTML = `
                    <div class="dependency-tree">
                        <div style="color: #22c55e; font-weight: bold; margin-bottom: 8px;">Dependency Tree:</div>
                        <div class="tree-item">${packageName} (${pkg.size})</div>
                        ${pkg.dependencies.map(dep => `<div class="tree-item level-2">${dep}</div>`).join('')}
                    </div>
                `;
                terminal.innerHTML += treeHTML;
            }

            setTimeout(() => {
                addTerminalLine(terminal, `<span class="terminal-success">Successfully installed ${packageName}</span>`);
                packageState[manager][packageName].installed = true;
                renderPackages(manager);
            }, 1500);
        }

        function handleRemove(manager, packageName, terminal) {
            if (!packageDatabase[packageName]) {
                addTerminalLine(terminal, `<span class="terminal-error">Package '${packageName}' not found</span>`, 'error');
                return;
            }

            if (!packageState[manager][packageName].installed) {
                addTerminalLine(terminal, `<span class="terminal-warning">${packageName} is not installed</span>`, 'warning');
                return;
            }

            addTerminalLine(terminal, `<span class="terminal-info">Removing ${packageName}...</span>`);

            setTimeout(() => {
                addTerminalLine(terminal, `<span class="terminal-success">Successfully removed ${packageName}</span>`);
                packageState[manager][packageName].installed = false;
                packageState[manager][packageName].upgradable = false;
                renderPackages(manager);
            }, 1000);
        }

        function handleSearch(manager, searchTerm, terminal) {
            addTerminalLine(terminal, `<span class="terminal-info">Searching for '${searchTerm}'...</span>`);

            const results = Object.keys(packageDatabase).filter(pkg =>
                pkg.includes(searchTerm) || packageDatabase[pkg].description.toLowerCase().includes(searchTerm.toLowerCase())
            );

            setTimeout(() => {
                if (results.length === 0) {
                    addTerminalLine(terminal, `<span class="terminal-warning">No packages found matching '${searchTerm}'</span>`, 'warning');
                } else {
                    results.forEach(pkg => {
                        const info = packageDatabase[pkg];
                        const status = packageState[manager][pkg].installed ? '[installed]' : '';
                        addTerminalLine(terminal, `<span class="terminal-success">${pkg}</span> ${status}`);
                        addTerminalLine(terminal, `<span class="terminal-info">  ${info.description}</span>`);
                    });
                }
            }, 500);
        }

        function handleInfo(manager, packageName, terminal) {
            if (!packageDatabase[packageName]) {
                addTerminalLine(terminal, `<span class="terminal-error">Package '${packageName}' not found</span>`, 'error');
                return;
            }

            const pkg = packageDatabase[packageName];
            const state = packageState[manager][packageName];

            addTerminalLine(terminal, `<span style="color: #22c55e; font-weight: bold;">Package: ${pkg.name}</span>`);
            addTerminalLine(terminal, `<span class="terminal-info">Version: ${pkg.version}</span>`);
            addTerminalLine(terminal, `<span class="terminal-info">Size: ${pkg.size}</span>`);
            addTerminalLine(terminal, `<span class="terminal-info">Status: ${state.installed ? 'Installed' : 'Not installed'}</span>`);
            addTerminalLine(terminal, `<span class="terminal-info">Description: ${pkg.description}</span>`);
            addTerminalLine(terminal, `<span class="terminal-info">Dependencies: ${pkg.dependencies.join(', ')}</span>`);
        }

        function handleListInstalled(manager, terminal) {
            const installed = Object.keys(packageState[manager]).filter(pkg => packageState[manager][pkg].installed);

            if (installed.length === 0) {
                addTerminalLine(terminal, `<span class="terminal-info">No packages installed</span>`);
            } else {
                addTerminalLine(terminal, `<span class="terminal-info">Installed packages (${installed.length}):</span>`);
                installed.forEach(pkg => {
                    const info = packageDatabase[pkg];
                    addTerminalLine(terminal, `<span class="terminal-success">${pkg}</span> <span class="terminal-info">${info.version}</span>`);
                });
            }
        }

        function handleAutoremove(manager, terminal) {
            addTerminalLine(terminal, `<span class="terminal-info">Removing unused dependencies...</span>`);
            setTimeout(() => {
                addTerminalLine(terminal, `<span class="terminal-success">Removed 0 unused packages</span>`);
                addTerminalLine(terminal, `<span class="terminal-info">System is clean</span>`);
            }, 800);
        }

        function handleClean(manager, terminal) {
            addTerminalLine(terminal, `<span class="terminal-info">Cleaning package cache...</span>`);
            setTimeout(() => {
                addTerminalLine(terminal, `<span class="terminal-success">Cache cleaned successfully</span>`);
                addTerminalLine(terminal, `<span class="terminal-info">Freed 125 MB of disk space</span>`);
            }, 600);
        }

        // Add line to terminal
        function addTerminalLine(terminal, html, type = '') {
            const div = document.createElement('div');
            div.className = 'terminal-output';
            div.innerHTML = html;
            terminal.appendChild(div);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Quiz functions
        function loadQuizQuestion() {
            if (currentQuizQuestion >= quizQuestions.length) {
                showQuizResults();
                return;
            }

            const q = quizQuestions[currentQuizQuestion];
            document.getElementById('quiz-question').textContent = `Question ${currentQuizQuestion + 1}: ${q.question}`;

            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';

            q.options.forEach((option, index) => {
                const div = document.createElement('div');
                div.className = 'quiz-option';
                div.textContent = option;
                div.onclick = () => selectQuizAnswer(index);
                optionsContainer.appendChild(div);
            });

            document.getElementById('quiz-feedback').innerHTML = '';
            quizAnswered = false;

            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('quiz-total').textContent = currentQuizQuestion;
        }

        function selectQuizAnswer(selectedIndex) {
            if (quizAnswered) return;

            quizAnswered = true;
            const q = quizQuestions[currentQuizQuestion];
            const options = document.querySelectorAll('.quiz-option');

            options[selectedIndex].classList.add(selectedIndex === q.correct ? 'correct' : 'incorrect');
            if (selectedIndex !== q.correct) {
                options[q.correct].classList.add('correct');
            }

            const isCorrect = selectedIndex === q.correct;
            if (isCorrect) quizScore++;

            const feedback = document.getElementById('quiz-feedback');
            feedback.className = `quiz-feedback ${isCorrect ? 'quiz-correct' : 'quiz-incorrect'}`;
            feedback.innerHTML = `
                ${isCorrect ? 'Correct!' : 'Incorrect!'}<br>
                ${q.explanation}
                <br><button class="quiz-next" onclick="nextQuestion()">Next Question</button>
            `;

            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('quiz-total').textContent = currentQuizQuestion + 1;
        }

        function nextQuestion() {
            currentQuizQuestion++;
            loadQuizQuestion();
        }

        function showQuizResults() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            const feedback = document.getElementById('quiz-feedback');

            document.getElementById('quiz-question').textContent = 'Quiz Complete!';
            document.getElementById('quiz-options').innerHTML = '';

            let message = '';
            if (percentage >= 90) {
                message = 'Excellent! You\'re a package management expert!';
            } else if (percentage >= 70) {
                message = 'Great job! You have a solid understanding of package managers.';
            } else if (percentage >= 50) {
                message = 'Good effort! Keep practicing to improve your skills.';
            } else {
                message = 'Keep learning! Review the commands and try again.';
            }

            feedback.className = 'quiz-feedback quiz-correct';
            feedback.innerHTML = `
                <h2 style="color: #22c55e; margin-bottom: 15px;">Final Score: ${quizScore}/${quizQuestions.length} (${percentage}%)</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">${message}</p>
                <button class="quiz-next" onclick="resetQuiz()">Restart Quiz</button>
            `;
        }

        function resetQuiz() {
            currentQuizQuestion = 0;
            quizScore = 0;
            quizAnswered = false;
            loadQuizQuestion();
        }

        // Initialize on load
        window.onload = () => {
            initPackages();

            // Add welcome messages to terminals
            const aptTerminal = document.getElementById('apt-terminal');
            const yumTerminal = document.getElementById('yum-terminal');

            addTerminalLine(aptTerminal, '<span class="terminal-success">Welcome to APT Package Manager Simulator</span>');
            addTerminalLine(aptTerminal, '<span class="terminal-info">Type commands like: apt update, apt install nginx, apt search python</span>');
            addTerminalLine(aptTerminal, '<span class="terminal-info">Or use the Quick Actions buttons above</span>');
            addTerminalLine(aptTerminal, '');

            addTerminalLine(yumTerminal, '<span class="terminal-success">Welcome to YUM/DNF Package Manager Simulator</span>');
            addTerminalLine(yumTerminal, '<span class="terminal-info">Type commands like: yum update, yum install nginx, yum search python</span>');
            addTerminalLine(yumTerminal, '<span class="terminal-info">Or use the Quick Actions buttons above</span>');
            addTerminalLine(yumTerminal, '');
        };
    </script>
</body>
</html>
